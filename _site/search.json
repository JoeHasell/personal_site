[
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html",
    "title": "Joe Hasell",
    "section": "",
    "text": "fix newline in minified js file #780"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-1",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-1",
    "title": "Joe Hasell",
    "section": "2.33.2",
    "text": "2.33.2\n\nBugfix\n\nfix scroll to bottom #777"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-2",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-2",
    "title": "Joe Hasell",
    "section": "2.33.1",
    "text": "2.33.1\n\nBugfix\n\nfix padding removed by minifier"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-3",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-3",
    "title": "Joe Hasell",
    "section": "2.33.0",
    "text": "2.33.0\n\nFeatures\n\nadd a color and background attributes to the font tag in the xml formatter\nadd terminal-none animation\nallow to easily change border-radius on terminal #766\nadd clear_cache to cmd ### Bugfix\nfix flicker of dynamic prompt on enter #757\nfix re-rendering of jQuery/DOM nodes #759\nfix regression in less + images\nfix embedding the Terminal inside SVG #744\nfix when the login function is not async\nfix calling login_name in dynamic prompt\nfix masking command on typing animation #770\nfix selection/click on text that was echo without newline (when prompt is still in same line)\nfix exception when outputLimit is used #776\nfix showing links for emails like prompt #768\nfix line wrapping when text between formatting have brackets #772"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-4",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-4",
    "title": "Joe Hasell",
    "section": "2.32.1",
    "text": "2.32.1\n\nBugfix\n\nleading spaces with echo + keepWords #754\nfix loading hidden terminal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-5",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-5",
    "title": "Joe Hasell",
    "section": "2.32.0",
    "text": "2.32.0\n\nFeatures\n\nadd insert typing animation\nadd --text-shadow css variable\nnew API method parse_formatting\nallow to use terminal style of external element #731 ### Bugfix\nfix calculating number of rows (affecting less command)\nfix glow with prism and error messages #729\nfix prism and typing animation #726\nfix various TypeScript typing errors\nfix spacing between lines\nfix wrong mouse cursor on terminal cursor and character before\nfix catastrophic reflow when executing hundreds of echos in a loop\nfix empty lines in prompt (visible when using typing animation) #734\nfix trimming whitespace with echo keep_words #738\nfix JSON working on processing nested formatting with html entities #735\nfix echo array of numbers #747\nimprove performance when terminal don’t have height\nfix partial text (echo without newline) rendering #751"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-6",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-6",
    "title": "Joe Hasell",
    "section": "2.31.1",
    "text": "2.31.1\n\nBugfix\n\nfixing low severity self XSS with potential more security implications #727"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-7",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-7",
    "title": "Joe Hasell",
    "section": "2.31.0",
    "text": "2.31.0\n\nBreaking\n\nremove undocumented echo_command (that was used by old echo_newline extension) ### Features\nscroll to bottom for each line in multiline typing animation\nallow to use --glow: 1 with default animation\nnew API terminal::enter same as echo_command but supports animation\nadd global option execAnimationDelay default - 100\nmake execAnimation work only with execHash #723 ### Bugfix\nfix prompt that return string or promise (in animation and set_prompt) #724\nfix formatting in typing animation #721\nfix formatting colors and --glow #725\nfix record stop command being recorded #719"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-8",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-8",
    "title": "Joe Hasell",
    "section": "2.30.2",
    "text": "2.30.2\n\nBugfix\n\nfix animated exec array with sync commands #722"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-9",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-9",
    "title": "Joe Hasell",
    "section": "2.30.1",
    "text": "2.30.1\n\nBugfix\n\nfix record built-in commands in URL hash"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-10",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-10",
    "title": "Joe Hasell",
    "section": "2.30.0",
    "text": "2.30.0\n\nFeatures\n\nadd span to xml formatting\nallow to use class attribute in XML formatting (span, link, and img)\nnew API methods clear_buffer() and get_output_buffer() #717 ### Bugfix\nfix bug on Android with GBoard keyboard #693\nfix refresh when scrollbar appear (using scrollbar-gutter)\nfix link color to pass WCAG contrast ratio\nremove tabindex attribute on links\nadd label to clipboard textarea for a11y\nallow to escape angle brackets in XML formatting #710\nfix black line before the image #708\nfix scroll to bottom when echo an image #716\nfix multiple echo with !flush && !newline #709\nfix updating hash for long async commands #703"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-11",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-11",
    "title": "Joe Hasell",
    "section": "2.29.5",
    "text": "2.29.5\n\nBugfix\n\nfix empty prompt when no wcwidth is included"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-12",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-12",
    "title": "Joe Hasell",
    "section": "2.29.4",
    "text": "2.29.4\n\nBugfix\n\nfix empty lines when print single multi-line string"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-13",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-13",
    "title": "Joe Hasell",
    "section": "2.29.3",
    "text": "2.29.3\n\nBugfix\n\nfix echo raw interfering with echo without newline #695\nupdate hash with proper array if hash is escaped\ninvalidate cache and update CMD on term::refresh() #699\nallow to add horizontal scrollbar with single wrap options #692\nhandle promise rejection in onInit #691"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-14",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-14",
    "title": "Joe Hasell",
    "section": "2.29.2",
    "text": "2.29.2\n\nBugfix\n\nfix linkify of urls (better url detection)\nfix linkify urls in command line (enable link in cmd)\nfix two bugs with echo without newline (when prompt have 0 width and lines have different length)\nfix applying glow shadow to transparent text\nfix async responsive greetings\nfix multiple echo of async functions and promises mixed with strings\nfix get_output() on lines that are promises #687\nfix echo newline when one of the values is promise or function\nfix invalid css when partial output is no longer partial\nadd padding to terminal size i term::geometry() #686\nclear extended commands from view when calling import_view #690"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-15",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-15",
    "title": "Joe Hasell",
    "section": "2.29.1",
    "text": "2.29.1\n\nBugfix\n\nremove all: unset CSS that was breaking resizing events and visibility of textarea"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-16",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-16",
    "title": "Joe Hasell",
    "section": "2.29.0",
    "text": "2.29.0\n\nBreaking\n\nremove undocumented <large>/<big>/<wide> and add <font> tag to XML formatter ### Feature\nadd animation to exec and execAnimation option #679\nadd warning when calling invoke_key on disabled terminal #678\nif interpreter returns a promise and it’s animating the terminal will not pause (for exec array)\nallow to use brackets inside extended commands (e.g. JavaScript code to hide commands)\nexpose $.terminal.xml_formatter.tags\nadd --glow conditional hack ### Bugfix\ntweak types for cmd function prompt\nfix broken order of execution in exec when using pause/resume\nfix mixing extended commands and terminal formatting\nfix invoking get_command() in interpreter (clear command after user action)\nfix parse_command when command have leading spaces #681"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-17",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-17",
    "title": "Joe Hasell",
    "section": "2.28.1",
    "text": "2.28.1\n\nBugfix\n\nfix applying style of text-decoration (e.g. underline)\nfix using custom font in Canvas animations"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-18",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-18",
    "title": "Joe Hasell",
    "section": "2.28.0",
    "text": "2.28.0\n\nBreaking\n\nnested_formatting inherit styles by default ### Feature\nadd forms extension #610\nrewrite xml_formatter and add new tags\nadd animation interface #611\nuse dash - as input file to read from STDIN in from-ansi executable\nimprove auth error message\nadd “enter” typing animation with prefix prompt\nallow to render ansi in less correctly (using ansi option) ### Bugfix\nfix rest of the extension files in NodeJS (regression since 2.22.0)\nfix inheritance of attributes (including styles) and classes in nested formatting\nfix echo and prompt with animation (using typing options)\nfix empty prompt\ndisable keyboard on typing animation\nfix resizing when using default cache #677"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-19",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-19",
    "title": "Joe Hasell",
    "section": "2.27.1",
    "text": "2.27.1\n\nBugfix\n\nfix from_ansi and add option --ansi -a"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-20",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-20",
    "title": "Joe Hasell",
    "section": "2.27.0",
    "text": "2.27.0\n\nFeature\n\nadd CSS and option ansi to echo to properly render ANSI art\nadd typing animation to set_prompt #673\nreturn promise from set_prompt and echo when using typing animation\nadd from_ansi executable #670\nnew emoji ### Bugfix\nfix bug in cache (when echo same string two times in a row) #672\nfix exception when calling term::echo with typing animation\nfix regression in width (chess demo)\nfix usage in NodeJS (regression since 2.22.0)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-21",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-21",
    "title": "Joe Hasell",
    "section": "2.26.0",
    "text": "2.26.0\n\nFeature\n\nBetter API for prompt typing animation with term::read and term::echo ### Bugfix\nfix return value from JSON-RPC (ignore only null)\nfix missing TypeScript definitions for typing API method\nfix multi-line prompt regression\nremove extra space after prompt animation\nfix echo string with newline at the end and with newline == false and refresh\nfix $.rpc helper on Ajax error\nadd default useCache option & TypeScript definition\nfix regression in text selection over prompt with fontawesome (Chrome bug #1087787)\nfix cutting off underscore in certain sizes of the terminal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-22",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-22",
    "title": "Joe Hasell",
    "section": "2.25.1",
    "text": "2.25.1\n\nBugfix\n\nfix wrong auth tokens when using exec to login\nfix exec array for async login\nfix Auth to nested RPC interpreter without system.describe\ndon’t echo falsy values from RPC"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-23",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-23",
    "title": "Joe Hasell",
    "section": "2.25.0",
    "text": "2.25.0\n\nFeatures\n\nadd new API $.rpc for JSON-RPC requests ### Bugfix\nproperly handle promise rejection in login\nfix re executing extended commands on resize #666\nfix rendering jQuery object with Canvas #664\nfix right mouse click on link to not scroll to cursor #644"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-24",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-24",
    "title": "Joe Hasell",
    "section": "2.24.0",
    "text": "2.24.0\n\nFeatures\n\nadd terminal::typing API method\nadd --font custom property #662\nadd alt tag to images from formatting #661\nimprove command parser #657 ### Bugfix\nfix TypeScript types for echo with promises #658"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-25",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-25",
    "title": "Joe Hasell",
    "section": "2.23.2",
    "text": "2.23.2\n\nBugfix\n\nfix regression in scroll to view mechanism (that cause scroll up randomly)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-26",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-26",
    "title": "Joe Hasell",
    "section": "2.23.1",
    "text": "2.23.1\n\nBugfix\n\nfix reversed class in cmd (e.g. in less command)\nfix hack to reflow the cursor in Firefox from #654"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-27",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-27",
    "title": "Joe Hasell",
    "section": "2.23.0",
    "text": "2.23.0\n\nFeatures\n\ninclude echo without newline into the core of the library ### Bugfix\nremove unsafe eval (function constructor) that breaks CSP #647\nfix up/down arrow when prompt is empty string 651\nfix prompt containing brackets #648\nfix ANSI Art (add saving and restoring cursor using ANSI escape code)\nfix mouse wheel and touch scroll in less when content is smaller than height of the terminal\nfix regression in copy/paste with right click"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-28",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-28",
    "title": "Joe Hasell",
    "section": "2.22.0",
    "text": "2.22.0\n\nFeatures\n\nmake unix formatting and basic tools work in web worker ### Bugfix\nfix scrolling whole page when using mouse wheel in less\nfix some missing cp_437 characters for ANSI Art\nfix usage as bookmarklet on StackOverflow (force css of textarea)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-29",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-29",
    "title": "Joe Hasell",
    "section": "2.21.0",
    "text": "2.21.0\n\nFeatures\n\nadd wrap and keepWords option to less #641\nadd new method term::geometry to the API #637 ### Bugfix\nfix parsing JSON code inside strings #642"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-30",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-30",
    "title": "Joe Hasell",
    "section": "2.20.2",
    "text": "2.20.2\n\nBugfix\n\nfix bold background and default color in Unix formatting (another ANSI artwork issue)\nfix rendering 0x1E in ANSI art\nfix when browser don’t have ES6 Map object #630\nfix echo_newline extension\nfix handling of blink in ANSI Art\nfix error in prism when calling without options and render flags (e.g.: echo or prompt)\nfix background color for links that have set background using formatting\nfix empty cursor on Windows when copy/paste #634"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-31",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-31",
    "title": "Joe Hasell",
    "section": "2.20.1",
    "text": "2.20.1\n\nBugfix\n\nfix async synchronization of async functions and normal echo\nfix exception when executing empty command with pipe\nfix serialization of commands when using pipe operator and function interpreter\nfix exception in terminal::destroy"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-32",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-32",
    "title": "Joe Hasell",
    "section": "2.20.0",
    "text": "2.20.0\n\nBreaking\n\nset_interpreter return a promise instead of terminal instance ### Features\nadd support for echo async functions #629\nallow to run exec using onInit that will use pipe #603 ### Bugfix\nfix silent error when executing empty command from hash\nwith issues with browser that don’t support css variables #630\nfix exception in IE from formatters #631"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-33",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-33",
    "title": "Joe Hasell",
    "section": "2.19.1/2.19.2",
    "text": "2.19.1/2.19.2\n\nBugfix\n\nfix prism highlighting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-34",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-34",
    "title": "Joe Hasell",
    "section": "2.19.0",
    "text": "2.19.0\n\nFeatures\n\nadd support blink ANSI escape (unix_formatting)\nnew unix formatting API options, ansiArt option change behavior of blinking ### Bugfix\nfix prism when page have color set on span\nfix visible textarea when global css set background image\nfix exception delete_word_forward (ALT+D) delete_word_backward (CTRL+W)\nfix page scrolling on enter when terminal don’t have scrollbar\nfix ANSI Art #622 (unix formatting)\nfix empty echo in CTRL+D #626"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-35",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-35",
    "title": "Joe Hasell",
    "section": "2.18.3",
    "text": "2.18.3\n\nBugfix\n\nfix jumping to cursor position on mobile (with code)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-36",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-36",
    "title": "Joe Hasell",
    "section": "2.18.2",
    "text": "2.18.2\n\nBugfix\n\nfix when page use line-height on body"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-37",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-37",
    "title": "Joe Hasell",
    "section": "2.18.1",
    "text": "2.18.1\n\nBugfix\n\nfix glitches in history navigation (visible when using multiline commands in history)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-38",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-38",
    "title": "Joe Hasell",
    "section": "2.18.0",
    "text": "2.18.0\n\nFeatures\n\nnew API to use renderHandler with update\nnew API (apply_formatters function option) to pick where processing of formatting should work #588\nallow to toggle formatters in prism (enabled by default only for echo and command)\nescape slash in escape_formatting/escape_brackets #605\nadd support for rgb(a) and hsl(a) colors #590\nunify Firefox and Webkit (chrome) custom scrollbars #607 ### Bugfix\nfix same cases of wrong calculated size of the character when –size is used #602\nadd custom scrollbar on Firefox\nfix colors of Webkit scrollbar\nfix renderHandler in update\nfix formatting in update - reusing options from echo\nfix normal return string from prompt\nfix pipe symbol inside strings #606\nfix spaces in images in less & text selection\nfix regresion in fontawesome icons\nfix inconsistency with emoji and wide characters in terminal and cmd\nfix rounding issue that cause exception in less when rendering images"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-39",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-39",
    "title": "Joe Hasell",
    "section": "2.17.6",
    "text": "2.17.6\n\nBugfix\n\nfix adding duplicated prism formatters #573\nfix inserting emoji using Windows 10 emoji picker\nfix position of textarea in multi line command (probably will affect IME or Emoji picker)\nmake jump to bottom on click only when terminal is not enabled #596\nfix init cmd plugin without terminal\nfix underscore cut off in Firefox (visible in signature)\nfix combined emoji characters and skin tone variations #598\nfix down arrow at when cursor at the end of broken line #601\nfix broken keymap inheritance in nested interpreters #615"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-40",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-40",
    "title": "Joe Hasell",
    "section": "2.17.5",
    "text": "2.17.5\n\nBugfix\n\nfix eating last bracket from split_equal #597\nfix false positive recursive echo error #593"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-41",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-41",
    "title": "Joe Hasell",
    "section": "2.17.4",
    "text": "2.17.4\n\nBugfix\n\nfix jumping on right click near bottom and/or right edge when terminal is not full screen\nfix double event fire on right mouse click\nfix scrollbar size in Chrome"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-42",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-42",
    "title": "Joe Hasell",
    "section": "2.17.3",
    "text": "2.17.3\n\nBugfix\n\nfix for font-family wildcard css rule\nfix cursor on scrollbar\nfix broken html with wide characters without formatting\nfix jumping to address bar on CTRL+L #587\nfix issue in less when only one image get rendered #583\nfix jumping on focus on mobile when terminal content scrolled down #572\nfix detecting iPad iOS 13as mobile #589\nfix return false from onPaste to disable insert from clipboard\nfix paste in command mode of less plugin #581\nfix jumping when click near bottom and/or right edge #592"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-43",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-43",
    "title": "Joe Hasell",
    "section": "2.17.2",
    "text": "2.17.2\n\nBugfix\n\nfix cursor on strings in prism"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-44",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-44",
    "title": "Joe Hasell",
    "section": "2.17.1",
    "text": "2.17.1\n\nBugfix\n\nfix regressions in text selection, cursor and CSS variables #584\nunify selection on font icons (fontawesome) and emoji"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-45",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-45",
    "title": "Joe Hasell",
    "section": "2.17.0",
    "text": "2.17.0\n\nFeatures\n\nnew CTRL+ARROW DOWN/UP shortcuts and ignore the multi line commands (change history) ### Bugfix\nfix ch unit bug for Firefox and IE #579\nfix broken emoji #578\nfix broken cursor navigation in Firefox #577\nfix default cursor color animation on color cmd from formatting (e.g. prism)\nfix font-awesome selection (partial - works only in Firefox)\nfix consistency of data-text attribute and span\nfix issue with split_equal when it swallow the line if the line had bracket at the end\nallow to use .emoji CSS in .raw output\nfix up/down on multi line command navigation when command have brackets and/or wrappings\nfix empty lines after wrapping in CMD when splitted line length == cols\nfix navigating of formatting when stacked formatters are used and one change length #580"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-46",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-46",
    "title": "Joe Hasell",
    "section": "2.16.1",
    "text": "2.16.1\n\nBugfix\n\nfix disappearing cursor when use up down arrow in multi line CMD #576\nfix broken color CSS variables #575\nfix swallowed escape bracket as input in CMD #574"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-47",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-47",
    "title": "Joe Hasell",
    "section": "2.16.0",
    "text": "2.16.0\n\nFeatures\n\nstyle of scrollbars in WebKit\nintegration with fontawesome icons added using formatting ### Bugfix\nfix version of widget.js"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-48",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-48",
    "title": "Joe Hasell",
    "section": "2.15.4",
    "text": "2.15.4\n\nBugfix\n\nfix jumping when you scrolled down the div terminal #565"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-49",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-49",
    "title": "Joe Hasell",
    "section": "2.15.3",
    "text": "2.15.3\n\nBugfix\n\nfix broken formatting in prism.js when processing brackets"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-50",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-50",
    "title": "Joe Hasell",
    "section": "2.15.2",
    "text": "2.15.2\n\nBugfix\n\nfix toggle keyboard on multiple terminals on same page\nfix jumping to prompt on press CTRL+C when terminal scrolled to top\ndon’t scroll to bottom when click on terminal that already in focus"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-51",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-51",
    "title": "Joe Hasell",
    "section": "2.15.1",
    "text": "2.15.1\n\nBugfix\n\nfix combination of mobile: focus, selection and touchscroll"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-52",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-52",
    "title": "Joe Hasell",
    "section": "2.15.0",
    "text": "2.15.0\n\nFeatures\n\nadd new API event touchscroll for mobile (use it in less) #556\nmobile paste #458\ncmd::clip API method used internally, mostly for mobile ### Bugfix\nfix vertical bar cursor animation on empty command line\nfix edge case while splitting the command line with formatting (better fix for #379)\nfix option parser when using minus or double minus as argument\nfix issue when wcwidth is added and there are no wide characters\nfix prism + wide characters (e.g. Chinese and Japanese inside strings)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-53",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-53",
    "title": "Joe Hasell",
    "section": "2.14.1",
    "text": "2.14.1\n\nBugfix\n\nfix empty rows size"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-54",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-54",
    "title": "Joe Hasell",
    "section": "2.14.0",
    "text": "2.14.0\n\nFeatures\n\nallow to return promise from renderHandler\nallow to extend the ansiParser in unix_formatting\nadd a way to to handle Sixel terminal image format #553\nimprove performance of cmd render when moving cursor\nimplement H cursor movement #553\nunix formatting ANSI character replacements modes ### Bugfix\nfix click on last line in multiline cmd #554\nfix selecting textarea content when selecting cmd\nfix possible loops in renderHandler\nfix parsing image REGEXes in less\nfix cmd cursor up/down with wrapping #557\nfix issue with prism (html language) and less\nfix left/right pagination in less, when not all lines are longer then cols\nfix CTRL+ARROWRIGHT #560\nfix urls inside formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-55",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-55",
    "title": "Joe Hasell",
    "section": "2.12.0",
    "text": "2.12.0\n\nFeatures\n\nimprove performance\nadd cache for formatting and processing lines\nbig improvements to less plugin re-rendering (e.g. when scrolling text with keyboard)\ncursor movement in unix formatting (virtual cursor not supported in cmd, because it make no sense) #553 ### Bugfix\nfix empty lines in less\nfix split_equal with keep works and formatting at the end.\nfix searching inside links in less"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#released-on-npm-as-2.11.1",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#released-on-npm-as-2.11.1",
    "title": "Joe Hasell",
    "section": "2.10.1 (released on npm as 2.11.1)",
    "text": "2.10.1 (released on npm as 2.11.1)\n\nBugfix\n\nfix glow effect of prompt when it don’t have formatting\nfix exec commands from echo\nfix echo formatting with newline and bracket at the end\nfix single wide character exception\nfix substring after string when string have bracket at the end #550\nfix images & style from formatters inside cmd #519"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-56",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-56",
    "title": "Joe Hasell",
    "section": "2.10.0",
    "text": "2.10.0\n\nFeature\n\nimprove performance by adding function $.terminal.partition\nallow to use force resize cmd::resize(true) (to update init command line with emoji)\nadd glow style #549 ### Bugfix\nfix throw/reject in async function/promise #546\nallow to return string from greetings function\nfix low level iterate_formatting function to handle html entities properly\nfix spacing of wider characters (Chinese/Japanese) in echo (to match cmd)\nfix jumping on right click #545\nfix selection on double click on cmd\nfix parse_options #547\nfix style of links with wcwidth #544\nfix copy of empty lines in output #548"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-57",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-57",
    "title": "Joe Hasell",
    "section": "2.9.0",
    "text": "2.9.0\n\nFeatures\n\nallow to return a promise from greetings function #531\ncall onClear before clear and allow to cancel #527\nnew renderHandler option #526\nallow to echo DOM nodes and jQuery objects #526\nhandle broken images in terminal and less (svg and error message respectively)\nterminal have terminal-less class when less runs\npipe extension monkey patch terminal like echo newline, and it allow to use standard interpreter (old API work the same). ### Bugfix\nfix links from formatters in cmd\nfix images from formatters in cmd #519\nfix less #522\nfix recursive error when echo finalize throwed exception #524\nfix prism - xml nested formatting and weird wrapping #523, #410\nlimit number of characters in click on exception line #525\nfix less search clear on resize #528\nfix less search second instance (move one line to bottom)\ndon’t delay backspace by default on Desktop + fix delay key check #532\nfix pipe when argument is pipe in quote echo \"|\"\nfix display_position (click on cmd) when using prism + unix formatting #533\nallow path in URL for links and images\nfix multiple issues with less plugin\nfew fixes to pipe\nfix echo array after refresh #540\nfix apply formatters in update #543\nfix pause on login when using callback #538"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-58",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-58",
    "title": "Joe Hasell",
    "section": "2.8.0",
    "text": "2.8.0\n\nFeature\n\nnew events onBeforeLogin, onAfterLogin, onBeforeEcho and onAfterEcho\ninherit of style in nesting formatter (with flag __inherit__ = true on nested_formatting) #513\nimage formatting (less with images #515)\nnew echo_command API method (for echo_newline default action)\nmobile delete disabled by default + option toggle #506 ### Bugfix\nadd missing onAfterCommand and onBeforeCommand to d.ts file\nfix Emoji #514\nfix nesting with prism formatter"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-59",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-59",
    "title": "Joe Hasell",
    "section": "2.7.1",
    "text": "2.7.1\n\nBugfix\n\nfix invoking methods by typing it into terminal #512\ndon’t remove extended command when using echo with exec: false"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-60",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-60",
    "title": "Joe Hasell",
    "section": "2.7.0",
    "text": "2.7.0\n\nBreaking/Feature\n\nall classes are prefixed with cmd or terminal except .token (PrimsJS internals) and .emoji (this may be feature that fix some bugs, that also may break user code - but it’s internal html structure and it’s not documented as API) #510 ### Bugfix\nfix issue with space in IE and Edge #507\nmultiple bracket escaping issues #505\nfix paste of images #505\nfix xml formatter in Prism (regression) #410"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-61",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-61",
    "title": "Joe Hasell",
    "section": "2.6.3",
    "text": "2.6.3\n\nBugfix\n\nfix mobile keypress invocation when no keypress (Android)\nfix sizing issue with underscores #501"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-62",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-62",
    "title": "Joe Hasell",
    "section": "2.6.2",
    "text": "2.6.2\n\nBugfix\n\nfix CTRL+C when terminal is not in focus (it should bypass enabled flag only when select text is inside terminal) #499\nfix keepWord option in echo of last line #497\nfix broken formatting in Prism #496"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-63",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-63",
    "title": "Joe Hasell",
    "section": "2.6.1",
    "text": "2.6.1\n\nBugfix\n\nfix sourcemaps\nfix prism + --size\nfix echo double slashes\nescape options to $.terminal.format (default to true - same behavior) to fix previous error"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-64",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-64",
    "title": "Joe Hasell",
    "section": "2.6.0",
    "text": "2.6.0\n\nFeatures\n\nnew option mobileIngoreAutoSpace to fix issue on Android when typing keys: , ) . (default empty array) ### Bugfix\nfix hold+backspace on command line with whitespace\nfix context menu on Firefox #494"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-65",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-65",
    "title": "Joe Hasell",
    "section": "2.5.2",
    "text": "2.5.2\n\nBugfix\n\nfix CTR+C when inside of single echo output is selected\nfix paste + key on Mac/Chrome #493"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-66",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-66",
    "title": "Joe Hasell",
    "section": "2.5.1",
    "text": "2.5.1\n\nBugfix\n\nfix 1px black space in style of selection after prism token\nadditional validate instead of just throw and capture JSON errors in format function (devtools improvement)\nfix typescript types for version 3.3.29 and freeze the version"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-67",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-67",
    "title": "Joe Hasell",
    "section": "2.5.0",
    "text": "2.5.0\n\nFeatures\n\nBetter API option doubleTabEchoCommand so you don’t need to call echo_command() function in doubleTab.\nnew API Cmd::column(boolean): number\nmoving cursor up down in multiline command (like in Chrome Dev tools) ### Bugfix\nfix wrong array detection in completion when array passed across iframes\nfix prism.js and emoji.js dependencies when run with webpack\nfix keepWord option for echo (iterate_formatting function that is called by split_equal) #491\nfix press key after hold different key #488\nfix echo empty line on longer lines (issue only happen in examples page in scheme inside dialog)\nfix for jQuery UI dialog visibility change detection\nfix hidden cursor in FireFox"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-68",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-68",
    "title": "Joe Hasell",
    "section": "2.4.1",
    "text": "2.4.1\n\nBugfix\n\nshow terminal content after it’s resized when initially not visible (fix jumping of text)\nfix pipe when using read + echo in first command and read in next\nfix issue with jumping of terminal on keypress #486\nfix hold key when key change fast (manifested by jumping to address bar on ALT+D) #485\nfix scroll page when terminal don’t have scrollbar #484\nfix issue with call .complete(['cd']); because of default “clear” (moved code outside of complete)\nfix Prism formatter when highlighted code have brackets\nfix few async prompt issues including #474"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-69",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-69",
    "title": "Joe Hasell",
    "section": "2.4.0",
    "text": "2.4.0\n\nFeatures\n\nimprovements to performance of rendering and navigating longer command lines\nCTRL+C now retain newlines inside cmd and terminal output (modern browsers only)\nmore control over server side calls by using invokeMethods option in echo\nwarn users when they try to complete commands with newlines and word complete is set ### Bugfix\nfix scrollbar flicker on right click on right/bottom edge of terminal when no scrollbar\nfix text selections on multi line text without line breaks\nfix small bugs in animations (replace all of them with box-shadow)\ndebounce HOLD+ARROWS (left/right) so they are usable again\nfix exception when completion characters not safe for regular exception"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-70",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-70",
    "title": "Joe Hasell",
    "section": "2.3.0",
    "text": "2.3.0\n\nFeatures\n\nadd experimental $.terminal.pipe function\nallow to return string from onPaste (not only a promise)\nadd CTRL+Home and CTRL+End keys + HOME and END move cursor to the end and beginning of the line #479\nzoom page when using mousewheel + CTRL key (browser default) #468\nallow to set attributes from formatting with filtering options (to prevent unwanted onclick or other attrs by echo untrusted text) #472 ### Bugfix\nfix selecting whole text of single .cmd line\nfix double call of async prompt with async interpreter #474\nfix async + RPC + exec + no system.describe #475\nfix describe === false (exception in js and typscript definition)\ndon’t pause terminal when user code return result of calling terminal::read()\nfix jumping while using up/down arrows #477 #478\nfix issue with echo brackets inside formatting when using unix formatting #470\nfix wrong &quote; entity in formatting tag data-text attribute (it should be &quot;)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-71",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-71",
    "title": "Joe Hasell",
    "section": "2.2.0",
    "text": "2.2.0\n\nFeatures\n\nHandle unclosed entities #462 ### Bugfix\ndon’t complete default commands as argument #465\ndon’t show links in echo command + format links inside formatting #464\nfix calling set_mask in onPop\nfix visibility change when terminal have position:fixed #466\necho without argument or with empty string - to create blank line #467"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-72",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-72",
    "title": "Joe Hasell",
    "section": "2.1.2",
    "text": "2.1.2\n\nBugfix\n\nremove bugfix for #402 that should never land in the code\nfix removing temp terminal (used to calculate char size)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-73",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-73",
    "title": "Joe Hasell",
    "section": "2.1.1",
    "text": "2.1.1\n\nBugfix\n\ndon’t apply emoji css inside .raw class (added by echo('string', {raw: true})) #461\nfix wrapping when using font-family wildcard css rule"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-74",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-74",
    "title": "Joe Hasell",
    "section": "2.1.0",
    "text": "2.1.0\n\nFeatures\n\ncursor glow animation\nadd invoke_key to cmd\nonPaste event\nintegrate emoji into terminal ### Bugfix\nfix wrapping when command have & and ; but it’s not entity #454\nfix wrapping when css style created using id #454\nfix calculating number of characters on init in bare cmd\nfix .inverted class #457\nfix background color on selection (when using –color)\nfix hidden bar cursor when command is empty\nfix copy terminal output to clipboard (newlines issue) #456\nremove weird space between lines of selection\nfix jumping of cursor with underline animation\nfix selection of command line\nfix error color when –color is used\nfix ANSI art issue #460"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-75",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-75",
    "title": "Joe Hasell",
    "section": "2.0.2",
    "text": "2.0.2\n\nBugfix\n\nfix ansi escapes in unix formatting for sequence 5;1;47m that fixes rendering ANSI art\nfix cutting of underline from ASCII art\nfix cutting ASCII art underscores in Codepen/Linux/Chromium on GNU/LINUX\nfix ascii_table when text have \nfix prism highlighting in echo (terminal rules were stronger than Prism)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-76",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-76",
    "title": "Joe Hasell",
    "section": "2.0.1",
    "text": "2.0.1\n\nBugfix\n\nfix focus to textarea or input that was printed using terminal echo function (reported as question on SO)\nfix cutting of bottom part of greetings lines in Firefox\nfix keep focus into cursor feature added in 2.0 (up arrow was causing scroll to top) report in firebase chat\ndon’t add empty string to history\nfix bottom padding in FireFox\ndon’t overwrite wildcard selector that change font with wildcard selector (reported by @ovk on gitter)\nfix return true in mousewheel it now disable JavaScript scrolling (reported by @ovk on gitter)\nfix size down to --size: 0.6"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-77",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-77",
    "title": "Joe Hasell",
    "section": "2.0.0",
    "text": "2.0.0\n\nBreaking\n\nfrom now on if terminal is added to body it’s in fact added to div inside body (the API didn’t changed) $('body').terminal().is('body'); will be false ### Features\nnew option repeatTimeoutKeys with default of HOLD+BACKSPACE that should have delay when deleting words\nuse setTimeout instead of alert to show exception that can be shown in terminal\nallow to move cursor when regex formatter don’t change length of the string\ndon’t style links if they don’t have href\nnew plugin isFullyInViewport (link to source in comment)\nscroll terminal to always view cursor in multiline command\nadd onPositionChange to option to terminal\nadd tabindex option to cmd and terminal ### Bugfix\nfix delay when using arrow keys by filtering keys that have delay when hold\nfix skipping lines that have emoji as last character inside formatting\nfix cursor over tab\nfix tracking replace for emoji and extra chars when adding formatting multiple times\nfix inconsistency of cursor on background formatting between Windows and Linux\nfix echo newline as first character of formatting\nfix slash as last character in formatting when generation command line with slash and cursor just after\nfix escape bracket in command line\nfix relative and absolute urls with default anyLinks: false\nfix android and iPhone issues #443 #414\nfix ANSI escapes in unix_formatting $444\nfix jumping cursor when there are no text before cursor line in Chrome\nfix selection menu in latest Android\nfix wrong number of chars per line when insert called after init and scrollbar appear\nfix missing cursor when init cmd plugin (without calling refresh)\nfix issue with function prompt not updating after resume"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-78",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-78",
    "title": "Joe Hasell",
    "section": "1.23.2",
    "text": "1.23.2\n\nBugfix\n\nfix too tall cursor (blink included underline)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-79",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-79",
    "title": "Joe Hasell",
    "section": "1.23.1",
    "text": "1.23.1\n\nBugfix\n\nfix cursor when terminal is empty"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-80",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-80",
    "title": "Joe Hasell",
    "section": "1.23.0",
    "text": "1.23.0\n\nFeatures\n\nES6 iterator helper that iterate over string that handle formatting, emoji and extra chars ### Bugfix\nfix tracking replace in Edge (missing RegExp::flags)\nhide textarea cursor in Edge and IE11\nfix cursor in Edge and almost IE11\nfix calculating prompt length (wrong wrapping because of first line count)\nuse setInterval as replacement for Intersection Observer when not supported (IE)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-81",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-81",
    "title": "Joe Hasell",
    "section": "1.22.6/7",
    "text": "1.22.6/7\n\nBugfix\n\nfix selection of command line"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-82",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-82",
    "title": "Joe Hasell",
    "section": "1.22.5",
    "text": "1.22.5\n\nBugfix\n\nfix issue with n command line and cursor position #436\nfix underline and bar animation after fix for prism\ndisable selecting artificial last character in line for cmd\nfix cursor animation on background for toggle animation dynamically"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-83",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-83",
    "title": "Joe Hasell",
    "section": "1.22.4",
    "text": "1.22.4\n\nBugfix\n\nfix cursor in prism when on token in next line"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-84",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-84",
    "title": "Joe Hasell",
    "section": "1.22.3",
    "text": "1.22.3\n\nBugfix\n\nreverse css animations so the prompt is visible when you hold key"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-85",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-85",
    "title": "Joe Hasell",
    "section": "1.22.2",
    "text": "1.22.2\n\nBugfix\n\npersistent function prompt don’t render on enable and on init\nfix duplicated line when prompt have more then one line\niterate_formatting to handle emoji like substring and split_equal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-86",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-86",
    "title": "Joe Hasell",
    "section": "1.22.1",
    "text": "1.22.1\n\nBugfix\n\nfix broken jquery.terminal.js because after last change there was no build\nfix invocation in xml_formatting and dterm\nadd onCommandChange to defaults file so it’s picked up by dterm (update d.ts)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-87",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-87",
    "title": "Joe Hasell",
    "section": "1.22.0",
    "text": "1.22.0\n\nFeatures\n\nadd sourcemaps to min js and css files #430\nnew option holdRepeatTimeout - which is number of the delay between keypress repeat when holding key\nselection to change background color based on formatting like in Bash\nembed emoji regex by Mathias Bynens for better emoji detection\nallow to execute extended commands including terminal and cmd methods from formatters\nsupport for true colors (24bit) in unix formatting #433\nexpose split_characters in $.terminal namespace\ncmd commands option functions to have cmd as this context\n\n\n\nBugfix\n\nupdate typescript definition to new options + minor tweaks to the api\nfix cursor for PrismJS punctuation class\nfix emoji that contain U+FE0F character at the end #424\nfix for combine characters\nfix typescript definition for prompt and greetings #425\nfix typo in holdTimeout option name\nfix wrapping when command have emoji and combine characters\nfix align tabs when inside cursor line and align with prompt\nfix multiple 8-bit color codes in single ANSI escape\nfix cursor position when on formatting that change color and background\nallow to use login function in set_interpreter"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-88",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-88",
    "title": "Joe Hasell",
    "section": "1.21.0",
    "text": "1.21.0\n\nSecurity\n\nadd option invokeMethods that disable by default executing terminal and cmd methods from echo\n\n\n\nFeatures\n\nHOLD keymap modifier + HOLD+[SHIFT]+BACKSPACE/DELETE to delete word before and after the cursor #420\nalign tabs like in unix terminal #423\ntabs terminal options change tab length, not only columns/arrays\nadd tabs option for cmd\nimprove performance of display_position (when you click on character in long command that change length)\n\n\n\nBugfix\n\nfix &) in scheme prism formatting #421\ndon’t process keys other then enter in reverse search\nfix issue with background in Prismjs css\ninsert prism syntax formatter before nested formatting so it work for html if included with unix_formatting\nfix emoji and Unicode surrogate pairs #422"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-89",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-89",
    "title": "Joe Hasell",
    "section": "1.20.5",
    "text": "1.20.5\n\nBugfix\n\none more fix to position in normal function formatter (prism)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-90",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-90",
    "title": "Joe Hasell",
    "section": "1.20.4",
    "text": "1.20.4\n\nBugfix\n\nfix position in normal function formatter (prism)\nfix syntax (prism) function name in developer tools"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-91",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-91",
    "title": "Joe Hasell",
    "section": "1.20.3",
    "text": "1.20.3\n\nBugfix\n\nfix regression in overtyping #409"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-92",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-92",
    "title": "Joe Hasell",
    "section": "1.20.2",
    "text": "1.20.2\n\nBugfix\n\nescape formatting when using unix formatting in cmd\nfix cursor style while hover over links\none more fix cursor position"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-93",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-93",
    "title": "Joe Hasell",
    "section": "1.20.1",
    "text": "1.20.1\n\nBugfix\n\nfix click after line for last line"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-94",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-94",
    "title": "Joe Hasell",
    "section": "1.20.0",
    "text": "1.20.0\n\nSecurity\n\nanyLinks option to disable anything exception http and ftp (when false - default) - it make possible to insert javascript links, which is potential XSS vulnerability\n\n\n\nFeatures\n\nlinksNoFollow option (default false)\nadd UMD for utility files #418\n\n\n\nBug Fixes\n\nhandling backspaces in unix formatting #409\n\nhandle he same when adding leftovers before backspace in unix formatting\nfix cursor position when text have tabs found when fixing #409\nother fixes to backspaces\n\nfix font change in universal selector #415\nfix regression bug in formatters (emoji demo) #416\nfix cmd::resize() without args that make number of characters equal to 1 #413\nfix click after line #419"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-95",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-95",
    "title": "Joe Hasell",
    "section": "1.19.1",
    "text": "1.19.1\n\nBug Fixes\n\nfix type definition to match types from @types/jquery #412\nfix infinite loop in regex formatter with loop option #409"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-96",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-96",
    "title": "Joe Hasell",
    "section": "1.19.0",
    "text": "1.19.0\n\nFeatures\n\nadd TypeScript definition file\nupdate formatters API to have a way to return position after replace from function formatter\nregex formatters and $.tracking_replace now accept function as replacement\nupdate unix formatters to use new API so they work with command line\nset exit to false if no login provided\n\n\n\nBugs\n\nfix overtyping function #409\nremove CR characters only for display\ndon’t invoke onPosition change when calling position and don’t change the value\nfix clearing CR characters that was causing removal of empty lines #411"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-97",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-97",
    "title": "Joe Hasell",
    "section": "1.18.0",
    "text": "1.18.0\n\nFeature\n\nlooping regex formatters that replace until they don’t match the regex\nadd tracking_replace to $.terminal namespace\n$.terminal.syntax helper\nnew language for prism: “website” that handle html, javascript and css syntax\n\n\n\nBugs\n\nhandle formatters that replace backspaces and characters before #409\nfix broken < > & with cmd + prism #410\nfix background in prism with black background terminal\nremove warning from nested_formatting when if find nested formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-98",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-98",
    "title": "Joe Hasell",
    "section": "1.17.0",
    "text": "1.17.0\n\nFeatures\n\nadd ascii_table utility in separated file\nper user command line history\nadd $.terminal.parse_options which return same object as yargs parser\n$.jrpc helper now return its own created promise instead of $.ajax\nadd wcwidth as dependency so it will always show wider characters correctly (in browsers will work the same as optional)\nexpose terminal exception in $.terminal namespace\nnew API option doubleTab #405\n\n\n\nBugfix\n\ndisable history in read & login (regression from 1.16.0 history interpreter option)\nfix recursive error on extended commands (but it will only work on exact same commands without trailing white space)\ncreate copy of Prism for formatter so it can be used with normal html based prism snippets\ndouble fix: command line when formatter return empty formatting and prism that return empty formatting after ( and space\nthird fix fox jumping on right click\nfix columns method\nfix infinite loop when regex in formatters don’t have g flag\nfix parsing escape quotes\nfix split equal to handle brackets when using without formatting\nfix command line wrapping if prompt contain brackets as text #407\ninsert ^C where cursor was located #404\nfix echo crlf (windows line ending) #408\nallow to call cmd without arguments\nrename undocumented remove API method to remove_line so you can call jQuery remove\nfix throwing exception when there is error in formatter (it now only show alert)\nfix double exception when exec command throw exception"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-99",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-99",
    "title": "Joe Hasell",
    "section": "1.16.1",
    "text": "1.16.1\n\nBugs\n\nfix paste/select all when click below .cmd\nsecond fix to jumping on right click (context menu) #399\nchange $.terminal.prism_formatting to $.terminal.prism"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-100",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-100",
    "title": "Joe Hasell",
    "section": "1.16.0",
    "text": "1.16.0\n\nFeatures\n\nallow to have limited import when export is save and restored from JSON #393\nadd support for new u and s regex flags when parsing commands\nadd less plugin based on the one from leash\nsupports for promises returned from completion function\nadd prism.js file that include monkey patch for PrismJS library (for syntax highlight) to output terminal formatting\nbetter read method #397\nhandle promises returned from login and async login function #401\nadd history option for push for easy disabling history for new interpreter\nadd scrollObject option, so you can use body when terminal is on full screen div without height\n\n\n\nBugs\n\nfix resizer in Firefox #395\nfix $.terminal.columns and echo array #394\nfix $.terminal.columns for wider characters and terminal formatting\nfix rows() when using –size #398\nfix null in JSON hash\nfix jumping on right click (context menu) #399\nfix formatting inside brackets #396\nfix async interpreter #400\nuse window resize when terminal added to body"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-101",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-101",
    "title": "Joe Hasell",
    "section": "1.15.0",
    "text": "1.15.0\n\nFeatures\n\nallow to invoke terminal and cmd methods from extended commands ([[ terminal::set_prompt(\">>> \") ]])\nnew API method invoke_key that allow to invoke shortcut terminal.invoke_key('CTRL+L') will clear the terminal\nshift+backspace now do the same thing as backspace\n\n\n\nBugs\n\nfix wider characters in IE #380\nfix issue with number of characters when terminal is added to DOM after creation in IE\nfix scrolling on body in Safari\nfix exception when entering JSON with literal strings #389\nfix orphaned closing bracket on multiline echo #390\nfix whitespace insert after first character after first focus #391\nfix open link when click on url from exception"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-102",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-102",
    "title": "Joe Hasell",
    "section": "1.14.0",
    "text": "1.14.0\n\nFeatures\n\npass options to formatters and accept option unixFormattingEscapeBrackets in unix_formatting (PR by Marcel Link)\nimprove performance of repaint and layout whole page when changing content of the terminal\nuse ch unit for wide characters if browser support it (it have wide support then css variables)\nkeymap terminal method and allow to set shortcuts on runtime\n\n\n\nBugs\n\nfix newline as first character in formatting #375.\nfix error when echo undefined (it will echo string undefined since it’s converted to string)\nfix first argument to keymap function, it’s now keypress event\nfix resizing issue when scrollbar appear/disappear while you type #378\nfix cut of cursor when command line had full length lines and it was at the end #379"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-103",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-103",
    "title": "Joe Hasell",
    "section": "1.12.1",
    "text": "1.12.1\n\nfix minified css file + fix scrollbar"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-104",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-104",
    "title": "Joe Hasell",
    "section": "1.12.0",
    "text": "1.12.0\n\nFeatures\n\ndefault options for cmd plugin\ncaseSensitiveSearch option for both terminal and cmd plugins\n\n\n\nBugfixes\n\nfix urls ending with slash #365\nstringify non string commands in set_command\nfix scrolling of the page, when press space, after you click on the link\nfix scrolling flicker when terminal added to body\nsmall css fixes for element containers when terminal added to body\nfix for wide characters inside bigger text #369\nwhen clicking on terminal and it already had focus the textarea was blured #370\nfix parsing empty strings “” or ’’\nfix warning from webpack about –char-width without default #371"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-105",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-105",
    "title": "Joe Hasell",
    "section": "1.11.4",
    "text": "1.11.4\n\nhandle non string and functions in error the same as in echo\nfix selection for raw output (reported by @ovk)\nhide font resizer so you actually can select text starting from top left"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-106",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-106",
    "title": "Joe Hasell",
    "section": "1.11.3",
    "text": "1.11.3\n\ncreate empty div for function line that return empty string, that was causing issues with update #363\nset classes from terminal to fake terminal that is used to calculate character size\ndon’t use length css variable on formatting when length is the same as wcwidth\ncss fixes for terminal in jQuery UI dialog (dterm)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-107",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-107",
    "title": "Joe Hasell",
    "section": "1.11.2",
    "text": "1.11.2\n\nfix issue with –char-width == 0 if terminal have display:none\nfix DELETE numpad key on IE\nignore invalid procedures description in system.describe\nfix font resizer and init resizers when terminal hidden initialy\nfix broken wrapping in new feature of updating divs on resize"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-108",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-108",
    "title": "Joe Hasell",
    "section": "1.11.1",
    "text": "1.11.1\n\nfix IE inconsistency in key property for numpad calc keys (reported by @ovk #362\nfix completion skipping letters (reported by @ovk #361)\nfix issue with last character in line beeing closing braket (reported by @arucil #358)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-109",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-109",
    "title": "Joe Hasell",
    "section": "1.11.0",
    "text": "1.11.0\n\nFeatures\n\nupdate API method accept options 3rd argument\nspeed up refresh on resize by checking character size in font resizer (reported by @artursOs)\nchange command line num chars on resize + settings.numChars (reported by @artursOs #353)\nadd remove api method that call update(line, null);\ndon’t call scroll to bottom on resize/refresh/update/remove\nimprove scroll_element plugin by using document.scrollingElement if present and cache the value\nresizer plugin use ResizeObserver if defined\nremove fake call to finalize in echo to catch potential error\nsilent boolean 3rd argument to cmd::set and 2nd to terminal::set_command\nhandy classed to change cursor animation in IE ### Bugs\ndon’t prevent default scroll when terminal have no scrollbar\nrestart cursor animation on keydown (requested by @theMeow on chat)\ndon’t redraw whole terminal in update api method\nshow exception from onAfterRedraw on terminal\ndon’t show first argument to method in help command when login is used\nallow to call disable/focus(false) from command + fix focus(false) with single terminal (reported by Eric Lindgren #359)\nfix autofocus on init"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-110",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-110",
    "title": "Joe Hasell",
    "section": "1.10.1",
    "text": "1.10.1\n\nfix scroll to bottom on scrolling when terminal is disabled (reported by @RomanPerin #355)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-111",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-111",
    "title": "Joe Hasell",
    "section": "1.10.0",
    "text": "1.10.0\n\nFeatures\n\nnew api for formatters Array with 2 elements regex and replacement string (it fix issue when formatters change length of string - emoji demo)\nnormalize IE key property for keymap + always use +SPACEBAR if there is any control key\ncursor text for terminal and cmd\nonEchoCommand callback gets second argument command\ncmd keymap api function, along with object and no arguments, accept string as first argument and function as second\nonly one exception per callback event\nselect all context menu (based on idea from CodeMirror) ### Bugs\nfix cursor in IE and iOS/Safari reported by @RinaVladimyrovna #350\ndon’t apply formatters in echo commands for completion (found by applying completion to emoji demo)\nfix substring and html entity (entering < & > in command line was showing entity not character)\npaste context menu not for img tag to allow to save as\nfix nested formatting (by introducing meta on formatter function that apply the function to whole string)\nfix format_split when text have \\ character before ]\nfix line ending on windows in command line (CRLF)\nfix copy from command line\nfix cursor position when command line have formatting (using formatters)\nfix cursor position when command line have 3 lines\ndon’t apply formatters for greetings not only for signture (user can use formatting because he control the string)\nfix max call stack exception when error happen in onEchoCommand\nChinese character occupy 2 characters same as in linux terminal (requirement wcwidth and css variables)\nfix substring and string like ‘<a’ that was breaking command line\nfix newlines in string when do parse/split _command (used by command line)\nfix split equal and command line splitting\nfix exception in keymap when calling original in the one that was overwriten by terminal like CTRL+V (reported by Ravi Teja Mamidipaka #351)\nnot all keymaps had terminal as this context"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-112",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-112",
    "title": "Joe Hasell",
    "section": "1.9.0",
    "text": "1.9.0\n\nFeatures\n\nnew api utils $.terminal.length and $.terminal.columns\necho array (resizable in columns that fit the width, using settings.tabs as pad right)\ncallback function parseObject that’s called on object different then string (on render)\ncalling option method with numRows or numChars redraw terminal output (for testing)\nonFlush callback (called when text is rendered on screen in flush method)\nregex helper $.terminal.formatter created using Symbols can be use instead of regex\nnew option pasteImage (default true) - requested by @ssv1000 #342\nCTRL+C cancel command like in bash if no selection - requested by @abhiks19 #343\nrefresh API method\nnew api method display_position in cmd plugin that return corrected position of the cursor if cursor in the middle of the word that got replaced by longer or shorter string in formatting function (fix for emoji demo) ### Bugs\nadd missing –size default for underline animation\nfix trim of spaces in front of lines when keep words is true\nfix newline in prompt found while answering question on SO\nfix insert of newline in the middle of the command line if there is “word space word” and you press space after space\nfix infinite loop in split_equal with keep words when word is longer than the limit and there is space before long word\nfix paste on MacOS - regresion after adding context menu paste (reported by Ravi Teja Mamidipaka #340)\nfix cursor in textarea in Edge and IE (reported by Tejaswi Rohit Anupindi #344)\nfix input for Android 4.4 in emulator (tested on saucelabs.com)\nfix selection + css variables (know bug in MS Edge)\nfix apply/call issue that was causing Android 2.3 to crash\nfix context menu on selected text (the selected text was cleared)\nallow to call original terminal keymap for overwrites defined in terminal (not only the ones defined in cmd)\nescape < and > issue reported by @itsZN #345\nfix moving cursor when formatting change size of text (found when creating emoji demo) the click was rewritten using span for each character\nfix command line when for wide characters\ndon’t move the cursor on click when cmd disabled\nfix substring"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-113",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-113",
    "title": "Joe Hasell",
    "section": "1.8.0",
    "text": "1.8.0\n\nallow to return promise from prompt + fix promise in echo\nadd back context menu paste that was removed by mistake\nmake terminal work in Data URI (access to cookies was throwing exception in Chrome)\nfix case insensitive autocomplete when there is single completion\nfix completion error when more then one completion (PR by Anton Vasilev #337)\nfix artificialy triggered click (reported by Paul Smirnov #338)\nfix focus issue when you have multiple terminals\nfix css animations\nfix move cursor on click\nfix quick click to focus + CTRL+V (reported by @artursOs #336)\nfix outputLimit\nfix exception that sometimes happen on mouseup"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-114",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-114",
    "title": "Joe Hasell",
    "section": "1.7.2",
    "text": "1.7.2\n\nfix blur when click ouside terminal when element you click is on top of terminal\nthis is terminal instance inside echo function\nfix localStorage exception and empty line height while creating terminal from data URI\nrefocus when click on terminal (fix for :focus-within)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-115",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-115",
    "title": "Joe Hasell",
    "section": "1.7.1",
    "text": "1.7.1\n\nfix blur terminals when open context menu and then click right mouse button (sometimes last terminal didn’t get disabled)\nfix backspase"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-116",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-116",
    "title": "Joe Hasell",
    "section": "1.7.0",
    "text": "1.7.0\n\nFeatures\n\nadd option caseSensitiveAutocomplete default to true #332\nexpose Stack/Cycle/History in $.terminal so they can be tested\nmake :focus-within .prompt selector work with terminal (work also on codepen) ### Bugs\nfix jumping of terminal when created one after another and changing the one that have focus in Edge\nfix issue that all terminals was enabled not the last one created\nfix issue that on click next terminal get focused on browsers with touch screen (reported by @itsZN #330)\nfix missing default keymap in cmd plugin (found on SO by Arnaldo Montoya)\nupdate dterm to enable terminal when is visible (when open) using IntersectionObserver\nfix issue with focus on click on MacOS (reported by @RomanPerin #255)\nfix pasting (reported by @artursOs #331)\nfix unescaped entity error (reported by Nikolai Orekhov #333)\nfix onFocus and onBlur events\nfix blur textarea on disable"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-117",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-117",
    "title": "Joe Hasell",
    "section": "1.6.4",
    "text": "1.6.4\n\njust missed build"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-118",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-118",
    "title": "Joe Hasell",
    "section": "1.6.3",
    "text": "1.6.3\n\nfix issue with auto-enable and insert to DOM after terminal was created\nfix issue with space and dead keys (reported by David Peter)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-119",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-119",
    "title": "Joe Hasell",
    "section": "1.6.2",
    "text": "1.6.2\n\nfix altGr+key issue reported by Erik Lilja"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-120",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-120",
    "title": "Joe Hasell",
    "section": "1.6.1",
    "text": "1.6.1\n\ndon’t call encode in escape_formatting (requested by @ovk)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-121",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-121",
    "title": "Joe Hasell",
    "section": "1.6.0",
    "text": "1.6.0\n\nFeatures\n\nnew API method apply_formatters\nadd UMD (requested by @fazelfarajzade)\nadd new events: onEchoCommand and onAfterRedraw (requested by @ovk) ### Bugs\nfix issue that formatters where applied to formatting (discovered by issue from @ovk)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-122",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-122",
    "title": "Joe Hasell",
    "section": "1.5.3",
    "text": "1.5.3\n\nfix cursor over entity (mainly  ) issue reported by @ovk\nfix space scroll page"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-123",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-123",
    "title": "Joe Hasell",
    "section": "1.5.2",
    "text": "1.5.2\n\nkeep formatting when cursor is over one, issue reported by @Oleg on StackOverflow\nfix jumping prompt when it have newlines"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-124",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-124",
    "title": "Joe Hasell",
    "section": "1.5.1",
    "text": "1.5.1\n\nfix autofocus with position: fixes (reported by @ovk)\nfix input method using sogou keyboard on windows (reported by @hnujxm)\nfix long line wrapping and click to move cursor with wider characters like Chinese"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-125",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-125",
    "title": "Joe Hasell",
    "section": "1.5.0",
    "text": "1.5.0\n\nFeatures\n\nrun fake keypress and keydown created in input when not fired by the browser (android)\nimprove perfomance by calculating char size only on resize and init (issue reported by @artursOs)\nnew cmd delegate method get_position/set_position added to terminal\nresolve promises returned from intrpreter in jQuery 2.x\nallow to use newlines in prompt\ndon’t rethrow user exception when exceptionHandler is set (mainly for testing that option)\nadd option describe that is a string mapping procs from system.describe procs (default “procs”) it can be “result” or “result.procs” if system.describe is normal JSON-RPC method ### Bugs\nadd option to cmd::disable to not blur so it don’t hide android keyboard on pause\ndon’t enable terminal on init on Android\nfix next key after CTRL+V that was triggering input event (reported by @artursOs)\nfix parsing strings\ndon’t hide virtual keyboard on Android when called pause()\nfix input on Firefox with google keyboard (reported by Filip Wieland)\ndisable terminal on resume event in cordova (is the terminal is disabled when no virutal keyboard)\nfix moving cursor on click (after multiline command) and the height of the cmd plugin\nfix escape completion (that enabled by default)\nremove hardcoded DemoService from json-rpc system.describe"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-126",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-126",
    "title": "Joe Hasell",
    "section": "1.4.3",
    "text": "1.4.3\n\ndon’t execute keypress callback when terminal is disabled (reported by @artursOs)\nfix android (input event was not bind)\ndisable keypress when you press CTRL+key and caps-lock is on (bug in firefox reported by @artursOs)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-127",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-127",
    "title": "Joe Hasell",
    "section": "1.4.2",
    "text": "1.4.2\n\nfix context menu pasting and pasting images when terminal not in focus (thanks to Alex Molchanov for reporing a bug)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-128",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-128",
    "title": "Joe Hasell",
    "section": "1.4.1",
    "text": "1.4.1\n\nadd rel=“noopener” to all links\nremove anonymous function name that was duplicating parameter with the same name that was causing error in PhantomJS (thanks to @rteshnizi for bug report)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-129",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-129",
    "title": "Joe Hasell",
    "section": "1.4.0",
    "text": "1.4.0\n\nFeatures\n\nadd paste using context menu ### Bugs\nfix recursive exception when finalize echo function throw exception\nfix underline animation\nfix wordAutocomplete and add completionEscape option (issue reported by Quentin Barrand)\nimprove parsing commands (it now convert “foo”bar’baz’ to foobarbaz like bash)\nfix normalize and substring\nremove empty formatting in normalize function"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-130",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-130",
    "title": "Joe Hasell",
    "section": "1.3.1",
    "text": "1.3.1\n\nfix cols/rows that was causing signature to not show"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-131",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-131",
    "title": "Joe Hasell",
    "section": "1.3.0",
    "text": "1.3.0\n\nFeateres\n\npaste of images (using echo) in browsers that support clipboard event\nadd args_quotes to parse_/split_ command api utilities\nadd IntersectionObserver to add resizer and call resize (not all browser support it, polyfill exists)\nadd MutationObserver to detect when terminal is added/removed from DOM and call IntersectionObserver when added\nnew API utiltites normalize, substring, unclosed_strings and helper iterate_formatting\nadd default formatter that handle nested formatting\nwhen using rpc or object interpreter it will throw exception when there are unclosed strings\nelement resizer (as jQuery plugin) that work inside iframe ### Bugs\nremove onPop event from main interpreter (with null as next)\nmousewheel work without jQuery mousewheel and fix jumps of text\nfix number of rows after adding underline animation\nfix outputLimit\nfix calculation of cols and rows\nstrings object are not longer saved in variable on terminal creation so you can change it dynamically after terminal is created (use command to change language)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-132",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-132",
    "title": "Joe Hasell",
    "section": "1.2.0",
    "text": "1.2.0\n\nFeatures\n\nmake terminal accessible to screen readers:\n\nterminal focus using tab key (we can’t blur on tab keybecause it’s used to enter tab character or for completion)\nmake command line in cmd plugin hidden from screen readers\nadd role=“log” to terminal-output and hide echo command, so result of command are read by screen reader but not command that user typed and prompt"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-133",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-133",
    "title": "Joe Hasell",
    "section": "1.1.4",
    "text": "1.1.4\n\nfix size with css var with underline animation\nfix minified css (cssnano was removing unused animations)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-134",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-134",
    "title": "Joe Hasell",
    "section": "1.1.3",
    "text": "1.1.3\n\nfix click to change position when command have newlines"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-135",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-135",
    "title": "Joe Hasell",
    "section": "1.1.2",
    "text": "1.1.2\n\nfrom pauseEvents option form cmd plugin - it always execute keyboard events"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-137",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-137",
    "title": "Joe Hasell",
    "section": "1.1.0",
    "text": "1.1.0\n\nfix CMD+V on MacOS chrome\nadd stay option to insert same as in cmd plugin\nadd option pauseEvents - default set to true\nfix exception when calling purge more then once\nfix history: false option\nkeymap have priority over keydown so you can overwrite with CTRL+D keymap function"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-138",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-138",
    "title": "Joe Hasell",
    "section": "1.0.15",
    "text": "1.0.15\n\nfix echo command when press tab twice and there are more then one completion\nfix CTRL+D when paused (it now resume the interpreter)\nfocus don’t enable terminal when paused (it was hidden by you could enter text)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-139",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-139",
    "title": "Joe Hasell",
    "section": "1.0.14",
    "text": "1.0.14\n\nfix moving of the content on focus/blur when command line at the bottom\ndon’t move cursor on click when focusing\nthrow exception about key property polyfill on init of cmd plugin"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-140",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-140",
    "title": "Joe Hasell",
    "section": "1.0.12",
    "text": "1.0.12\n\nfix for Android/Chrome that have unidentified as key property for single character keys\nfix entering text in the middle on Android/Chrome\nfix backspace on Android/Chrome/SwiftKey\nfix cursor position when click on word completion on Android"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-141",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-141",
    "title": "Joe Hasell",
    "section": "1.0.11",
    "text": "1.0.11\n\nfix dead keys logic (for special keys that don’t trigger keypress like delete)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-142",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-142",
    "title": "Joe Hasell",
    "section": "1.0.9/10",
    "text": "1.0.9/10\n\nfix dead_keys logic (when keypress after special keys like arrows)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-143",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-143",
    "title": "Joe Hasell",
    "section": "1.0.8",
    "text": "1.0.8\n\nfix paste in IE and Edge"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-144",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-144",
    "title": "Joe Hasell",
    "section": "1.0.7",
    "text": "1.0.7\n\nfix exec when pause called in onInit\nfix reverse search\nfix 3 argument in completion error\nfix login from hash for async JSON-RPC\nfix focus(false)/disable in exec from hash\nfix regression of pasting in MacOS\nscroll to bottom in insert method\nremove default extra property from interpreter (all properties are saved in interperter) and make main options extra pass to intepterer not using extra property\nfix completion when text have spaces (escaped or inside quotes)\nfix dead keys on MacOSX (testing shortcuts now require keydown and keypress events)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-145",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-145",
    "title": "Joe Hasell",
    "section": "1.0.6",
    "text": "1.0.6\n\nfix AltGr on non US keyboard layouts"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-146",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-146",
    "title": "Joe Hasell",
    "section": "1.0.5",
    "text": "1.0.5\n\nfix CTRL+D to delete forward one character\ndon’t use user agent sniffing to get scroll element if terminal attached to body\nfix & on French layout"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-147",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-147",
    "title": "Joe Hasell",
    "section": "1.0.3/4",
    "text": "1.0.3/4\n\nfix keypress with key polyfill"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-148",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-148",
    "title": "Joe Hasell",
    "section": "1.0.2",
    "text": "1.0.2\n\nfix CTRL+V in Firefox and IE\nfix issue in jQuery >= 3.0\nfix space, backspace, resize and arrows in IE\nfix middle mouse paste on GNU/Linux"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-149",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-149",
    "title": "Joe Hasell",
    "section": "1.0.1",
    "text": "1.0.1\n\nfix signature"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-150",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-150",
    "title": "Joe Hasell",
    "section": "1.0.0",
    "text": "1.0.0\n\nFEATURES:\n\ncopy to system clipboard when copy to kill area\nsimplify changing of terminal colors using css variables\nalways export history and import when importHistory option is true\nadd bar and underline cursor animations and a way to enable it with single css variable\nrecalcualate cols and rows on terminal resize (not only window)\nrequest/response and onPush/onPop callbacks\nall callbacks have terminal as this (terminal in parameter stay the same)\nadd option softPause to control pause visible option - it don’t hide the prompt when set to true\nadd wordAutocomplete option (default true)\nadd complete and before_cursor api methods and use it for autocomplete\nformatting for command line (you can’t type formatting but you can use $.terminal.formatters to\nformat command you’re writing)\nnew option formatters for echo (error method by default disable formatters)\ninterpeter and terminal accept extra option that can be use in onPop or onPush\nadd keymap option to cmd, terminal and interpreter where you can add shortcuts\nclicking on character, in cmd plugin, move cursor to that character\n\n\n\nBUGS:\n\nfix width calculation with scrollbar visible\nfix exception in Firefox throw by setSelectionRange in caret plugin\nmake echo sync when echo string or function (flush didn’t work on codepen)\nfix onCommandChange callback on backspace\nDon’t echo extended commands on resize\nuse JSON.parse to process strings when parsing command line\nfix rpc in array when there are no system.describe\ncall exeptionHandler on every exception (even iternal)\nfix echo resolved content when interpreter return a promise\nfix for valid /[/]/g regex\nfix pushing JSON-RPC intepreter\nfix selection in IE\nclear selection when click anywhere in the terminal\nfix removing global events on terminal destroy\ndon’t execute javascript file when fetching line that trigger exception in browser that have fileName in exception (like Firfox)\n\n\n\nBREAKING CHANGES:\n\ncompletion function now have two arguments string and callback and terminal is in this\nremoved setInterpreter, parseArguments, splitArguments, parseCommand and splitCommand\nif you execute keydown event manualy to trigger terminal/cmd shortcuts you need to pass key property with key name (see spec/terminalSpec.js file)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-151",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-151",
    "title": "Joe Hasell",
    "section": "0.11.23",
    "text": "0.11.23\n\nadd scrollBottomOffset option"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-152",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-152",
    "title": "Joe Hasell",
    "section": "0.11.22",
    "text": "0.11.22\n\nscroll to bottom of the terminal when option scrollOnEcho is set to false but the terminal is at the bottom\nadd new api methods is_bottom and scroll_to_bottom"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-153",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-153",
    "title": "Joe Hasell",
    "section": "0.11.21",
    "text": "0.11.21\n\ndon’t scroll to terminal (using caret plugin) when it’s disabled"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-154",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-154",
    "title": "Joe Hasell",
    "section": "0.11.20",
    "text": "0.11.20\n\ndon’t convert links to formatting when raw option is true"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-155",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-155",
    "title": "Joe Hasell",
    "section": "0.11.19",
    "text": "0.11.19\n\nfix getting data from local storage\nremove spell check and auto capitalize from textarea"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-156",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-156",
    "title": "Joe Hasell",
    "section": "0.11.18",
    "text": "0.11.18\n\nfix input method"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-157",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-157",
    "title": "Joe Hasell",
    "section": "0.11.17",
    "text": "0.11.17\n\nfix echo when line is short and have newlines"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-158",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-158",
    "title": "Joe Hasell",
    "section": "0.11.16",
    "text": "0.11.16\n\nadd versioned files to npmignore\nadd global and echo option wrap to disable long line wrapping\ndon’t send warning when mime for JSON-RPC is text/json"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-159",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-159",
    "title": "Joe Hasell",
    "section": "0.11.15",
    "text": "0.11.15\n\nreplace json_stringify with JSON.stringify"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-160",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-160",
    "title": "Joe Hasell",
    "section": "0.11.14",
    "text": "0.11.14\n\nfix focus on desktop"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-161",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-161",
    "title": "Joe Hasell",
    "section": "0.11.13",
    "text": "0.11.13\n\nallow only memory storage with memory option set to true"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-162",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-162",
    "title": "Joe Hasell",
    "section": "0.11.12",
    "text": "0.11.12\n\nfix focus on mobile"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-163",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-163",
    "title": "Joe Hasell",
    "section": "0.11.11",
    "text": "0.11.11\n\nfix do not enable the terminal on click if it’s frozen"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-164",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-164",
    "title": "Joe Hasell",
    "section": "0.11.10",
    "text": "0.11.10\n\nfix focus on click"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-165",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-165",
    "title": "Joe Hasell",
    "section": "0.11.9",
    "text": "0.11.9\n\nfix outputLimit option"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-166",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-166",
    "title": "Joe Hasell",
    "section": "0.11.8",
    "text": "0.11.8\n\nadd scrollOnEcho option"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-167",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-167",
    "title": "Joe Hasell",
    "section": "0.11.7",
    "text": "0.11.7\n\nfix History::last"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-168",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-168",
    "title": "Joe Hasell",
    "section": "0.11.6",
    "text": "0.11.6\n\nfix flush\nnew API method $.terminal.last_id"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-169",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-169",
    "title": "Joe Hasell",
    "section": "0.11.5",
    "text": "0.11.5\n\nfix focus on Android"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-170",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-170",
    "title": "Joe Hasell",
    "section": "0.11.4",
    "text": "0.11.4\n\nallow to change completion using option API method"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-171",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-171",
    "title": "Joe Hasell",
    "section": "0.11.3",
    "text": "0.11.3\n\nadd echoCommand option"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-172",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-172",
    "title": "Joe Hasell",
    "section": "0.11.2",
    "text": "0.11.2\n\nallow to select text using double click"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-173",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-173",
    "title": "Joe Hasell",
    "section": "0.11.1",
    "text": "0.11.1\n\nfix exec login from hash\nallow to pause with visible command line\nnew api method clear_history_state"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-174",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-174",
    "title": "Joe Hasell",
    "section": "0.11.0",
    "text": "0.11.0\n\nfix default prompt for push\nadd word-wrap: break-word for cases when echo html that have long lines\nfix login function as setting when used with JSON-RPC\nadd help command to JSON-RPC when there is system.describe\nfix exec array and delayed commands (when you exec and don’t wait for promise to resolve)\nfix double cursor in terminals when calling resume on disabled terminal\nfix calling login after pop from login\nadd infiniteLogin option to push\nfix exec after init when used with JSON-RPC with system.describe\nmake set_interpreter return terminal object\nlogout when onBeforeLogin return false\nfix backspace in Vivaldi browser by keeping focus in textarea for all browsers\nnew API method last_index\nalow to remove the line by passing null as replacement to update function\nfix number of characters per line\nfix paste on MacOSX"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-175",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-175",
    "title": "Joe Hasell",
    "section": "0.10.12",
    "text": "0.10.12\n\nfix css animation of blinking in minified file"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-176",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-176",
    "title": "Joe Hasell",
    "section": "0.10.11",
    "text": "0.10.11\n\nfix check arity for nested object; throw error when calling logout in login"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-177",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-177",
    "title": "Joe Hasell",
    "section": "0.10.10",
    "text": "0.10.10\n\nescape brackets while echo completion strings"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-178",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-178",
    "title": "Joe Hasell",
    "section": "0.10.9",
    "text": "0.10.9\n\nfix issue with jQuery Timers when page included another jQuery after initialization"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-179",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-179",
    "title": "Joe Hasell",
    "section": "0.10.8",
    "text": "0.10.8\n\nadd mangle option to uglifyjs"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-180",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-180",
    "title": "Joe Hasell",
    "section": "0.10.7",
    "text": "0.10.7\n\nfix if interpreter is an array and have function"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-181",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-181",
    "title": "Joe Hasell",
    "section": "0.10.6",
    "text": "0.10.6\n\nfix overwriting of exit and clear commands"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-182",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-182",
    "title": "Joe Hasell",
    "section": "0.10.5",
    "text": "0.10.5\n\nprevent infinite loop in terminal::active when no terminal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-183",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-183",
    "title": "Joe Hasell",
    "section": "0.10.4",
    "text": "0.10.4\n\nchange -min to .min in minfied versions of files"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-184",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-184",
    "title": "Joe Hasell",
    "section": "0.10.3",
    "text": "0.10.3\n\nmake npm happy about version"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-185",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-185",
    "title": "Joe Hasell",
    "section": "0.10.2",
    "text": "0.10.2\n\nAdd minified css file"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-186",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-186",
    "title": "Joe Hasell",
    "section": "0.10.1",
    "text": "0.10.1\n\nfix url regex for formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-187",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-187",
    "title": "Joe Hasell",
    "section": "0.10.0",
    "text": "0.10.0\n\nkeepWords option to echo and words parameter in split_equal\nfix login for nested intepreters\nfix destroy of cmd plugin\nfix saving commands in hash\nallow to disable completion in nested interpreter\nchange position of cursor in reverse history search\nfix pasting in Firefox\nexec is adding command to history\nfix execHash in FireFox\ntestsing terminal and cmd plugin + call from command line\nfix exec for nested login rpc command\nfix exec from hash if commands use pause/resume\nfix exec for build in commands\nfix other various exec from hash issues\nfix local logout and login commands\nmousewheel and resize options for interpreter\nuse MIT license\nonExport and onImport events"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-188",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-188",
    "title": "Joe Hasell",
    "section": "0.9.3",
    "text": "0.9.3\n\nchange settings to method\nfix process_commands and escape_regex\nfix login from hash\nfix raw echo\ndon’t print empty string after removing extended commands strings\nfix history_state method"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-189",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-189",
    "title": "Joe Hasell",
    "section": "0.9.2",
    "text": "0.9.2\n\ndon’t change command line history if ctrl key is pressed\nfix middle mouse copy on GNU/Linux\nfix resize issue"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-190",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-190",
    "title": "Joe Hasell",
    "section": "0.9.1",
    "text": "0.9.1\n\nfreeze and frozen API methods that disable/enable terminal that can’t be enabled by click"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-191",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-191",
    "title": "Joe Hasell",
    "section": "0.9.0",
    "text": "0.9.0\n\nuse url hash to store terminal session\nfix export/import\nfocus/blur on Window focus/blur\nallow to change mask char for passwords\nfix space after completed command and in ALT+D\nclass .command in div created by echo command, and error class in error function\nCSS selection is now one solid color, also support h1..h6, tables and pre tags\nfix ANSI Formatting bug\nregex as History Filter\ncustom Formatters\nraw and globalToken options\nfix encoding entites\nallow to echo jQuery promise\nexec return promise, exec with array of commands\nauto resume/pause if user code return promise\nmobile (tested on Android) - users report that it don’t work - need testing\nfunctions splitCommand, parseCommand, splitArguments, parseArguments changed to kebab case, but the old functions are kept for backward compatibility\nnew API method read (wrapper over push), autologin and update\nextended commands with syntax [{   }]"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-192",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-192",
    "title": "Joe Hasell",
    "section": "0.8.8",
    "text": "0.8.8\n\nfix 2 json rpc bugs"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-193",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-193",
    "title": "Joe Hasell",
    "section": "0.8.7",
    "text": "0.8.7\n\nfix processing command function"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-194",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-194",
    "title": "Joe Hasell",
    "section": "0.8.6",
    "text": "0.8.6\n\none space after fully completed command"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-195",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-195",
    "title": "Joe Hasell",
    "section": "0.8.5",
    "text": "0.8.5\n\nall regex for formatting case insensitive"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-196",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-196",
    "title": "Joe Hasell",
    "section": "0.8.4",
    "text": "0.8.4\n\nfix redraw lines on import_view, fix calculating rows"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-197",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-197",
    "title": "Joe Hasell",
    "section": "0.8.3",
    "text": "0.8.3\n\nfix completion in nested interpreters\nlogin option in push\nremove pause/resume from login\nfix parsing RegExes\nfix display text with more then limit lines in one echo"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-198",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-198",
    "title": "Joe Hasell",
    "section": "0.8.2",
    "text": "0.8.2\n\nadd Terminal::exception function"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-199",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-199",
    "title": "Joe Hasell",
    "section": "0.8.1",
    "text": "0.8.1\n\nfix login/logout"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-200",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-200",
    "title": "Joe Hasell",
    "section": "0.8.0",
    "text": "0.8.0\n\nCTRL+L clear terminal\nShift+Enter insert newline\nremove tabcompletion option (now completion can be true, array or function)\nadd onRPCError and exceptionHandler callbacks\ninterpreter can be an array\nignoreSystemDescribe option\nhandle invalid JSON-RPC\nCSS style for standalone cmd plugin\nusing CSS3 Animation for blinking if supported\nfix [0m\nbetter error handling (all messages are in $.terminal.defaults.strings)\nnamed colors for terminal formatting\nexpose settings and login function\nmore tools in $.terminal\npaste kill text with CTRL+Y\npaste text from selection using middle mouse button\nfix login, history and exec\ndisable few things when in login function\nall Strings are in $.terminal.defaults.strings\nmore functions in $.terminal object"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-201",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-201",
    "title": "Joe Hasell",
    "section": "0.7.12",
    "text": "0.7.12\n\nfix terminal when start as invisible, rest property to parseCommand"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-202",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-202",
    "title": "Joe Hasell",
    "section": "0.7.11",
    "text": "0.7.11\n\nfix last history command"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-203",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-203",
    "title": "Joe Hasell",
    "section": "0.7.10",
    "text": "0.7.10\n\nfix reverse search"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-204",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-204",
    "title": "Joe Hasell",
    "section": "0.7.9",
    "text": "0.7.9\n\nDon’t show version when use source file"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-205",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-205",
    "title": "Joe Hasell",
    "section": "0.7.8",
    "text": "0.7.8\n\nAllow to call $.terminal.active() in prompt"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-206",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-206",
    "title": "Joe Hasell",
    "section": "0.7.7",
    "text": "0.7.7\n\nfix long line wrap on Init, don’t call termina::resize on init"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-207",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-207",
    "title": "Joe Hasell",
    "section": "0.7.6",
    "text": "0.7.6\n\nfix small errors and typos"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-208",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-208",
    "title": "Joe Hasell",
    "section": "0.7.5",
    "text": "0.7.5\n\nfix flush, add option linksNoReferer"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-209",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-209",
    "title": "Joe Hasell",
    "section": "0.7.4",
    "text": "0.7.4\n\nfix interpreter when there is not system.describe in JSON-RPC\nadd method flush and fix refresh"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-210",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-210",
    "title": "Joe Hasell",
    "section": "0.7.3",
    "text": "0.7.3\n\nadd ANSI 256 (8bit) formatting from Xterm\nfix Regexes\nadd ntroff formatting support (output from man)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-211",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-211",
    "title": "Joe Hasell",
    "section": "0.7.2",
    "text": "0.7.2\n\nfix purge, json-rpc, history. Improve json-rpc and add check arity"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-212",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-212",
    "title": "Joe Hasell",
    "section": "0.7.1",
    "text": "0.7.1\n\nadd tests\nterminal without eval\nfix issue with umpersand (unenclosed entinity) in multiline"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-213",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-213",
    "title": "Joe Hasell",
    "section": "0.7.0",
    "text": "0.7.0\n\nadd outputLimit, add method destroy\nadd utilities parseArguments, splitArguments, parseCommand and splitCommand to $.terminal\nallow to overwrite, by user, parsing commands in object as eval\nmake cmd chainable\nfix command line (interepters) names for localStorage use\nfix Login/Token LocalStorage names\nadd method purge (that clear localStorage)\nconvert escaped hex and octals in double quoted strings as chars\nfix Tilda on Windows\nmore ANSI codes\ncomplete common string on TAB\nfix cancel ajax on CTRL+D when paused"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-214",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-214",
    "title": "Joe Hasell",
    "section": "0.6.5",
    "text": "0.6.5\n\nfinalize and raw options in echo"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-215",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-215",
    "title": "Joe Hasell",
    "section": "0.6.4",
    "text": "0.6.4\n\nfix regexes, CMD+`, CMD+R, CMD+L on Mac, fix Resize if terminal is hidden, fix wrap ANSI formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-216",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-216",
    "title": "Joe Hasell",
    "section": "0.6.3",
    "text": "0.6.3\n\nfix arguments in automatic JSON-RPC"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-217",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-217",
    "title": "Joe Hasell",
    "section": "0.6.2",
    "text": "0.6.2\n\nfix arguments in object as eval, new option processArguments"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-218",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-218",
    "title": "Joe Hasell",
    "section": "0.6.1",
    "text": "0.6.1\n\nfix first echo (like greetings)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-219",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-219",
    "title": "Joe Hasell",
    "section": "0.6",
    "text": "0.6\n\nfix formatting with links and emails and long lines\nhistory is a list with command as last element\nhistory have size\nYou can type more characters in reverse search if command not found\nexport/import\nnResize event"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-220",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-220",
    "title": "Joe Hasell",
    "section": "0.5.4",
    "text": "0.5.4\n\nfix scroll when attaching terminal to body in non Webkit browsers"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-221",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-221",
    "title": "Joe Hasell",
    "section": "0.5.3",
    "text": "0.5.3\n\nlevel api function\nrestore mask on pop\nclick out of terminal remove focus\nCTRL+H CTRL+W\nuse selector as default name for the terminal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-222",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-222",
    "title": "Joe Hasell",
    "section": "0.5.2",
    "text": "0.5.2\n\nfix entity in lines\nadd data-text attribute to formatting span"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-223",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-223",
    "title": "Joe Hasell",
    "section": "0.5.1",
    "text": "0.5.1\n\nfunction in push\nallow to put braket in formatting (closed with escape)\nprint nested object in automatic rpc\nterminal instance in login callback"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-224",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-224",
    "title": "Joe Hasell",
    "section": "0.5",
    "text": "0.5\n\ntab completion work with callback function\npush command allow for objects\nadd CTRL+G to cancel Reverse Search"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-225",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-225",
    "title": "Joe Hasell",
    "section": "0.4.23",
    "text": "0.4.23\n\nfix Style"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-226",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-226",
    "title": "Joe Hasell",
    "section": "0.4.21/22",
    "text": "0.4.21/22\n\nSmall fixes"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-227",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-227",
    "title": "Joe Hasell",
    "section": "0.4.20",
    "text": "0.4.20\n\nadd exec, greetings, onClear, onBlur, onFocus, onTerminalChange"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-228",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-228",
    "title": "Joe Hasell",
    "section": "0.4.19",
    "text": "0.4.19\n\nadd support for ANSI terminal formatting\nfix cancelable ajax on\nadd CTRL+D\nreplace emails with link mailto\nremove formatting processing from command line\nadd text glow option to formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-229",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-229",
    "title": "Joe Hasell",
    "section": "0.4.18",
    "text": "0.4.18\n\nfix scrollbar, better exceptions in chrome, replace urls with links\none style for font and color in root .terminal class"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-230",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-230",
    "title": "Joe Hasell",
    "section": "0.4.17",
    "text": "0.4.17\n\nfix IE formatting issue by adding cross-browser split"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-231",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-231",
    "title": "Joe Hasell",
    "section": "0.4.16",
    "text": "0.4.16\n\nadd reverse history search on CTRL+R\nfix cancel ajax call on CTRL+D"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-232",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-232",
    "title": "Joe Hasell",
    "section": "0.4.15",
    "text": "0.4.15\n\nonly one command from multiply commands is added to history\nCTRL+D is handled even if exit is false"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-233",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-233",
    "title": "Joe Hasell",
    "section": "0.4.14",
    "text": "0.4.14\n\nterminal don’t add space after prompt (prompt need to add this space)\nfix historyFilter\nremove livequery"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-234",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-234",
    "title": "Joe Hasell",
    "section": "0.4.12",
    "text": "0.4.12\n\nhistory return history object\nadd historyFilter\nnew event onCommandChange that execute scroll_to_bottom\nadd event onBeforeLogin"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-235",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-235",
    "title": "Joe Hasell",
    "section": "0.4.11",
    "text": "0.4.11\n\nfix blank lines when echo longer strings"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-236",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-236",
    "title": "Joe Hasell",
    "section": "0.4.10",
    "text": "0.4.10\n\nfix long line formatting and linebreak in the middle of formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-237",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-237",
    "title": "Joe Hasell",
    "section": "0.4.9",
    "text": "0.4.9\n\nfix wrap first line when prompt contain formatting"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-238",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-238",
    "title": "Joe Hasell",
    "section": "0.4.8",
    "text": "0.4.8\n\nfix alt+d and ctrl+u"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-239",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-239",
    "title": "Joe Hasell",
    "section": "0.4.7",
    "text": "0.4.7\n\nfix inserting special characters in Webkit on Windows"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-240",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-240",
    "title": "Joe Hasell",
    "section": "0.4.6",
    "text": "0.4.6\n\nremove undocumented pipe operator\nrefreash prompt on resume"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-241",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-241",
    "title": "Joe Hasell",
    "section": "0.4.5",
    "text": "0.4.5\n\nfix line wrapping when text contains tabulations"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-242",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-242",
    "title": "Joe Hasell",
    "section": "0.4.4",
    "text": "0.4.4\n\nfix line wrapping with scrollbars"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-243",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-243",
    "title": "Joe Hasell",
    "section": "0.4.3",
    "text": "0.4.3\n\nfix JSON-RPC when use without login"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-244",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-244",
    "title": "Joe Hasell",
    "section": "0.4.2",
    "text": "0.4.2\n\nfix formatting when text contain empty lines"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-245",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-245",
    "title": "Joe Hasell",
    "section": "0.4.1",
    "text": "0.4.1\n\nfix formatting when text contains newline characters"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-246",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-246",
    "title": "Joe Hasell",
    "section": "0.4",
    "text": "0.4\n\nfix text formating when text splited into more then one line\nyou can pass nested objects as first argument\nadd tab completion with object passed as first argument"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-247",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-247",
    "title": "Joe Hasell",
    "section": "0.3.8",
    "text": "0.3.8\n\nfix cursor manipulation when command contain new line characters"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-248",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-248",
    "title": "Joe Hasell",
    "section": "0.3.7",
    "text": "0.3.7\n\nfix function terminal.login_name"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-249",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-249",
    "title": "Joe Hasell",
    "section": "0.3.6",
    "text": "0.3.6\n\nfix switch between terminals - when terminal is not visible scroll to current terminal"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-250",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-250",
    "title": "Joe Hasell",
    "section": "0.3.5",
    "text": "0.3.5\n\nfix scrolling in jQuery 1.6"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-251",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-251",
    "title": "Joe Hasell",
    "section": "0.3.3",
    "text": "0.3.3\n\nfixing PAGE UP/DOWN"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-252",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-252",
    "title": "Joe Hasell",
    "section": "0.3.2",
    "text": "0.3.2\n\nfixing cursor in long lines"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-253",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-253",
    "title": "Joe Hasell",
    "section": "0.3.1",
    "text": "0.3.1\n\nfixing small bugs, speed up resizing"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-254",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-254",
    "title": "Joe Hasell",
    "section": "0.3",
    "text": "0.3\n\nfix resizing on start and issue with greetings\nadd formating strings to set style of text.\nadd to echo a function which will be called when terminal is resized"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#rc2",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#rc2",
    "title": "Joe Hasell",
    "section": "0.3-RC2",
    "text": "0.3-RC2\n\nfix manipulation of long line commands"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#rc1",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#rc1",
    "title": "Joe Hasell",
    "section": "0.3-RC1",
    "text": "0.3-RC1\n\nadd callbacks and new functions\nyou can now overwrite keyboard shortcuts\nresizing recalculates lines length and redraw content\nif you create plugin for elements that are not in the DOM\nand then append it to DOM it’s display corectly\nput all dependencies in one file\nDefault greetings show terminal signature depending on width of terminal\nuse Local Sorage for command line history if posible\nremove access to command line (cmd plugin) and add interface to allow interact with it"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-255",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-255",
    "title": "Joe Hasell",
    "section": "0.2.3.9",
    "text": "0.2.3.9\n\nfix append enter character (0x0D) to the command (thanks to marat for reporting the bug)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-256",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-256",
    "title": "Joe Hasell",
    "section": "0.2.3.8",
    "text": "0.2.3.8\n\nupdate mousewheel plugin which fix scrolling in Opera (Thanks for Alexey Dubovtsev for reporting the bug)"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-257",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-257",
    "title": "Joe Hasell",
    "section": "0.2.3.7",
    "text": "0.2.3.7\n\nfix cursor in IE in tilda example"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-258",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-258",
    "title": "Joe Hasell",
    "section": "0.2.3.6",
    "text": "0.2.3.6\n\nfix json serialization in IE"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-259",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-259",
    "title": "Joe Hasell",
    "section": "0.2.3.5",
    "text": "0.2.3.5\n\nfix demos and clipboard textarea transparency in IE"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-260",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-260",
    "title": "Joe Hasell",
    "section": "0.2.3.4",
    "text": "0.2.3.4\n\nfix long lines in command line issue"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-261",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-261",
    "title": "Joe Hasell",
    "section": "0.2.3.3",
    "text": "0.2.3.3\n\nfix Terminal in Internet Exporer"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-262",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-262",
    "title": "Joe Hasell",
    "section": "0.2.3.2",
    "text": "0.2.3.2\n\nfix blank line issue (thanks to Chris Janicki for finding the bug)\nfix CTRL + Arrows scroll on CTRL+V"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-263",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-263",
    "title": "Joe Hasell",
    "section": "0.2.3.1",
    "text": "0.2.3.1\n\nallow CTRL+W CTRL+T"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-264",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-264",
    "title": "Joe Hasell",
    "section": "0.2.3",
    "text": "0.2.3\n\nfix for \"(#$%.{\" characters on Opera/Chrome\nadd cursor move with CTRL+P, CTRL+N, CTRL+F, CTRL+B which also work in Chrome fix Arrow Keys on Chrome (for cursor move and command line history)\nchange License to LGPL3."
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-265",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-265",
    "title": "Joe Hasell",
    "section": "0.2.2",
    "text": "0.2.2\n\nfix down-arrow/open parentises issue in Opera and Chrome"
  },
  {
    "objectID": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-266",
    "href": "site_apps/shinylive/jquery.terminal/CHANGELOG.html#section-266",
    "title": "Joe Hasell",
    "section": "0.2.1",
    "text": "0.2.1\n\nadd support for paste from clipboard with CTRL+V (Copy to clipboard is always enabled on websites)"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "",
    "text": "The titles in each of the boxes below summarise the steps taken to prepare the KLEMS industry data. In each case you can expand the box to see the code used.\n\n\n\n\n\n\nLoad libraries and functions\n\n\n\n\n\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.1.2\n\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──✔ ggplot2 3.3.5      ✔ purrr   0.3.4 \n✔ tibble  3.1.6      ✔ dplyr   1.0.10\n✔ tidyr   1.2.0      ✔ stringr 1.4.0 \n✔ readr   2.1.2      ✔ forcats 0.5.1 \n\n\nWarning: package 'tidyr' was built under R version 4.1.2\n\n\nWarning: package 'readr' was built under R version 4.1.2\n\n\nWarning: package 'dplyr' was built under R version 4.1.2\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(readxl) # For handling xls source data files\nlibrary(knitr)\n\n\nsource(\"PhD_pages/scripts/general_functions.R\")\n\n\n\n\n\n\n\n\n\n\nSpecify the location of four original data files\n\n\n\n\n\nWe obtain data from four KLEMS datasets:\n\nEU KLEMS version …\nCanada…\nAn additional series for the US (different industry classification, longer series..)\nJapan\n\nHere we specify corresponding lists of URLs where the original files are located, short names for the files, and local filepaths where a copy of the original data files will be saved.\n\nfiles<- c(\"32_countries\",\n          \"CAN\",\n          \"USA\")\n\n# The urls where the files can be retrieved\ndownload_urls<- c(\"http://www.euklems.net/data/09i/all_countries_09I.txt\",\n               \"https://www.worldklems.net/data/basic/CAN_WK_07_2012.xlsx\",\n               \"https://www.worldklems.net/data/basic/usa_wk_apr_2013.xlsx\"\n)\n\n# JAPAN OLD: \"https://www.worldklems.net/data/basic/JPN_wk_may_2013.xlsx\"\n\nnames(download_urls)<- files\n\n# uses the last part of the download urls as the filenames\nfilenames<- sub(\".*\\\\/\", \"\", download_urls)\n\nnames(filenames)<- files\n\n# The directory where the copies will be saved\nfp<- \"PhD_pages/data/original/KLEMS/\"\n\n# Append this directory to the file names to specify file paths\nfilepaths<- paste0(fp, filenames)\n\nnames(filepaths)<- files\n\n\n\n\n\n\n\n\n\n\nSave a local copy of the original data files\n\n\n\n\n\nIf a new copy of the original data is required, the grab_original variable can be set to TRUE. Otherwise this step is skipped.\n\ngrab_original<- FALSE\n\nif (grab_original){\n  for (file in files){\n    print(paste0(\"Downloading \", file))\n    download.file(download_urls[file], filepaths[file])\n  }\n}\n\n\n\n\n\n\n\n\n\n\nLoad locally saved copies of original data as data frames\n\n\n\n\n\n\ndf_list<- list()\n\nImporting the main data file - with data for 32 countries.\n\ndf_list[[\"32_countries\"]]<- read.csv(filepaths[\"32_countries\"], quote=\"\")\n\n# convert to long format and rename variables\ndf_list[[\"32_countries\"]]<- df_list[[\"32_countries\"]] %>%\n  pivot_longer(cols = starts_with(\"X_\"), names_to = \"year\",\n    names_prefix = \"X_\", values_to =\"value\",\n    names_transform = list(year=as.integer),\n    values_transform = list(value=as.character)) %>%\n  rename(country = X.country,\n         transaction = var)\n\n# Remove quotations (Ideally this would be handled by specifying the right format in the read.csv command above. But I was unable to find the right format specification)\ndf_list[[\"32_countries\"]]<- df_list[[\"32_countries\"]] %>%\n  mutate(country = str_replace(country, '\"', ''),\n         value = as.numeric(str_replace(value, '\"', '')))\n\n# Recode the Entity name for US: 'USA-NAICS' -> 'USA'\ndf_list[[\"32_countries\"]]<- df_list[[\"32_countries\"]] %>%\n  mutate(country = if_else(country == \"USA-NAICS\",\n                           \"USA\",\n                           country))\n\nData for Canada and the alternative series for the US.\n\ncountries<- c(\"CAN\", \"USA\")\n\nfor (country in countries){\ndf_list[[country]]<- as.data.frame(read_excel(filepaths[country],\n                                                         sheet = 'DATA'))\n\n# convert to long format and rename variables\ndf_list[[country]]<- df_list[[country]] %>%\n  pivot_longer(cols = starts_with(\"_\"), names_to = \"year\",\n    names_prefix = \"_\", values_to =\"value\",\n    names_transform = list(year=as.integer)) %>%\n  rename(transaction = Variable) %>%\n  mutate(country = country)\n\n}\n\n\n\n\n\n\n\n\n\n\nTidying Canada data\n\n\n\n\n\n\n# Drop some NA values (- data for 2009 and 2010 is given as missing)\ndf_list[[\"CAN\"]]<- df_list[[\"CAN\"]] %>%\n  filter(!is.na(value))\n\n\n# For Canada we need to calculate some industry aggregates to be comparable with other countries\nagg_industries<- list()\n\nagg_industries[['D']]<- c(\n  \"15t16\",\n  \"17t19\",\n  \"20\",\n  \"21t22\",\n  \"23\",\n  \"24\",\n  \"25\",\n  \"26\",\n  \"27t28\",\n  \"29\",\n  \"30t33\",\n  \"34t35\",\n  \"36t37\")\n\nagg_industries[['G']]<- c(\n  \"50\",\n  \"52\")\n\nagg_industries[['I']]<- c(\n  \"60t63\",\n  \"64\")\n\nagg_industries[['K']]<- c(\n  \"70\",\n  \"71t74\")\n\nfor (agg_ind in names(agg_industries)){\n  print(paste0(\"Adding aggregate data for industry: \", agg_ind))\n  \n  df_totals<- df_list[[\"CAN\"]] %>%\n  filter(code %in% agg_industries[[agg_ind]]) %>%\n    group_by(transaction, year) %>%\n    summarise(value = sum(value)) %>%\n    ungroup() %>%\n    mutate(code = agg_ind) %>%\n    mutate(country = \"CAN\")\n\n  \n  df_list[[\"CAN\"]]<- bind_rows(df_list[[\"CAN\"]], df_totals)\n  \n}\n\n[1] \"Adding aggregate data for industry: D\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"Adding aggregate data for industry: G\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"Adding aggregate data for industry: I\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"Adding aggregate data for industry: K\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n\n\n\n\n\n\n\n\n\nTidying Japan data - OLD, TO DELETE\n\n\n\n\n\n\n# Drop NA values\n# df_list[[\"JPN\"]]<- df_list[[\"JPN\"]] %>% filter(is.na(value))\n# \n# # Rename the capital compensation variable, to agree with other files\n# df_list[[\"JPN\"]]<- df_list[[\"JPN\"]] %>%\n#   mutate(transaction = replace(transaction,\n#                                transaction == \"CAP_GFCF\",\n#                                \"CAP\"))\n\n\n\n\n\n\n\n\n\n\nJoin the different dataframes together into a single dataframe\n\n\n\n\n\n\ndf<- bind_rows(\n  df_list, .id = \"source\"\n)\n\n# Make a copy of the original merged dataframe, for use later on.\ndf_orig<- df\n\n\n\n\n\n\n\n\n\n\nDrop duplicate series for the US\n\n\n\n\n\nData for the US is included in the main data file using the NAICS industry classification.\nA separate source provides a much longer series using SIC classification.\nHere we show the data for aggregate Value Added from the two datasets.\n\ndf %>%\n  filter(country %in% c(\"USA\"),\n         code == \"TOT\",\n transaction == \"VA\") %>%\n  ggplot(aes(x = year, y = value, shape = source, colour = source, alpha=0.5)) +\n  geom_point()\n\nWarning: Removed 7 rows containing missing values (geom_point).\n\n\n\n\n\nWe drop the shorter NAICS data in favour of the SIC data.\n\ndf<- df %>%\n  filter(!(country == \"USA\" & source == \"32_countries\"))\n\n\n\n\n\n\n\n\n\n\nStandardize country names\n\n\n\n\n\nHere is the mapping of country names we use to standardize across data sources.\n\nKLEMS_country_mapping<- read.csv(paste0(fp, \"KLEMS_country_name_mapping\", \".csv\"))\n\nkable(KLEMS_country_mapping)\n\n\n\n\nCountry_KLEMS\nOur_World_In_Data_country_name\n\n\n\n\nAUS\nAustralia\n\n\nAUT\nAustria\n\n\nBEL\nBelgium\n\n\nCAN\nCanada\n\n\nCYP\nCyprus\n\n\nCZE\nCzechia\n\n\nDNK\nDenmark\n\n\nESP\nSpain\n\n\nEST\nEstonia\n\n\nFIN\nFinland\n\n\nFRA\nFrance\n\n\nGER\nGermany\n\n\nGRC\nGreece\n\n\nHUN\nHungary\n\n\nIRL\nIreland\n\n\nITA\nItaly\n\n\nJPN\nJapan\n\n\nKOR\nSouth Korea\n\n\nLVA\nLatvia\n\n\nLTU\nLithuania\n\n\nLUX\nLuxembourg\n\n\nMLT\nMalta\n\n\nNLD\nNetherlands\n\n\nPOL\nPoland\n\n\nPRT\nPortugal\n\n\nSVK\nSlovakia\n\n\nSVN\nSlovenia\n\n\nSWE\nSweden\n\n\nUK\nUnited Kingdom\n\n\nUSA\nUnited States\n\n\n\n\n\nHere we map the joined KLEMS data sets to these standardized names.\n\ndf<- map_names(\n  df = df, \n  df_mapping = KLEMS_country_mapping, \n  old_country_varname_df = \"country\", \n  old_country_varname_df_mapping = \"Country_KLEMS\",\n  new_country_varname_df_mapping = \"Our_World_In_Data_country_name\",\n  new_country_varname_final = \"country\"\n)\n\n\n\n\n\n\n\n\n\n\nSelect relevant transactions and convert to wide format\n\n\n\n\n\nWe keep only the transactions we need: Value Added, Capital income, Labour income and Compensation of employees. And we spread the data to a wider format.\n\ndf<- df %>%\n  filter(transaction %in% c(\"VA\", \"CAP\", \"LAB\", \"COMP\"))\n\ndf<- df %>%\n  pivot_wider(id_cols = c(country, year, code),\n              names_from = \"transaction\",\n              values_from = \"value\")\n\n\n\n\n\n\n\n\n\n\nReplace some NA values with 0\n\n\n\n\n\nThere are many (554) country-year-industry observations where where CAP is 100% of VA, but LAB is missing.\nMost of these (537) are where both capital income and value added equal zero. Such observations appear only for the following industries:\n\nkable(\n  df %>% filter(VA == CAP & is.na(LAB) & VA == 0) %>% count(code) \n)\n\n\n\n\ncode\nn\n\n\n\n\n23\n38\n\n\nQ\n499\n\n\n\n\n\nThere are also a small number of such observations where VA>0, listed here:\n\nkable(\n  df %>% filter(VA == CAP & is.na(LAB) & VA>0)\n)\n\n\n\n\ncountry\nyear\ncode\nVA\nCOMP\nLAB\nCAP\n\n\n\n\nSouth Korea\n2000\n11\n156.0000\n117.0000\nNA\n156.0000\n\n\nSouth Korea\n2001\n11\n191.0000\n144.0000\nNA\n191.0000\n\n\nSouth Korea\n2002\n11\n218.0000\n165.0000\nNA\n218.0000\n\n\nSouth Korea\n2003\n11\n254.0000\n192.0000\nNA\n254.0000\n\n\nLithuania\n1995\n23\n249.4830\n90.5473\nNA\n249.4830\n\n\nLithuania\n1996\n23\n344.0182\n105.4249\nNA\n344.0182\n\n\nLithuania\n1997\n23\n594.2383\n118.0751\nNA\n594.2383\n\n\nLithuania\n1998\n23\n507.3072\n135.2138\nNA\n507.3072\n\n\nLithuania\n1999\n23\n396.8436\n185.2922\nNA\n396.8436\n\n\nLithuania\n2000\n23\n735.3965\n199.1357\nNA\n735.3965\n\n\nLithuania\n2001\n23\n894.1214\n185.9800\nNA\n894.1214\n\n\nLithuania\n2002\n23\n805.5637\n193.9481\nNA\n805.5637\n\n\nLithuania\n2003\n23\n927.3327\n231.7445\nNA\n927.3327\n\n\nLithuania\n2004\n23\n1367.5008\n240.9502\nNA\n1367.5008\n\n\nLithuania\n2005\n23\n1852.4656\n282.3761\nNA\n1852.4656\n\n\nLithuania\n2006\n23\n1700.6766\n265.8658\nNA\n1700.6766\n\n\nLithuania\n2007\n23\n997.4276\n278.1734\nNA\n997.4276\n\n\n\n\n\nFor both cases (i.e. where LAB is NA and either VA = CAP = 0 or VA = CAP > 0) we set LAB = 0.\n\ndf<- df %>%\n  mutate(LAB = replace(LAB,\n                       VA==CAP & is.na(LAB),\n                       0))\n\nThere is a similar set of country-year-industry observations (n = 38) where VA = LAB but CAP is NA. These we list here.\n\nkable(\n  df %>% filter(VA == LAB & is.na(CAP) & VA>0)\n)\n\n\n\n\ncountry\nyear\ncode\nVA\nCOMP\nLAB\nCAP\n\n\n\n\nSouth Korea\n1970\nP\n10317\n6209\n10317\nNA\n\n\nSouth Korea\n1971\nP\n13576\n8169\n13576\nNA\n\n\nSouth Korea\n1972\nP\n16521\n9947\n16521\nNA\n\n\nSouth Korea\n1973\nP\n19519\n11752\n19519\nNA\n\n\nSouth Korea\n1974\nP\n26913\n16210\n26913\nNA\n\n\nSouth Korea\n1975\nP\n34595\n20827\n34595\nNA\n\n\nSouth Korea\n1976\nP\n40810\n24563\n40810\nNA\n\n\nSouth Korea\n1977\nP\n44569\n26827\n44569\nNA\n\n\nSouth Korea\n1978\nP\n57411\n34560\n57411\nNA\n\n\nSouth Korea\n1979\nP\n60662\n36541\n60662\nNA\n\n\nSouth Korea\n1980\nP\n58619\n35302\n58619\nNA\n\n\nSouth Korea\n1981\nP\n34472\n20756\n34472\nNA\n\n\nSouth Korea\n1982\nP\n38822\n23373\n38822\nNA\n\n\nSouth Korea\n1983\nP\n46716\n28131\n46716\nNA\n\n\nSouth Korea\n1984\nP\n56299\n33898\n56299\nNA\n\n\nSouth Korea\n1985\nP\n82832\n49876\n82832\nNA\n\n\nSouth Korea\n1986\nP\n92915\n55952\n92915\nNA\n\n\nSouth Korea\n1987\nP\n95104\n57277\n95104\nNA\n\n\nSouth Korea\n1988\nP\n146391\n88180\n146391\nNA\n\n\nSouth Korea\n1989\nP\n191056\n115045\n191056\nNA\n\n\nSouth Korea\n1990\nP\n237028\n142698\n237028\nNA\n\n\nSouth Korea\n1991\nP\n281060\n169260\n281060\nNA\n\n\nSouth Korea\n1992\nP\n391922\n235926\n391922\nNA\n\n\nSouth Korea\n1993\nP\n496182\n298696\n496182\nNA\n\n\nSouth Korea\n1994\nP\n634342\n381825\n634342\nNA\n\n\nSouth Korea\n1995\nP\n787166\n473897\n787166\nNA\n\n\nSouth Korea\n1996\nP\n953615\n565636\n953615\nNA\n\n\nSouth Korea\n1997\nP\n1156377\n675663\n1156377\nNA\n\n\nSouth Korea\n1998\nP\n1175469\n676051\n1175469\nNA\n\n\nSouth Korea\n1999\nP\n1294462\n732933\n1294462\nNA\n\n\nSouth Korea\n2000\nP\n1394832\n777341\n1394832\nNA\n\n\nSouth Korea\n2001\nP\n1528958\n852090\n1528958\nNA\n\n\nSouth Korea\n2002\nP\n1575779\n878183\n1575779\nNA\n\n\nSouth Korea\n2003\nP\n1763435\n957074\n1763435\nNA\n\n\nSouth Korea\n2004\nP\n1844274\n1012235\n1844274\nNA\n\n\nSouth Korea\n2005\nP\n1881340\n1033843\n1881340\nNA\n\n\nSouth Korea\n2006\nP\n2030387\n1114005\n2030387\nNA\n\n\nSouth Korea\n2007\nP\n2239921\n1239479\n2239921\nNA\n\n\n\n\n\nFor these cases (i.e. where CAP is NA and VA = LAB) we set CAP = 0.\n\ndf<- df %>%\n  mutate(CAP = replace(CAP,\n                       VA==LAB & is.na(CAP),\n                       0))\n\n\n\n\n\n\n\n\n\n\nFilter and store data for main industries and the aggregate economy separately\n\n\n\n\n\n\n# This list gives the codes of the main industries\nmain_industry_codes<- c(\"AtB\",\n                        \"C\",\n                        \"D\",\n                        \"E\",\n                        \"F\",\n                        \"G\",\n                        \"H\",\n                        \"I\",\n                        \"J\",\n                        \"K\",\n                        \"L\",\n                        \"M\",\n                        \"N\",\n                        \"O\",\n                        \"P\",\n                        \"Q\")\n\n# filter for these codes\nmain_industry_accounts<- df %>%\n  filter(code %in% main_industry_codes)\n\n\n# Store reported totals separately\n\nreported_totals<- df %>%\n  filter(code == \"TOT\") %>%\n  select(-code)\n\n\n\n\n\n\n\n\n\n\nDrop country-year-industry observations that do not have all variables needed\n\n\n\n\n\nThere are some observations (n=4124) without …. . We group these by country and industry.\n\nkable(\n  main_industry_accounts %>% filter(is.na(VA) | is.na(CAP) | is.na(LAB)) %>% count(country, code)\n)\n\n\n\n\ncountry\ncode\nn\n\n\n\n\nBelgium\nAtB\n1\n\n\nBelgium\nC\n1\n\n\nBelgium\nD\n1\n\n\nBelgium\nE\n1\n\n\nBelgium\nF\n1\n\n\nBelgium\nG\n1\n\n\nBelgium\nH\n1\n\n\nBelgium\nI\n1\n\n\nBelgium\nJ\n1\n\n\nBelgium\nK\n1\n\n\nBelgium\nL\n1\n\n\nBelgium\nM\n1\n\n\nBelgium\nN\n1\n\n\nBelgium\nO\n1\n\n\nBelgium\nP\n1\n\n\nBelgium\nQ\n1\n\n\nCanada\nAtB\n2\n\n\nCanada\nC\n2\n\n\nCanada\nD\n2\n\n\nCanada\nE\n2\n\n\nCanada\nF\n2\n\n\nCanada\nG\n2\n\n\nCanada\nH\n2\n\n\nCanada\nI\n2\n\n\nCanada\nJ\n2\n\n\nCanada\nK\n2\n\n\nCanada\nL\n2\n\n\nCanada\nM\n2\n\n\nCanada\nN\n2\n\n\nCanada\nO\n2\n\n\nCanada\nP\n2\n\n\nCyprus\nAtB\n25\n\n\nCyprus\nC\n25\n\n\nCyprus\nD\n25\n\n\nCyprus\nE\n25\n\n\nCyprus\nF\n25\n\n\nCyprus\nG\n25\n\n\nCyprus\nH\n25\n\n\nCyprus\nI\n25\n\n\nCyprus\nJ\n25\n\n\nCyprus\nK\n25\n\n\nCyprus\nL\n25\n\n\nCyprus\nM\n25\n\n\nCyprus\nN\n25\n\n\nCyprus\nO\n25\n\n\nCyprus\nP\n25\n\n\nCyprus\nQ\n25\n\n\nCzechia\nAtB\n25\n\n\nCzechia\nC\n25\n\n\nCzechia\nD\n25\n\n\nCzechia\nE\n25\n\n\nCzechia\nF\n25\n\n\nCzechia\nG\n25\n\n\nCzechia\nH\n25\n\n\nCzechia\nI\n25\n\n\nCzechia\nJ\n25\n\n\nCzechia\nK\n25\n\n\nCzechia\nL\n25\n\n\nCzechia\nM\n25\n\n\nCzechia\nN\n25\n\n\nCzechia\nO\n25\n\n\nCzechia\nP\n25\n\n\nCzechia\nQ\n25\n\n\nEstonia\nAtB\n25\n\n\nEstonia\nC\n25\n\n\nEstonia\nD\n25\n\n\nEstonia\nE\n25\n\n\nEstonia\nF\n25\n\n\nEstonia\nG\n25\n\n\nEstonia\nH\n25\n\n\nEstonia\nI\n25\n\n\nEstonia\nJ\n25\n\n\nEstonia\nK\n25\n\n\nEstonia\nL\n25\n\n\nEstonia\nM\n25\n\n\nEstonia\nN\n25\n\n\nEstonia\nO\n25\n\n\nEstonia\nP\n25\n\n\nEstonia\nQ\n25\n\n\nHungary\nAtB\n22\n\n\nHungary\nC\n22\n\n\nHungary\nD\n22\n\n\nHungary\nE\n22\n\n\nHungary\nF\n22\n\n\nHungary\nG\n22\n\n\nHungary\nH\n22\n\n\nHungary\nI\n22\n\n\nHungary\nJ\n22\n\n\nHungary\nK\n22\n\n\nHungary\nL\n22\n\n\nHungary\nM\n22\n\n\nHungary\nN\n22\n\n\nHungary\nO\n22\n\n\nHungary\nP\n22\n\n\nHungary\nQ\n22\n\n\nJapan\nAtB\n4\n\n\nJapan\nC\n4\n\n\nJapan\nD\n4\n\n\nJapan\nE\n4\n\n\nJapan\nF\n4\n\n\nJapan\nG\n4\n\n\nJapan\nH\n4\n\n\nJapan\nI\n4\n\n\nJapan\nJ\n4\n\n\nJapan\nK\n4\n\n\nJapan\nL\n4\n\n\nJapan\nM\n4\n\n\nJapan\nN\n4\n\n\nJapan\nO\n4\n\n\nJapan\nP\n38\n\n\nJapan\nQ\n38\n\n\nLatvia\nAtB\n25\n\n\nLatvia\nC\n25\n\n\nLatvia\nD\n25\n\n\nLatvia\nE\n25\n\n\nLatvia\nF\n25\n\n\nLatvia\nG\n25\n\n\nLatvia\nH\n25\n\n\nLatvia\nI\n25\n\n\nLatvia\nJ\n25\n\n\nLatvia\nK\n25\n\n\nLatvia\nL\n25\n\n\nLatvia\nM\n25\n\n\nLatvia\nN\n25\n\n\nLatvia\nO\n25\n\n\nLatvia\nP\n25\n\n\nLatvia\nQ\n25\n\n\nLithuania\nAtB\n25\n\n\nLithuania\nC\n25\n\n\nLithuania\nD\n25\n\n\nLithuania\nE\n25\n\n\nLithuania\nF\n25\n\n\nLithuania\nG\n25\n\n\nLithuania\nH\n25\n\n\nLithuania\nI\n25\n\n\nLithuania\nJ\n25\n\n\nLithuania\nK\n25\n\n\nLithuania\nL\n25\n\n\nLithuania\nM\n25\n\n\nLithuania\nN\n25\n\n\nLithuania\nO\n25\n\n\nLithuania\nP\n25\n\n\nLithuania\nQ\n25\n\n\nMalta\nAtB\n25\n\n\nMalta\nC\n25\n\n\nMalta\nD\n25\n\n\nMalta\nE\n25\n\n\nMalta\nF\n25\n\n\nMalta\nG\n25\n\n\nMalta\nH\n25\n\n\nMalta\nI\n25\n\n\nMalta\nJ\n25\n\n\nMalta\nK\n25\n\n\nMalta\nL\n25\n\n\nMalta\nM\n25\n\n\nMalta\nN\n25\n\n\nMalta\nO\n25\n\n\nMalta\nP\n25\n\n\nMalta\nQ\n25\n\n\nPoland\nAtB\n26\n\n\nPoland\nC\n26\n\n\nPoland\nD\n26\n\n\nPoland\nE\n26\n\n\nPoland\nF\n26\n\n\nPoland\nG\n26\n\n\nPoland\nH\n26\n\n\nPoland\nI\n26\n\n\nPoland\nJ\n26\n\n\nPoland\nK\n26\n\n\nPoland\nL\n26\n\n\nPoland\nM\n26\n\n\nPoland\nN\n26\n\n\nPoland\nO\n26\n\n\nPoland\nP\n26\n\n\nPoland\nQ\n26\n\n\nPortugal\nAtB\n1\n\n\nPortugal\nC\n1\n\n\nPortugal\nD\n1\n\n\nPortugal\nE\n1\n\n\nPortugal\nF\n1\n\n\nPortugal\nG\n1\n\n\nPortugal\nH\n1\n\n\nPortugal\nI\n1\n\n\nPortugal\nJ\n1\n\n\nPortugal\nK\n1\n\n\nPortugal\nL\n1\n\n\nPortugal\nM\n1\n\n\nPortugal\nN\n1\n\n\nPortugal\nO\n1\n\n\nPortugal\nP\n1\n\n\nPortugal\nQ\n1\n\n\nSlovakia\nAtB\n25\n\n\nSlovakia\nC\n25\n\n\nSlovakia\nD\n25\n\n\nSlovakia\nE\n25\n\n\nSlovakia\nF\n25\n\n\nSlovakia\nG\n25\n\n\nSlovakia\nH\n25\n\n\nSlovakia\nI\n25\n\n\nSlovakia\nJ\n25\n\n\nSlovakia\nK\n25\n\n\nSlovakia\nL\n25\n\n\nSlovakia\nM\n25\n\n\nSlovakia\nN\n25\n\n\nSlovakia\nO\n25\n\n\nSlovakia\nP\n25\n\n\nSlovakia\nQ\n25\n\n\nSlovenia\nAtB\n26\n\n\nSlovenia\nC\n26\n\n\nSlovenia\nD\n26\n\n\nSlovenia\nE\n26\n\n\nSlovenia\nF\n26\n\n\nSlovenia\nG\n26\n\n\nSlovenia\nH\n26\n\n\nSlovenia\nI\n26\n\n\nSlovenia\nJ\n26\n\n\nSlovenia\nK\n26\n\n\nSlovenia\nL\n26\n\n\nSlovenia\nM\n26\n\n\nSlovenia\nN\n26\n\n\nSlovenia\nO\n26\n\n\nSlovenia\nP\n26\n\n\nSlovenia\nQ\n26\n\n\nSouth Korea\nQ\n38\n\n\n\n\n\nWe filter these out.\n\n  # TODO check if COMP is needed, and add in check here and/or calculate it where missing? if so)\n\nmain_industry_accounts<- main_industry_accounts %>% filter(!(is.na(VA) & is.na(CAP) & is.na(LAB)) )\n\n\n\n\n\n\n\n\n\n\nAdd industry code descriptions\n\n\n\n\n\nHere are the industry descriptions provided in the data.\n\nindustry_descriptions<- df_orig %>%\n  filter(code %in% main_industry_codes) %>%\n  select(code, desc) %>%\n  drop_na() %>%\n  unique() %>%\n  arrange(code)\n\nkable(industry_descriptions)\n\n\n\n\ncode\ndesc\n\n\n\n\nAtB\nAGRICULTURE, HUNTING, FORESTRY AND FISHING\n\n\nC\nMINING AND QUARRYING\n\n\nD\nTOTAL MANUFACTURING\n\n\nE\nELECTRICITY, GAS AND WATER SUPPLY\n\n\nF\nCONSTRUCTION\n\n\nG\nWHOLESALE AND RETAIL TRADE\n\n\nH\nHOTELS AND RESTAURANTS\n\n\nI\nTRANSPORT AND STORAGE AND COMMUNICATION\n\n\nJ\nFINANCIAL INTERMEDIATION\n\n\nK\nREAL ESTATE, RENTING AND BUSINESS ACTIVITIES\n\n\nL\nPUBLIC ADMIN AND DEFENCE; COMPULSORY SOCIAL SECURITY\n\n\nM\nEDUCATION\n\n\nN\nHEALTH AND SOCIAL WORK\n\n\nO\nOTHER COMMUNITY, SOCIAL AND PERSONAL SERVICES\n\n\nP\nPRIVATE HOUSEHOLDS WITH EMPLOYED PERSONS\n\n\nQ\nEXTRA-TERRITORIAL ORGANIZATIONS AND BODIES\n\n\n\n\n\nWe join these back into the clean dataframe.\n\nmain_industry_accounts<- left_join(main_industry_accounts, industry_descriptions)\n\nJoining, by = \"code\""
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#introduction",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#introduction",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Introduction",
    "text": "Introduction"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#raw-data-files",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#raw-data-files",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Raw data files",
    "text": "Raw data files\nMake a list of filenames (both to reference the correct file in the url and as the filename to save locally).\n\nfiles<- c(\"32_countries\",\n          \"Canada\",\n          \"US_alt\",\n          \"Japan\")\n\n# The urls where the files can be retrieved\ndownload_urls<- c(\"http://www.euklems.net/data/09i/all_countries_09I.txt\",\n               \"https://www.worldklems.net/data/basic/CAN_WK_07_2012.xlsx\",\n               \"https://www.worldklems.net/data/basic/usa_wk_apr_2013.xlsx\",\n               \"https://www.worldklems.net/data/basic/JPN_wk_may_2013.xlsx\"\n)\n\nnames(download_urls)<- files\n\n# uses the last part of the download urls as the filenames\nfilenames<- sub(\".*\\\\/\", \"\", download_urls)\n\nnames(filenames)<- files\n\n\n# Add directory to specify filepaths in which to save a local copy of each file\nfilepaths<- paste0(\"PhD_pages/data/original/KLEMS/\", filenames)\n\nnames(filepaths)<- files\n\nSave files locally.\n\nfor (file in files){\n  print(file)\ndownload.file(download_urls[file], filepaths[file])\n}\n\n[1] \"32_countries\"\n[1] \"Canada\"\n[1] \"US_alt\"\n[1] \"Japan\""
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#preparing-dataframes",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#preparing-dataframes",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Preparing dataframes",
    "text": "Preparing dataframes\n\ndf_list<- list()\n\nImporting the main data file - with data for 32 countries.\n\ndf_list[[\"32_countries\"]]<- read.csv(filepaths[\"32_countries\"], quote=\"\")\n\n# convert to long format and rename variables\ndf_list[[\"32_countries\"]]<- df_list[[\"32_countries\"]] %>%\n  pivot_longer(cols = starts_with(\"X_\"), names_to = \"year\",\n    names_prefix = \"X_\", values_to =\"value\",\n    names_transform = list(year=as.integer),\n    values_transform = list(value=as.character)) %>%\n  rename(country = X.country,\n         transaction = var)\n\n# Remove quotations (These come from not properly specifying the file structure in the read.csv command above. But I was unable to find the right format spec.)\ndf_list[[\"32_countries\"]]<- df_list[[\"32_countries\"]] %>%\n  mutate(country = str_replace(country, '\"', ''),\n         value = as.numeric(str_replace(value, '\"', '')))\n\nData for Canada, Japan and an alternative (longer) series for the US.\n\ncountries<- c(\"Canada\", \"US_alt\", \"Japan\")\n\nfor (country in countries){\ndf_list[[country]]<- as.data.frame(read_excel(filepaths[country],\n                                                         sheet = 'DATA'))\n\n# convert to long format and rename variables\ndf_list[[country]]<- df_list[[country]] %>%\n  pivot_longer(cols = starts_with(\"_\"), names_to = \"year\",\n    names_prefix = \"_\", values_to =\"value\",\n    names_transform = list(year=as.integer)) %>%\n  rename(transaction = Variable) %>%\n  mutate(country = country)\n\n}\n\nTidying Canada data\n\n# Drop some NA values (- data for 2009 and 2010 is given as missing)\ndf_list[[\"Canada\"]]<- df_list[[\"Canada\"]] %>%\n  filter(!is.na(value))\n\n\n# For Canada we need to calculate some industry aggregates to be comparable with other countries\nagg_industries<- list()\n\nagg_industries[['D']]<- c(\n  \"15t16\",\n  \"17t19\",\n  \"20\",\n  \"21t22\",\n  \"23\",\n  \"24\",\n  \"25\",\n  \"26\",\n  \"27t28\",\n  \"29\",\n  \"30t33\",\n  \"34t35\",\n  \"36t37\")\n\nagg_industries[['G']]<- c(\n  \"50\",\n  \"52\")\n\nagg_industries[['I']]<- c(\n  \"60t63\",\n  \"64\")\n\nagg_industries[['K']]<- c(\n  \"70\",\n  \"71t74\")\n\nfor (agg_ind in names(agg_industries)){\n  print(agg_ind)\n  \n  df_totals<- df_list[[\"Canada\"]] %>%\n  filter(code %in% agg_industries[[agg_ind]]) %>%\n    group_by(transaction, year) %>%\n    summarise(value = sum(value)) %>%\n    ungroup() %>%\n    mutate(code = agg_ind) %>%\n    mutate(country = \"Canada\")\n\n  \n  df_list[[\"Canada\"]]<- bind_rows(df_list[[\"Canada\"]], df_totals)\n  \n}\n\n[1] \"D\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"G\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"I\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\n[1] \"K\"\n\n\n`summarise()` has grouped output by 'transaction'. You can override using the\n`.groups` argument.\n\n\nTidying Japan data\n\n# Drop NA values\ndf_list[[\"Japan\"]]<- df_list[[\"Japan\"]] %>% filter(is.na(value))\n\n# Rename the capital compensation variable, to agree with other files\ndf_list[[\"Japan\"]]<- df_list[[\"Japan\"]] %>%\n  mutate(transaction = replace(transaction,\n                               transaction == \"CAP_GFCF\",\n                               \"CAP\"))\n\nJoin the different dataframes together into a single dataframe.\n\ndf<- bind_rows(\n  df_list\n)\n\nMake a dictionary of industry codes and there descriptions from the combined data sources.\n\ndf_industries<- df %>%\n  select(code, desc) %>%\n  drop_na() %>%\n  unique() \n\n# There are a couple of different spellings etc. from the different datasets. Here we just take select one (arbitrarily)\ndf_industries<- df_industries %>%\n  distinct(code, .keep_all = TRUE)\n\n# Add in the uniform industry code descriptions\ndf<- df %>%\n  select(-desc)\n\ndf<- left_join(df, df_industries)\n\nJoining, by = \"code\"\n\n\nSome more tidying\n\ndf<- df %>%\n  filter(transaction %in% c(\"VA\", \"CAP\", \"LAB\", \"COMP\"))\n\ndf<- df %>%\n  pivot_wider(names_from = \"transaction\",\n              values_from = \"value\")\n\n# Any industry where VA = CAP but LAB is missing, set LAB = 0\n  # This is generally only the case for sector Q, where VA=CAP=0.\ndf<- df %>%\n  mutate(LAB = replace(LAB,\n                       VA==CAP & is.na(LAB),\n                       0))\n\n\n# Any industry where VA = LAB but CAP is missing, set CAP = 0\n  # This is only for sector P for US (NAICS data) and Korea (and Japan where P VA = 0)\ndf<- df %>%\n  mutate(CAP = replace(CAP,\n                       VA==LAB & is.na(CAP),\n                       0))\n\n\n# Drop any country-year-industry obs that do not have data for all 4 transactions\n  # To-do check if COMP is needed, and calculate for US_alt and Japan if so)\n\ndf<- df %>% filter(!(is.na(VA) & is.na(CAP) & is.na(LAB)) )\n\nDrop USA-NAICS data (in favour of of SIC data)\n\ndf<- df %>%\n  filter(country!=\"USA-NAICS\")\n\nStandardize country names\n\n# Mapping file\nfp<- \"PhD_pages/data/original/KLEMS/KLEMS_country_name_mapping.csv\"\n\nKLEMS_country_names<- read.csv(fp)\n\nKLEMS_country_names<- KLEMS_country_names %>%\n  rename(country = Country)\n\n# aggregate shares\ndf<- merge(df, KLEMS_country_names)\n\ndf <- df %>%\n  select(-country) %>%\n  rename(country = Our.World.In.Data.Name)"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#complete-dataset-for-aggregate-industries",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#complete-dataset-for-aggregate-industries",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Complete dataset for aggregate industries",
    "text": "Complete dataset for aggregate industries\n\n# This list gives the codes of the main industries\nmain_industry_codes<- c(\"AtB\",\n                        \"C\",\n                        \"D\",\n                        \"E\",\n                        \"F\",\n                        \"G\",\n                        \"H\",\n                        \"I\",\n                        \"J\",\n                        \"K\",\n                        \"L\",\n                        \"M\",\n                        \"N\",\n                        \"O\",\n                        \"P\",\n                        \"Q\")\n\n# filter for these codes\nindustry_level_values<- df %>%\n  filter(code %in% main_industry_codes)\n\n\n# Store reported totals separately\n\nreported_total_values<- df %>%\n  filter(code == \"TOT\") %>%\n  select(-code) %>%\n  gather(transaction, reported_total, -c(country, year)) %>%\n  arrange(country, year, transaction)\n\n\n\n\n\n\n\nStandardize industry code descriptions\n\n\n\n\n\nIn some cases, the different data sources refer to the industry codes slightly differently.\n\n# df_industries<- df %>%\n#   select(code, desc) %>%\n#   drop_na() %>%\n#   unique() \n# \n# kable(df_industries)\n\n\n# There are a couple of different spellings etc. from the different datasets. Here we just take select one (arbitrarily)\n# df_industries<- df_industries %>%\n#   distinct(code, .keep_all = TRUE)\n# \n# # Add in the uniform industry code descriptions\n# df<- df %>%\n#   select(-desc)\n# \n# df<- left_join(df, df_industries)\n\n\n\n\n\nCheck industry aggregates against reported totals"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html",
    "title": "Appendix 3.B: Preparing OECD industry data",
    "section": "",
    "text": "The titles in each of the boxes below summarise the steps taken to prepare the OECD industry data. In each case you can expand the box to see the code used.\n\n\n\n\n\n\nLoad libraries and functions\n\n\n\n\n\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.1.2\n\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──✔ ggplot2 3.3.5      ✔ purrr   0.3.4 \n✔ tibble  3.1.6      ✔ dplyr   1.0.10\n✔ tidyr   1.2.0      ✔ stringr 1.4.0 \n✔ readr   2.1.2      ✔ forcats 0.5.1 \n\n\nWarning: package 'tidyr' was built under R version 4.1.2\n\n\nWarning: package 'readr' was built under R version 4.1.2\n\n\nWarning: package 'dplyr' was built under R version 4.1.2\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(rsdmx)\nlibrary(knitr)\n\nsource(\"PhD_pages/scripts/general_functions.R\")\n\n\n\n\n\n\n\n\n\n\nLoad industry generation of income and employment data\n\n\n\n\n\n\nfp<- \"PhD_pages/data/original/OECD/\"\n\nload(paste0(fp, \"industry_accounts\", \".Rda\"))\nload(paste0(fp, \"employment_by_industry\", \".Rda\"))\n\n\n\n\n\n\n\n\n\n\nStandardize country names\n\n\n\n\n\nHere is the mapping of country names we use to standardize across data sources.\n\nOECD_country_mapping<- read.csv(paste0(fp, \"OECD_country_name_mapping\", \".csv\"))\n\nkable(OECD_country_mapping)\n\n\n\n\nOECD_country_name\nOur_World_In_Data_country_name\n\n\n\n\nAUS\nAustralia\n\n\nAUT\nAustria\n\n\nBEL\nBelgium\n\n\nCAN\nCanada\n\n\nCZE\nCzechia\n\n\nDNK\nDenmark\n\n\nFIN\nFinland\n\n\nFRA\nFrance\n\n\nDEU\nGermany\n\n\nGRC\nGreece\n\n\nHUN\nHungary\n\n\nISL\nIceland\n\n\nIRL\nIreland\n\n\nITA\nItaly\n\n\nJPN\nJapan\n\n\nKOR\nSouth Korea\n\n\nLUX\nLuxembourg\n\n\nMEX\nMexico\n\n\nNLD\nNetherlands\n\n\nNZL\nNew Zealand\n\n\nNOR\nNorway\n\n\nPOL\nPoland\n\n\nPRT\nPortugal\n\n\nSVK\nSlovakia\n\n\nESP\nSpain\n\n\nSWE\nSweden\n\n\nCHE\nSwitzerland\n\n\nTUR\nTurkey\n\n\nGBR\nUnited Kingdom\n\n\nUSA\nUnited States\n\n\nCHL\nChile\n\n\nCHN\nChina\n\n\nCOL\nColombia\n\n\nEST\nEstonia\n\n\nIND\nIndia\n\n\nIDN\nIndonesia\n\n\nISR\nIsrael\n\n\nLVA\nLatvia\n\n\nRUS\nRussia\n\n\nSVN\nSlovenia\n\n\nZAF\nSouth Africa\n\n\nEU28\nEU28\n\n\nBRA\nBrazil\n\n\nLTU\nLithuania\n\n\nSAU\nSaudi Arabia\n\n\nEA19\nEA19\n\n\nCRI\nCosta Rica\n\n\nBGR\nBulgaria\n\n\nHRV\nCroatia\n\n\nCYP\nCyprus\n\n\nMLT\nMalta\n\n\nPER\nPeru\n\n\nROU\nRomania\n\n\nMKD\nNorth Macedonia\n\n\nZMB\nZambia\n\n\nCPV\nCape Verde\n\n\nMDG\nMadagascar\n\n\nMAR\nMorocco\n\n\nHKG\nHong Kong\n\n\nSRB\nSerbia\n\n\nALB\nAlbania\n\n\nSGP\nSingapore\n\n\n\n\n\nHere we map the two data sets to these standardized names.\n\nindustry_accounts<- map_names(\n  df = industry_accounts, \n  df_mapping = OECD_country_mapping, \n  old_country_varname_df = \"LOCATION\", \n  old_country_varname_df_mapping = \"OECD_country_name\",\n  new_country_varname_df_mapping = \"Our_World_In_Data_country_name\",\n  new_country_varname_final = \"country\"\n)\n\nemployment_by_industry<- map_names(\n  df = employment_by_industry, \n  df_mapping = OECD_country_mapping, \n  old_country_varname_df = \"LOCATION\", \n  old_country_varname_df_mapping = \"OECD_country_name\",\n  new_country_varname_df_mapping = \"Our_World_In_Data_country_name\",\n  new_country_varname_final = \"country\"\n)\n\n\n\n\n\n\n\n\n\n\nClean year variable in both files\n\n\n\n\n\n\nclean_year<- function(df){\n  df<- df %>%\n    mutate(year = as.numeric(obsTime))\n}\n\nindustry_accounts<- clean_year(industry_accounts)\nemployment_by_industry<- clean_year(employment_by_industry)\n\n\n\n\n\n\n\n\n\n\nFurther tidying of industry generation of income data\n\n\n\n\n\n\n# Filter for only current price data and the needed transactions\nindustry_accounts<- industry_accounts %>%\n  filter(MEASURE == \"C\" & \n           TRANSACT %in% c(\"B1GA\", \"D1A\",\"B2G_B3GA\", \"B2N_B3NA\"))\n\n\n# Recode transactions from national accounts codes to something more legible\nrecoding_transactions <- c(\n  B1GA = \"VA\", # (Gross) Value added\n  D1A = \"COMP\", # Compensation of employees\n  B2G_B3GA = \"GOS\", # Gross operating surplus\n  B2N_B3NA = \"NOS\") # Net operating surplus (net of depreciation)\n\nindustry_accounts<- industry_accounts %>%\n  mutate(TRANSACT = recode(TRANSACT, !!!recoding_transactions))\n\n\n# flip to wide format\nindustry_accounts<- industry_accounts %>%\n  pivot_wider(names_from = TRANSACT, values_from = obsValue)\n\n\n# Select and rename needed vars\nindustry_accounts<- industry_accounts %>%\n  rename(ind_code = ACTIVITY) %>%\n  select(country, year, ind_code, VA, COMP, GOS, NOS)\n\n\n\n\n\n\n\n\n\n\nFilter and store generation of income data for main industries and the aggregate economy separately\n\n\n\n\n\n\n# Main aggregate industries\n\nmain_industry_codes<- c(\"VA0\", \"VB\", \"VC\", \"VD\", \"VE\", \"VF\", \"VG\", \"VH\", \"VI\",\n                        \"VJ\", \"VK\", \"VL\", \"VM\", \"VN\", \"VO\", \"VP\", \"VQ\", \"VR\",\n                        \"VS\", \"VT\", \"VU\")\n\n# Filter industry data for main industry codes only\nmain_industry_accounts<- industry_accounts %>%\n  filter(ind_code %in% main_industry_codes)\n\n# Store economy-wide aggregates separately\nreported_totals <- industry_accounts %>%\n  filter(ind_code == 'VTOT')\n\n\n\n\n\n\n\n\n\n\nFurther tidying of industry employment data.\n\n\n\n\n\n\n# Select self-employed and employed hours and flip to wide format\nemployment_by_industry<- employment_by_industry %>%\n  filter(TRANSACT %in% c(\"ESEA\", \"EEMA\")) %>%  # codes for self-employed and employed\n  pivot_wider(id_cols = c(country, year, ACTIVITY), names_from = TRANSACT, values_from = obsValue)\n  \n  \n# Select and rename needed vars\nemployment_by_industry<- employment_by_industry %>%\n  rename(self_employed_hrs = ESEA, \n         employed_hrs = EEMA,\n         ind_code = ACTIVITY)\n\n\n\n\n\n\n\n\n\n\nJoin generation of income and employment data\n\n\n\n\n\n\nmain_industry_accounts<- left_join(main_industry_accounts, employment_by_industry)\n\nJoining, by = c(\"country\", \"year\", \"ind_code\")\n\n\n\n\n\n\n\n\n\n\n\nFilter out observations where the implied wage is infinite\n\n\n\n\n\nIn the joined data, there are a small number of rows where employed hours = 0 but compensation of employees > 0 — implying an infinite wage.\nHere we show these illogical rows, grouped by country and industry.\n\nkable(\n  main_industry_accounts %>%\n  filter((COMP>0 & employed_hrs == 0))\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncountry\nyear\nind_code\nVA\nCOMP\nGOS\nNOS\nemployed_hrs\nself_employed_hrs\n\n\n\n\nSweden\n2013\nVU\n0.0000\n1.0000\n-1.0000\n-1.0000\n0\n0.0000\n\n\nSweden\n2014\nVU\n0.0000\n1.0000\n-1.0000\n-1.0000\n0\n0.0000\n\n\nIceland\n2008\nVU\n249.4220\n17.8558\n231.5661\n228.7061\n0\n0.0754\n\n\nIceland\n2009\nVU\n359.9626\n3.8250\n356.1376\n354.9061\n0\n0.0982\n\n\nIceland\n2010\nVU\n332.6180\n5.8069\n326.8111\n324.5453\n0\n0.0974\n\n\nIceland\n2011\nVU\n277.2998\n12.7335\n264.5663\n261.9393\n0\n0.0954\n\n\nIceland\n2012\nVU\n309.9038\n13.8233\n296.0805\n292.7195\n0\n0.0930\n\n\nIceland\n2013\nVU\n367.6808\n19.2799\n348.4009\n345.6643\n0\n0.0884\n\n\nIceland\n2014\nVU\n368.1314\n10.5000\n357.6314\n351.5447\n0\n0.0879\n\n\nIceland\n2015\nVU\n351.6148\n17.3108\n334.3040\n330.2204\n0\n0.0891\n\n\nIceland\n2016\nVU\n212.7921\n12.6489\n200.1431\n196.3832\n0\n0.0963\n\n\nIceland\n2008\nVT\n826.4422\n886.5291\n-60.0869\n-60.0869\n0\n0.0004\n\n\nIceland\n2009\nVT\n930.1532\n988.7751\n-58.6219\n-58.6219\n0\n0.0008\n\n\nIceland\n2010\nVT\n980.6743\n1026.0100\n-45.3357\n-45.3357\n0\n0.0004\n\n\nIceland\n2011\nVT\n1024.7743\n1066.8373\n-42.0630\n-42.0630\n0\n0.0020\n\n\nIceland\n2012\nVT\n1107.2000\n1155.6890\n-48.4890\n-48.4890\n0\n0.0019\n\n\n\n\n\nWe drop these.\n\nmain_industry_accounts<- main_industry_accounts %>%\n  filter(!(COMP>0 & employed_hrs == 0))\n\n\n\n\n\n\n\n\n\n\nFilter out country-year-industry observations without all the variables we need\n\n\n\n\n\nThere are some rows where we do not have all the variables we will need for the calculations: VA, COMP, GOS, and employed and self-employed hours.\n\nkable(\n  main_industry_accounts %>%\n    filter(is.na(VA) | is.na(COMP) | is.na(GOS) | is.na(employed_hrs) | is.na(self_employed_hrs)) %>%\n    count(country, ind_code)\n)\n\n\n\n\ncountry\nind_code\nn\n\n\n\n\nBelgium\nVA0\n4\n\n\nBelgium\nVB\n4\n\n\nBelgium\nVC\n4\n\n\nBelgium\nVD\n4\n\n\nBelgium\nVE\n4\n\n\nBelgium\nVF\n4\n\n\nBelgium\nVG\n4\n\n\nBelgium\nVH\n4\n\n\nBelgium\nVI\n4\n\n\nBelgium\nVJ\n4\n\n\nBelgium\nVK\n4\n\n\nBelgium\nVL\n4\n\n\nBelgium\nVM\n4\n\n\nBelgium\nVN\n4\n\n\nBelgium\nVO\n4\n\n\nBelgium\nVP\n4\n\n\nBelgium\nVQ\n4\n\n\nBelgium\nVR\n4\n\n\nBelgium\nVS\n4\n\n\nBelgium\nVT\n4\n\n\nBelgium\nVU\n22\n\n\nBulgaria\nVT\n23\n\n\nBulgaria\nVU\n23\n\n\nCanada\nVT\n4\n\n\nChile\nVA0\n5\n\n\nChile\nVB\n5\n\n\nChile\nVC\n5\n\n\nChile\nVD\n5\n\n\nChile\nVE\n2\n\n\nChile\nVF\n5\n\n\nChile\nVG\n5\n\n\nChile\nVH\n5\n\n\nChile\nVI\n5\n\n\nChile\nVJ\n5\n\n\nChile\nVK\n5\n\n\nChile\nVL\n5\n\n\nChile\nVM\n5\n\n\nChile\nVO\n5\n\n\nChile\nVP\n5\n\n\nChile\nVQ\n5\n\n\nChile\nVR\n1\n\n\nChile\nVS\n5\n\n\nColombia\nVA0\n3\n\n\nColombia\nVB\n3\n\n\nColombia\nVC\n3\n\n\nColombia\nVD\n3\n\n\nColombia\nVE\n3\n\n\nColombia\nVF\n3\n\n\nColombia\nVG\n3\n\n\nColombia\nVH\n3\n\n\nColombia\nVI\n3\n\n\nColombia\nVJ\n3\n\n\nColombia\nVK\n3\n\n\nColombia\nVL\n3\n\n\nColombia\nVM\n3\n\n\nColombia\nVO\n3\n\n\nColombia\nVP\n3\n\n\nColombia\nVQ\n3\n\n\nColombia\nVR\n3\n\n\nColombia\nVT\n3\n\n\nCosta Rica\nVT\n21\n\n\nCosta Rica\nVU\n21\n\n\nCyprus\nVU\n23\n\n\nEA19\nVA0\n17\n\n\nEA19\nVB\n17\n\n\nEA19\nVC\n17\n\n\nEA19\nVD\n17\n\n\nEA19\nVE\n17\n\n\nEA19\nVF\n17\n\n\nEA19\nVG\n17\n\n\nEA19\nVH\n17\n\n\nEA19\nVI\n17\n\n\nEA19\nVJ\n17\n\n\nEA19\nVK\n17\n\n\nEA19\nVL\n17\n\n\nEA19\nVM\n17\n\n\nEA19\nVN\n17\n\n\nEA19\nVO\n17\n\n\nEA19\nVP\n17\n\n\nEA19\nVQ\n17\n\n\nEA19\nVR\n17\n\n\nEA19\nVS\n17\n\n\nEA19\nVT\n17\n\n\nEA19\nVU\n22\n\n\nEU28\nVA0\n17\n\n\nEU28\nVB\n17\n\n\nEU28\nVC\n17\n\n\nEU28\nVD\n17\n\n\nEU28\nVE\n17\n\n\nEU28\nVF\n17\n\n\nEU28\nVG\n17\n\n\nEU28\nVH\n17\n\n\nEU28\nVI\n17\n\n\nEU28\nVJ\n17\n\n\nEU28\nVK\n17\n\n\nEU28\nVL\n17\n\n\nEU28\nVM\n17\n\n\nEU28\nVN\n17\n\n\nEU28\nVO\n17\n\n\nEU28\nVP\n17\n\n\nEU28\nVQ\n17\n\n\nEU28\nVR\n17\n\n\nEU28\nVS\n17\n\n\nEU28\nVT\n17\n\n\nEU28\nVU\n22\n\n\nFinland\nVO\n38\n\n\nFinland\nVT\n38\n\n\nFrance\nVA0\n28\n\n\nFrance\nVB\n20\n\n\nFrance\nVC\n28\n\n\nFrance\nVD\n20\n\n\nFrance\nVE\n20\n\n\nFrance\nVF\n28\n\n\nFrance\nVG\n28\n\n\nFrance\nVH\n28\n\n\nFrance\nVI\n28\n\n\nFrance\nVJ\n28\n\n\nFrance\nVK\n28\n\n\nFrance\nVL\n28\n\n\nFrance\nVM\n20\n\n\nFrance\nVN\n20\n\n\nFrance\nVO\n20\n\n\nFrance\nVP\n20\n\n\nFrance\nVQ\n20\n\n\nFrance\nVR\n20\n\n\nFrance\nVS\n20\n\n\nFrance\nVT\n23\n\n\nHungary\nVU\n15\n\n\nIceland\nVT\n9\n\n\nIceland\nVU\n10\n\n\nJapan\nVA0\n24\n\n\nJapan\nVB\n24\n\n\nJapan\nVC\n24\n\n\nJapan\nVD\n24\n\n\nJapan\nVF\n24\n\n\nJapan\nVG\n24\n\n\nJapan\nVH\n24\n\n\nJapan\nVI\n24\n\n\nJapan\nVJ\n24\n\n\nJapan\nVK\n24\n\n\nJapan\nVL\n24\n\n\nJapan\nVM\n24\n\n\nJapan\nVO\n24\n\n\nJapan\nVP\n24\n\n\nJapan\nVQ\n24\n\n\nJapan\nVR\n24\n\n\nLatvia\nVT\n5\n\n\nLatvia\nVU\n21\n\n\nLithuania\nVO\n23\n\n\nMalta\nVT\n23\n\n\nMalta\nVU\n23\n\n\nMexico\nVU\n3\n\n\nPeru\nVT\n8\n\n\nPeru\nVU\n8\n\n\nPoland\nVU\n5\n\n\nSpain\nVA0\n23\n\n\nSpain\nVB\n23\n\n\nSpain\nVC\n23\n\n\nSpain\nVD\n23\n\n\nSpain\nVE\n23\n\n\nSpain\nVF\n23\n\n\nSpain\nVG\n23\n\n\nSpain\nVH\n23\n\n\nSpain\nVI\n23\n\n\nSpain\nVJ\n23\n\n\nSpain\nVK\n23\n\n\nSpain\nVL\n23\n\n\nSpain\nVM\n23\n\n\nSpain\nVN\n23\n\n\nSpain\nVO\n23\n\n\nSpain\nVP\n23\n\n\nSpain\nVQ\n23\n\n\nSpain\nVR\n23\n\n\nSpain\nVS\n23\n\n\nSpain\nVT\n23\n\n\nSpain\nVU\n23\n\n\nSweden\nVA0\n1\n\n\nSweden\nVB\n1\n\n\nSweden\nVC\n1\n\n\nSweden\nVD\n1\n\n\nSweden\nVE\n1\n\n\nSweden\nVF\n1\n\n\nSweden\nVG\n1\n\n\nSweden\nVH\n1\n\n\nSweden\nVI\n1\n\n\nSweden\nVJ\n1\n\n\nSweden\nVK\n1\n\n\nSweden\nVL\n1\n\n\nSweden\nVM\n1\n\n\nSweden\nVN\n1\n\n\nSweden\nVO\n4\n\n\nSweden\nVP\n1\n\n\nSweden\nVQ\n1\n\n\nSweden\nVR\n1\n\n\nSweden\nVS\n1\n\n\nSweden\nVT\n3\n\n\nSweden\nVU\n2\n\n\nUnited Kingdom\nVU\n17\n\n\nUnited States\nVA0\n20\n\n\nUnited States\nVB\n20\n\n\nUnited States\nVC\n20\n\n\nUnited States\nVD\n20\n\n\nUnited States\nVE\n20\n\n\nUnited States\nVF\n20\n\n\nUnited States\nVG\n20\n\n\nUnited States\nVH\n20\n\n\nUnited States\nVI\n20\n\n\nUnited States\nVJ\n20\n\n\nUnited States\nVK\n20\n\n\nUnited States\nVL\n20\n\n\nUnited States\nVM\n20\n\n\nUnited States\nVN\n20\n\n\nUnited States\nVO\n20\n\n\nUnited States\nVP\n20\n\n\nUnited States\nVQ\n20\n\n\nUnited States\nVR\n20\n\n\nUnited States\nVS\n20\n\n\nUnited States\nVT\n20\n\n\nUnited States\nVU\n21\n\n\n\n\n\nWe drop these.\n\nmain_industry_accounts<-  main_industry_accounts %>%\n    filter(!(is.na(VA) | is.na(COMP) | is.na(GOS) | is.na(employed_hrs) | is.na(self_employed_hrs)))\n\n\n\n\n\n\n\n\n\n\nFilter out country-year observations with partial industry coverage\n\n\n\n\n\nThe objective is to have complete coverage of the economy. There are some country years where coverage across industries looks decidedly incomplete.\nFor instance, out of 21 aggregate industry codes, these country years have data for fewer than 18:\n\nkable( \n to_drop<- main_industry_accounts %>%\n   count(country, year) %>%\n   filter(n<18)\n)\n\n\n\n\ncountry\nyear\nn\n\n\n\n\nFrance\n2017\n10\n\n\nLatvia\n1995\n5\n\n\nLatvia\n1996\n5\n\n\nLatvia\n1997\n5\n\n\nLatvia\n1998\n5\n\n\nLatvia\n1999\n5\n\n\n\n\n\nWe drop these country-years with apparently incomplete data.\n\nmain_industry_accounts<- left_join(main_industry_accounts, to_drop) %>%\n  filter(is.na(n)) %>%\n  select(-n)\n\nJoining, by = c(\"country\", \"year\")\n\n\nBut because of differences in national accounting methods, missing data for a given industry does not imply the accounts are incomplete.\nIn particular, the dataset contains only 398 country-year observations for VU (as compared to 658 for VA0) and these are in general only NA or 0 values.\n\nsummary(main_industry_accounts %>% filter(ind_code == \"VU\"))\n\n   country               year        ind_code               VA         COMP  \n Length:398         Min.   :1966   Length:398         Min.   :0   Min.   :0  \n Class :character   1st Qu.:1997   Class :character   1st Qu.:0   1st Qu.:0  \n Mode  :character   Median :2004   Mode  :character   Median :0   Median :0  \n                    Mean   :2002                      Mean   :0   Mean   :0  \n                    3rd Qu.:2011                      3rd Qu.:0   3rd Qu.:0  \n                    Max.   :2017                      Max.   :0   Max.   :0  \n                                                                             \n      GOS         NOS     employed_hrs    self_employed_hrs \n Min.   :0   Min.   :0   Min.   :0.0000   Min.   :0.000000  \n 1st Qu.:0   1st Qu.:0   1st Qu.:0.0000   1st Qu.:0.000000  \n Median :0   Median :0   Median :0.0000   Median :0.000000  \n Mean   :0   Mean   :0   Mean   :0.1579   Mean   :0.002428  \n 3rd Qu.:0   3rd Qu.:0   3rd Qu.:0.0000   3rd Qu.:0.000000  \n Max.   :0   Max.   :0   Max.   :8.4030   Max.   :0.315100  \n             NA's   :5                                      \n\n\nIn the table below we show all remaining country years in which at least one industry — other than VU — is missing.\nWe assume that these apparent gaps do not indicate incompleteness of the data, rather just differences in national accounting practices.\n\nkable( main_industry_accounts %>%\n  select(year, country, ind_code, VA) %>%\n  pivot_wider(names_from = ind_code, values_from = VA) %>%\n  filter(if_any(VA0:VT, ~ is.na(.)))\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\ncountry\nVA0\nVB\nVC\nVD\nVE\nVF\nVG\nVH\nVI\nVJ\nVK\nVL\nVM\nVN\nVO\nVP\nVQ\nVR\nVS\nVT\nVU\n\n\n\n\n1990\nAustralia\n13190.0000\n19801.0000\n52226.000\n15175.0000\nNA\n27756.0000\n41307.000\n20508.0000\n8876.0000\n14334.0000\n21745.0000\n45853.0000\n17073.0000\n8284.0000\n24717.000\n18482.0000\n20915.0000\n3035.0000\n8282.0000\nNA\nNA\n\n\n1991\nAustralia\n12899.0000\n19723.0000\n53276.000\n16038.0000\nNA\n24805.0000\n40887.000\n20957.0000\n9287.0000\n16177.0000\n24014.0000\n46006.0000\n16553.0000\n8047.0000\n25369.000\n19413.0000\n21847.0000\n3347.0000\n9109.0000\nNA\nNA\n\n\n1992\nAustralia\n14471.0000\n20664.0000\n57224.000\n16216.0000\nNA\n25183.0000\n44020.000\n21585.0000\n9847.0000\n16549.0000\n27926.0000\n47021.0000\n17718.0000\n8596.0000\n26483.000\n21056.0000\n22877.0000\n3572.0000\n9643.0000\nNA\nNA\n\n\n1993\nAustralia\n15599.0000\n20195.0000\n61661.000\n16155.0000\nNA\n27090.0000\n46310.000\n21950.0000\n11284.0000\n18307.0000\n31597.0000\n47175.0000\n18285.0000\n8865.0000\n27365.000\n22172.0000\n23812.0000\n3811.0000\n9754.0000\nNA\nNA\n\n\n1994\nAustralia\n14944.0000\n21297.0000\n65075.000\n14999.0000\nNA\n29740.0000\n49093.000\n24652.0000\n12138.0000\n17667.0000\n35636.0000\n48976.0000\n20095.0000\n9417.0000\n28859.000\n22583.0000\n24910.0000\n4223.0000\n10002.0000\nNA\nNA\n\n\n1995\nAustralia\n17897.0000\n24163.0000\n67407.000\n14599.0000\nNA\n31294.0000\n53462.000\n25775.0000\n12881.0000\n19136.0000\n38657.0000\n51293.0000\n21983.0000\n9894.0000\n30730.000\n23240.0000\n26800.0000\n4552.0000\n10699.0000\nNA\nNA\n\n\n1996\nAustralia\n18010.0000\n24035.0000\n68497.000\n14568.0000\nNA\n33347.0000\n56525.000\n26897.0000\n13302.0000\n20631.0000\n40924.0000\n56391.0000\n23577.0000\n10276.0000\n33683.000\n25020.0000\n28255.0000\n4852.0000\n11360.0000\nNA\nNA\n\n\n1997\nAustralia\n17872.0000\n25651.0000\n73481.000\n15699.0000\nNA\n34758.0000\n58097.000\n27947.0000\n14527.0000\n22968.0000\n44640.0000\n60150.0000\n25809.0000\n11780.0000\n34977.000\n26578.0000\n28927.0000\n5655.0000\n11570.0000\nNA\nNA\n\n\n1998\nAustralia\n18985.0000\n25481.0000\n74283.000\n16116.0000\nNA\n37278.0000\n61179.000\n30129.0000\n15943.0000\n24357.0000\n47903.0000\n62130.0000\n28790.0000\n13550.0000\n36780.000\n28400.0000\n31113.0000\n5917.0000\n12406.0000\nNA\nNA\n\n\n1999\nAustralia\n20622.0000\n28098.0000\n76653.000\n16361.0000\nNA\n41787.0000\n64215.000\n30927.0000\n17165.0000\n25034.0000\n51847.0000\n67033.0000\n31894.0000\n15553.0000\n37687.000\n29637.0000\n34012.0000\n6899.0000\n13366.0000\nNA\nNA\n\n\n2000\nAustralia\n24701.0000\n35415.0000\n77580.000\n17643.0000\nNA\n36352.0000\n66411.000\n32182.0000\n18136.0000\n26531.0000\n54935.0000\n70080.0000\n36628.0000\n17953.0000\n39861.000\n32063.0000\n36398.0000\n7220.0000\n13859.0000\nNA\nNA\n\n\n2001\nAustralia\n29778.0000\n36571.0000\n79646.000\n19040.0000\nNA\n42986.0000\n72654.000\n34316.0000\n18381.0000\n27703.0000\n57001.0000\n74817.0000\n39024.0000\n20096.0000\n43053.000\n33788.0000\n39068.0000\n7413.0000\n15165.0000\nNA\nNA\n\n\n2002\nAustralia\n23136.0000\n36585.0000\n87067.000\n20252.0000\nNA\n48832.0000\n78957.000\n37091.0000\n18782.0000\n29062.0000\n59310.0000\n80216.0000\n41960.0000\n22466.0000\n44752.000\n36236.0000\n41858.0000\n7857.0000\n16349.0000\nNA\nNA\n\n\n2003\nAustralia\n26366.0000\n34359.0000\n93771.000\n21390.0000\nNA\n56693.0000\n84321.000\n40407.0000\n20672.0000\n30933.0000\n62667.0000\n84183.0000\n46031.0000\n25354.0000\n48243.000\n38029.0000\n45840.0000\n8611.0000\n18042.0000\nNA\nNA\n\n\n2004\nAustralia\n26595.0000\n46337.0000\n95337.000\n22963.0000\nNA\n62450.0000\n88120.000\n44608.0000\n22042.0000\n32749.0000\n68160.0000\n91106.0000\n50376.0000\n27849.0000\n50762.000\n41088.0000\n49031.0000\n8986.0000\n18836.0000\nNA\nNA\n\n\n2005\nAustralia\n27170.0000\n65763.0000\n98515.000\n23956.0000\nNA\n66919.0000\n91881.000\n46844.0000\n23342.0000\n33036.0000\n75159.0000\n98167.0000\n55391.0000\n29936.0000\n54554.000\n44367.0000\n54007.0000\n9148.0000\n19261.0000\nNA\nNA\n\n\n2006\nAustralia\n23917.0000\n76809.0000\n100845.000\n24877.0000\nNA\n76214.0000\n99667.000\n54437.0000\n24915.0000\n35080.0000\n84889.0000\n108565.0000\n63378.0000\n34786.0000\n57298.000\n47087.0000\n59800.0000\n9261.0000\n20189.0000\nNA\nNA\n\n\n2007\nAustralia\n27533.0000\n83567.0000\n108261.000\n26375.0000\nNA\n83113.0000\n109127.000\n58070.0000\n26877.0000\n37518.0000\n91488.0000\n120572.0000\n71001.0000\n38470.0000\n58591.000\n49702.0000\n66588.0000\n10025.0000\n21249.0000\nNA\nNA\n\n\n2008\nAustralia\n28879.0000\n114984.0000\n106357.000\n27628.0000\nNA\n91258.0000\n111770.000\n58908.0000\n28699.0000\n38901.0000\n102213.0000\n130140.0000\n77574.0000\n37233.0000\n63699.000\n54507.0000\n71233.0000\n10368.0000\n23068.0000\nNA\nNA\n\n\n2009\nAustralia\n28595.0000\n95659.0000\n103965.000\n30130.0000\nNA\n97519.0000\n115607.000\n60778.0000\n30549.0000\n41583.0000\n104406.0000\n138350.0000\n83541.0000\n40514.0000\n67623.000\n58687.0000\n78687.0000\n10930.0000\n24149.0000\nNA\nNA\n\n\n2010\nAustralia\n32250.0000\n131480.0000\n104144.000\n33925.0000\nNA\n104951.0000\n122714.000\n65366.0000\n32743.0000\n41522.0000\n111475.0000\n146338.0000\n90128.0000\n45829.0000\n72603.000\n64175.0000\n87245.0000\n11342.0000\n25527.0000\nNA\nNA\n\n\n2011\nAustralia\n33809.0000\n133945.0000\n105414.000\n38224.0000\nNA\n116537.0000\n130744.000\n71522.0000\n34889.0000\n42134.0000\n117366.0000\n159265.0000\n98684.0000\n47866.0000\n77405.000\n67657.0000\n91049.0000\n12043.0000\n28236.0000\nNA\nNA\n\n\n2012\nAustralia\n35011.0000\n117925.0000\n101365.000\n43356.0000\nNA\n123397.0000\n134437.000\n75014.0000\n36059.0000\n42350.0000\n122782.0000\n169683.0000\n104381.0000\n47502.0000\n79808.000\n70948.0000\n96043.0000\n12097.0000\n27882.0000\nNA\nNA\n\n\n2013\nAustralia\n35427.0000\n133686.0000\n101638.000\n42950.0000\nNA\n129588.0000\n134274.000\n75256.0000\n36719.0000\n43024.0000\n128483.0000\n178711.0000\n104201.0000\n50054.0000\n82541.000\n74439.0000\n100960.0000\n12904.0000\n29562.0000\nNA\nNA\n\n\n2014\nAustralia\n38547.0000\n107790.0000\n102192.000\n41672.0000\nNA\n132238.0000\n135716.000\n78140.0000\n38543.0000\n43736.0000\n138430.0000\n185174.0000\n106981.0000\n52853.0000\n84573.000\n77434.0000\n108401.0000\n13378.0000\n29870.0000\nNA\nNA\n\n\n2015\nAustralia\n39685.0000\n97116.0000\n101192.000\n41033.0000\nNA\n131819.0000\n140270.000\n80005.0000\n40154.0000\n43920.0000\n146733.0000\n192985.0000\n108784.0000\n53315.0000\n91360.000\n80678.0000\n112965.0000\n13817.0000\n29701.0000\nNA\nNA\n\n\n2016\nAustralia\n47868.0000\n134325.0000\n102059.000\n43893.0000\nNA\n134196.0000\n145522.000\n83053.0000\n41102.0000\n43883.0000\n153106.0000\n201294.0000\n117804.0000\n56176.0000\n92653.000\n83346.0000\n119265.0000\n14082.0000\n30934.0000\nNA\nNA\n\n\n2017\nAustralia\n47987.0000\n151586.0000\n106749.000\n46191.0000\nNA\n139313.0000\n151166.000\n84962.0000\n42243.0000\n43680.0000\n163351.0000\n206500.0000\n125639.0000\n59337.0000\n92509.000\n87683.0000\n127547.0000\n14543.0000\n32105.0000\nNA\nNA\n\n\n1980\nFinland\n2888.0000\n169.0000\n8146.000\n774.0000\n146.0000\n2223.0000\n3317.000\n1997.0000\n455.0000\n947.0000\n720.0000\n1897.0000\n511.0000\n413.0000\nNA\n1351.0000\n1805.0000\n243.0000\n383.0000\nNA\nNA\n\n\n1981\nFinland\n2917.0000\n160.0000\n8901.000\n1078.0000\n159.0000\n2486.0000\n3778.000\n2277.0000\n521.0000\n1047.0000\n834.0000\n2269.0000\n601.0000\n481.0000\nNA\n1548.0000\n2110.0000\n297.0000\n438.0000\nNA\nNA\n\n\n1982\nFinland\n3326.0000\n185.0000\n9698.000\n1129.0000\n177.0000\n2826.0000\n4283.000\n2440.0000\n596.0000\n1215.0000\n955.0000\n2637.0000\n699.0000\n555.0000\nNA\n1770.0000\n2440.0000\n343.0000\n500.0000\nNA\nNA\n\n\n1983\nFinland\n3613.0000\n199.0000\n10640.000\n1233.0000\n207.0000\n3288.0000\n4736.000\n2731.0000\n672.0000\n1390.0000\n1043.0000\n2946.0000\n805.0000\n635.0000\nNA\n2033.0000\n2796.0000\n396.0000\n567.0000\nNA\nNA\n\n\n1984\nFinland\n3872.0000\n217.0000\n11919.000\n1229.0000\n231.0000\n3534.0000\n5238.000\n3095.0000\n750.0000\n1574.0000\n1170.0000\n3258.0000\n925.0000\n729.0000\nNA\n2231.0000\n3317.0000\n451.0000\n642.0000\nNA\nNA\n\n\n1985\nFinland\n4006.0000\n232.0000\n12645.000\n1273.0000\n268.0000\n3593.0000\n5801.000\n3373.0000\n854.0000\n1719.0000\n1557.0000\n3403.0000\n1056.0000\n800.0000\nNA\n2518.0000\n3820.0000\n512.0000\n715.0000\nNA\nNA\n\n\n1986\nFinland\n4111.0000\n218.0000\n13014.000\n1478.0000\n301.0000\n3874.0000\n6041.000\n3638.0000\n928.0000\n1927.0000\n1732.0000\n3975.0000\n1224.0000\n877.0000\nNA\n2791.0000\n4182.0000\n568.0000\n781.0000\nNA\nNA\n\n\n1987\nFinland\n3576.0000\n224.0000\n14317.000\n1574.0000\n331.0000\n4190.0000\n6746.000\n3838.0000\n1036.0000\n2154.0000\n1997.0000\n3972.0000\n1404.0000\n988.0000\nNA\n3079.0000\n4569.0000\n637.0000\n859.0000\nNA\nNA\n\n\n1988\nFinland\n3986.0000\n279.0000\n15887.000\n1545.0000\n373.0000\n4998.0000\n7482.000\n4212.0000\n1181.0000\n2379.0000\n2159.0000\n4417.0000\n1669.0000\n1109.0000\nNA\n3425.0000\n4963.0000\n697.0000\n952.0000\nNA\nNA\n\n\n1989\nFinland\n4484.0000\n356.0000\n17569.000\n1408.0000\n426.0000\n6347.0000\n8316.000\n4654.0000\n1250.0000\n2610.0000\n2489.0000\n4987.0000\n2004.0000\n1248.0000\nNA\n3788.0000\n5580.0000\n807.0000\n1066.0000\nNA\nNA\n\n\n1990\nFinland\n4909.0000\n306.0000\n17746.000\n1433.0000\n479.0000\n6614.0000\n8496.000\n4983.0000\n1351.0000\n2787.0000\n3202.0000\n5396.0000\n2269.0000\n1362.0000\nNA\n4152.0000\n6352.0000\n905.0000\n1178.0000\nNA\nNA\n\n\n1991\nFinland\n4193.0000\n300.0000\n14911.000\n1515.0000\n504.0000\n5808.0000\n7633.000\n4910.0000\n1261.0000\n2738.0000\n2779.0000\n6231.0000\n2134.0000\n1334.0000\nNA\n4467.0000\n7013.0000\n952.0000\n1249.0000\nNA\nNA\n\n\n1992\nFinland\n3627.0000\n281.0000\n15350.000\n1669.0000\n546.0000\n4414.0000\n6890.000\n4943.0000\n1132.0000\n2735.0000\n2879.0000\n6758.0000\n2013.0000\n1271.0000\nNA\n4522.0000\n7055.0000\n947.0000\n1245.0000\nNA\nNA\n\n\n1993\nFinland\n3748.0000\n265.0000\n16999.000\n1634.0000\n559.0000\n3647.0000\n6866.000\n5081.0000\n1047.0000\n2717.0000\n3220.0000\n7100.0000\n2139.0000\n1211.0000\nNA\n4504.0000\n6705.0000\n858.0000\n1218.0000\nNA\nNA\n\n\n1994\nFinland\n3799.0000\n312.0000\n19049.000\n1793.0000\n610.0000\n3844.0000\n7483.000\n5377.0000\n1092.0000\n2776.0000\n3285.0000\n7268.0000\n2453.0000\n1292.0000\nNA\n4552.0000\n6702.0000\n877.0000\n1264.0000\nNA\nNA\n\n\n1995\nFinland\n3742.0000\n307.0000\n21910.000\n2054.0000\n634.0000\n4155.0000\n8005.000\n5650.0000\n1228.0000\n3045.0000\n3630.0000\n7843.0000\n2789.0000\n1367.0000\nNA\n4784.0000\n7118.0000\n954.0000\n1304.0000\nNA\nNA\n\n\n1996\nFinland\n3521.0000\n285.0000\n21839.000\n2011.0000\n646.0000\n4658.0000\n8433.000\n5844.0000\n1228.0000\n3316.0000\n3405.0000\n8240.0000\n3143.0000\n1534.0000\nNA\n5015.0000\n7547.0000\n1009.0000\n1375.0000\nNA\nNA\n\n\n1997\nFinland\n3793.0000\n298.0000\n23999.000\n2063.0000\n656.0000\n5146.0000\n9521.000\n6236.0000\n1267.0000\n3639.0000\n3365.0000\n9076.0000\n3589.0000\n1654.0000\nNA\n5188.0000\n7722.0000\n1064.0000\n1421.0000\nNA\nNA\n\n\n1998\nFinland\n3493.0000\n300.0000\n27601.000\n2193.0000\n688.0000\n5996.0000\n10138.000\n6671.0000\n1444.0000\n4475.0000\n3580.0000\n9681.0000\n3811.0000\n1823.0000\nNA\n5515.0000\n8084.0000\n1107.0000\n1502.0000\nNA\nNA\n\n\n1999\nFinland\n3663.0000\n301.0000\n28971.000\n2014.0000\n737.0000\n6602.0000\n10630.000\n7014.0000\n1477.0000\n5196.0000\n3595.0000\n10532.0000\n4160.0000\n1940.0000\nNA\n5689.0000\n8365.0000\n1165.0000\n1567.0000\nNA\nNA\n\n\n2000\nFinland\n4030.0000\n280.0000\n32951.000\n1741.0000\n783.0000\n7344.0000\n11034.000\n7356.0000\n1534.0000\n5735.0000\n3791.0000\n11217.0000\n4456.0000\n2159.0000\nNA\n5991.0000\n8780.0000\n1242.0000\n1624.0000\nNA\nNA\n\n\n2001\nFinland\n3998.0000\n326.0000\n34135.000\n2013.0000\n815.0000\n7464.0000\n12018.000\n7949.0000\n1831.0000\n6858.0000\n4060.0000\n11926.0000\n4949.0000\n2418.0000\nNA\n6335.0000\n9450.0000\n1338.0000\n1749.0000\nNA\nNA\n\n\n2002\nFinland\n3968.0000\n346.0000\n33955.000\n2349.0000\n801.0000\n7254.0000\n12563.000\n7997.0000\n1882.0000\n7324.0000\n3566.0000\n12710.0000\n5023.0000\n2646.0000\nNA\n6693.0000\n9994.0000\n1406.0000\n1819.0000\nNA\nNA\n\n\n2003\nFinland\n3848.0000\n371.0000\n33305.000\n2625.0000\n853.0000\n7652.0000\n12735.000\n7949.0000\n1927.0000\n7196.0000\n3354.0000\n13430.0000\n5248.0000\n2796.0000\nNA\n6996.0000\n10518.0000\n1473.0000\n1883.0000\nNA\nNA\n\n\n2004\nFinland\n3778.0000\n385.0000\n34201.000\n2825.0000\n889.0000\n8329.0000\n13592.000\n8052.0000\n2152.0000\n7811.0000\n3521.0000\n14062.0000\n5640.0000\n3122.0000\nNA\n7328.0000\n11085.0000\n1510.0000\n2016.0000\nNA\nNA\n\n\n2005\nFinland\n3752.0000\n381.0000\n34939.000\n2653.0000\n941.0000\n9256.0000\n14145.000\n8175.0000\n2271.0000\n7190.0000\n3867.0000\n14592.0000\n5947.0000\n3507.0000\nNA\n7662.0000\n11788.0000\n1583.0000\n2140.0000\nNA\nNA\n\n\n2006\nFinland\n3460.0000\n519.0000\n37710.000\n3100.0000\n1049.0000\n9904.0000\n14098.000\n8059.0000\n2391.0000\n7139.0000\n4260.0000\n15195.0000\n6370.0000\n3907.0000\nNA\n7848.0000\n12323.0000\n1672.0000\n2319.0000\nNA\nNA\n\n\n2007\nFinland\n4391.0000\n559.0000\n41398.000\n3271.0000\n1101.0000\n11037.0000\n15284.000\n8650.0000\n2568.0000\n7931.0000\n4859.0000\n15997.0000\n7139.0000\n4432.0000\nNA\n8204.0000\n13067.0000\n1785.0000\n2433.0000\nNA\nNA\n\n\n2008\nFinland\n4198.0000\n661.0000\n40384.000\n3337.0000\n1214.0000\n11817.0000\n16611.000\n8852.0000\n2676.0000\n8215.0000\n4649.0000\n17359.0000\n7645.0000\n5290.0000\nNA\n8703.0000\n14126.0000\n1987.0000\n2542.0000\nNA\nNA\n\n\n2009\nFinland\n4028.0000\n616.0000\n30292.000\n3693.0000\n1292.0000\n10724.0000\n15151.000\n8183.0000\n2564.0000\n8039.0000\n4563.0000\n17789.0000\n7509.0000\n5027.0000\nNA\n9042.0000\n14790.0000\n1997.0000\n2727.0000\nNA\nNA\n\n\n2010\nFinland\n4468.0000\n811.0000\n31948.000\n4208.0000\n1528.0000\n10548.0000\n15313.000\n8420.0000\n2661.0000\n8168.0000\n4234.0000\n18325.0000\n7674.0000\n5273.0000\nNA\n9409.0000\n15263.0000\n2065.0000\n2844.0000\nNA\nNA\n\n\n2011\nFinland\n4649.0000\n810.0000\n32164.000\n3812.0000\n1554.0000\n10905.0000\n16737.000\n8715.0000\n2808.0000\n8593.0000\n4565.0000\n19414.0000\n8316.0000\n5598.0000\nNA\n9746.0000\n16151.0000\n2219.0000\n2897.0000\nNA\nNA\n\n\n2012\nFinland\n4713.0000\n804.0000\n29067.000\n3828.0000\n1587.0000\n11336.0000\n17436.000\n8947.0000\n2967.0000\n8961.0000\n4635.0000\n20079.0000\n8745.0000\n5778.0000\nNA\n10105.0000\n17114.0000\n2258.0000\n2959.0000\nNA\nNA\n\n\n2013\nFinland\n5222.0000\n593.0000\n29641.000\n4105.0000\n1644.0000\n11300.0000\n17222.000\n8873.0000\n2793.0000\n9253.0000\n4332.0000\n20967.0000\n8934.0000\n5801.0000\nNA\n10201.0000\n17460.0000\n2297.0000\n2992.0000\nNA\nNA\n\n\n2014\nFinland\n4934.0000\n552.0000\n29908.000\n4130.0000\n1723.0000\n11081.0000\n16855.000\n8790.0000\n2859.0000\n9825.0000\n5230.0000\n21663.0000\n8904.0000\n5928.0000\nNA\n10252.0000\n17657.0000\n2278.0000\n3030.0000\nNA\nNA\n\n\n2015\nFinland\n4665.0000\n635.0000\n31024.000\n3920.0000\n1762.0000\n11552.0000\n17004.000\n8955.0000\n3020.0000\n10365.0000\n5204.0000\n22820.0000\n9228.0000\n5909.0000\nNA\n10247.0000\n17991.0000\n2321.0000\n3075.0000\nNA\nNA\n\n\n2016\nFinland\n5143.0000\n667.0000\n31671.000\n3821.0000\n1809.0000\n12764.0000\n17019.000\n8873.0000\n3202.0000\n10748.0000\n5448.0000\n23684.0000\n9367.0000\n6328.0000\nNA\n10169.0000\n18387.0000\n2456.0000\n3092.0000\nNA\nNA\n\n\n2017\nFinland\n5318.0000\n750.0000\n33941.000\n4145.0000\n1864.0000\n13788.0000\n17551.000\n9217.0000\n3464.0000\n11195.0000\n5635.0000\n24634.0000\n10043.0000\n6842.0000\nNA\n9998.0000\n18132.0000\n2456.0000\n3075.0000\nNA\nNA\n\n\n2016\nFrance\n32323.0000\n1877.0000\n229787.000\n37091.0000\n14322.0000\n108346.0000\n206063.000\n88874.0000\n55184.0000\n103169.0000\n80311.0000\n255496.0000\n157371.0000\n110603.0000\n158477.000\n107383.0000\n184458.0000\n28739.0000\n28028.0000\nNA\n0\n\n\n2013\nNew Zealand\n16374.0000\n3579.0000\n23827.000\n5776.0000\n1646.0000\n12508.0000\n21580.000\n10348.0000\n4368.0000\n6434.0000\n12666.0000\n31404.0000\n17757.0000\n4331.0000\n9382.000\n10499.0000\n13475.0000\n3215.0000\n4185.0000\nNA\nNA\n\n\n2014\nNew Zealand\n11592.0000\n3584.0000\n26827.000\n5898.0000\n1695.0000\n13940.0000\n22979.000\n11406.0000\n4783.0000\n6551.0000\n14017.0000\n32446.0000\n18565.0000\n4562.0000\n9810.000\n10989.0000\n14262.0000\n3383.0000\n4554.0000\nNA\nNA\n\n\n2015\nNew Zealand\n11414.0000\n2378.0000\n28732.000\n5830.0000\n1837.0000\n15262.0000\n23912.000\n12303.0000\n5291.0000\n6628.0000\n14467.0000\n34591.0000\n19871.0000\n4899.0000\n10299.000\n11423.0000\n15146.0000\n3548.0000\n4707.0000\nNA\nNA\n\n\n2014\nSweden\n46804.0000\n17227.0000\n576023.000\n87586.0000\n23817.0000\n193821.0000\n379740.000\n189760.0000\n60659.0000\n202258.0000\n161047.0000\n309368.0000\n264456.0000\n121851.0000\nNA\n193348.0000\n385504.0000\n47315.0000\n57170.0000\n1767.0000\nNA\n\n\n2015\nSweden\n50503.0000\n15696.0000\n575246.000\n81448.0000\n24347.0000\n214501.0000\n401581.000\n202429.0000\n67412.0000\n286023.0000\n172550.0000\n311344.0000\n284723.0000\n131879.0000\nNA\n204381.0000\n409559.0000\n50155.0000\n59582.0000\nNA\nNA\n\n\n2016\nSweden\n49138.0000\n16170.0000\n585662.000\n83518.0000\n25333.0000\n234833.0000\n422973.000\n205624.0000\n73526.0000\n271226.0000\n170620.0000\n328005.0000\n307261.0000\n142343.0000\nNA\n219313.0000\n438432.0000\n53713.0000\n62780.0000\nNA\nNA\n\n\n2016\nEstonia\n452.3600\n200.5100\n2995.680\n617.6700\n175.2000\n1216.1600\n2380.170\n1436.5200\n377.9600\n1031.0500\n712.4500\n1971.2500\n973.7100\n718.8600\n1339.880\n877.1200\n764.3900\n285.8000\n175.7100\nNA\nNA\n\n\n2017\nEstonia\n548.9600\n236.4900\n3205.320\n672.0400\n206.9500\n1451.2000\n2495.430\n1555.4600\n413.7100\n1201.5400\n781.7900\n2054.6400\n1145.3300\n797.0100\n1439.740\n935.7500\n833.8500\n315.4700\n187.8500\nNA\nNA\n\n\n2017\nLatvia\n863.0710\n123.0870\n2890.532\n681.0500\n205.3370\n1432.3280\n3437.944\n2250.1160\n433.3380\n1188.8610\n917.5910\n2858.4380\n1147.9650\n686.1030\n1794.433\n1178.1020\n813.0480\n495.0740\n229.8130\nNA\nNA\n\n\n2008\nIceland\n77317.1239\n1728.4404\n174081.689\n55187.3470\n11825.8140\n118980.2324\n119538.326\n66450.1356\n24227.3798\n54278.0900\n119460.8476\n144792.1375\n62228.4859\n33979.3702\n76757.947\n88629.9375\n111860.3383\n17670.7931\n19384.9541\nNA\nNA\n\n\n2009\nIceland\n93437.8469\n797.1374\n180357.898\n58453.9263\n12785.1764\n67197.1190\n126505.685\n76464.2294\n26355.0991\n57204.5886\n157274.1302\n168378.1333\n60284.8375\n37190.4438\n78077.785\n97932.8733\n114177.1206\n19397.3790\n20074.9908\nNA\nNA\n\n\n2010\nIceland\n105699.6115\n864.9861\n212853.997\n68242.4996\n13914.7656\n62886.9372\n121991.055\n87485.2688\n27272.0086\n57009.4515\n125179.8756\n173208.4038\n63887.0598\n37759.3172\n78205.675\n96014.5139\n113854.5196\n20708.0728\n20158.2262\nNA\nNA\n\n\n2011\nIceland\n115601.1438\n994.2282\n224444.393\n76445.2826\n15421.8800\n63574.0457\n144519.288\n85084.8225\n30043.1957\n67186.0922\n113669.2811\n172495.6610\n64701.8564\n43176.6170\n89741.482\n98912.8113\n112441.1674\n22219.2583\n21102.5171\nNA\nNA\n\n\n2012\nIceland\n120924.4928\n1071.6392\n208713.818\n79911.6765\n16554.9308\n70976.7111\n136798.157\n87573.3100\n36248.0876\n66996.7542\n146165.3838\n179423.0985\n70866.1968\n42048.9318\n96902.424\n102767.1115\n117695.6438\n23106.0916\n21613.3991\nNA\nNA\n\n\n2012\nCanada\n30027.0000\n124526.0000\n189188.000\n35486.0000\n8611.0000\n134959.0000\n182031.000\n71428.0000\n35545.0000\n76633.0000\n116353.0000\n197061.0000\n74829.0000\n55696.0000\n122427.000\n93705.0000\n122167.0000\n12931.0000\n19412.0000\nNA\nNA\n\n\n2013\nCanada\n32738.0000\n135394.0000\n188791.000\n37130.0000\n9018.0000\n142311.0000\n188676.000\n75045.0000\n37629.0000\n78603.0000\n123286.0000\n205903.0000\n77127.0000\n57639.0000\n128120.000\n96837.0000\n126863.0000\n12843.0000\n20147.0000\nNA\nNA\n\n\n2014\nCanada\n28356.0000\n155684.0000\n194629.000\n38523.0000\n9559.0000\n149566.0000\n195681.000\n80998.0000\n39658.0000\n82373.0000\n131446.0000\n215181.0000\n81244.0000\n60220.0000\n130402.000\n99581.0000\n132252.0000\n13457.0000\n21028.0000\nNA\nNA\n\n\n2015\nCanada\n33984.0000\n88436.0000\n205285.000\n40000.0000\n9686.0000\n149303.0000\n196472.000\n84465.0000\n41263.0000\n83803.0000\n137754.0000\n225170.0000\n82278.0000\n61304.0000\n132613.000\n103148.0000\n138543.0000\n14017.0000\n21400.0000\nNA\nNA\n\n\n1991\nCosta Rica\n105236.3347\n3010.1311\n181211.615\n21021.2656\n4561.9343\n31358.9977\n127518.721\n45194.2860\n30841.8886\n19518.8112\n28661.5263\n53700.3148\n22106.8509\n5173.9922\n34926.412\n36795.7980\n30769.1475\n17665.8805\n3897.4326\nNA\nNA\n\n\n1992\nCosta Rica\n137079.9446\n4443.4282\n238457.358\n27679.7646\n6663.1364\n43738.8197\n163960.507\n57289.0279\n40373.5334\n23844.2734\n37984.5196\n67880.6044\n27672.9376\n7592.5207\n39337.282\n47920.0324\n37549.7501\n22409.7917\n5397.2905\nNA\nNA\n\n\n1993\nCosta Rica\n161149.2709\n4779.9081\n268630.633\n33567.4546\n9764.8098\n55907.4882\n190538.043\n66499.3616\n51400.8998\n28632.4578\n50367.7047\n82988.7648\n32185.7611\n10597.2177\n49212.533\n60090.3076\n47399.7955\n25122.4770\n6895.5188\nNA\nNA\n\n\n1994\nCosta Rica\n202925.2335\n6074.3005\n314132.098\n38308.3678\n10644.1184\n68965.1266\n216873.594\n77088.7848\n56764.7704\n33298.3325\n62769.2554\n104151.4775\n42550.2688\n13975.1159\n63966.988\n75994.6072\n63835.7778\n27060.3910\n8870.9008\nNA\nNA\n\n\n1995\nCosta Rica\n265351.5579\n7384.5037\n395317.557\n45212.0017\n14164.3647\n90058.2851\n267585.848\n92883.8752\n65769.6607\n42149.4948\n80342.8449\n135054.5438\n53236.8790\n18506.6873\n77651.455\n97743.8464\n83327.0357\n29830.7737\n12327.5858\nNA\nNA\n\n\n1996\nCosta Rica\n293573.3481\n8005.6183\n464370.549\n56765.3830\n16341.3023\n84427.0564\n306640.003\n100600.6984\n78166.7903\n51596.4230\n83616.1515\n177999.1999\n65140.0849\n23961.9636\n85230.276\n126586.4206\n100780.2028\n30303.2767\n16812.6530\nNA\nNA\n\n\n1997\nCosta Rica\n366860.2689\n10892.3133\n570927.649\n59969.9129\n18825.8670\n103378.4192\n374938.791\n116415.6041\n87542.6424\n62376.0397\n93743.9591\n233204.6015\n77650.6468\n33585.3609\n95339.773\n152642.0387\n119594.5073\n28943.8512\n22435.8181\nNA\nNA\n\n\n1998\nCosta Rica\n444118.7770\n13901.0248\n666910.865\n70812.2375\n23598.6196\n139169.7765\n452627.117\n123650.2572\n104001.7951\n72202.1360\n109868.7459\n293521.3323\n100029.9883\n37906.3735\n113907.515\n192028.9159\n149054.8375\n26687.3532\n28528.9664\nNA\nNA\n\n\n1999\nCosta Rica\n452423.3817\n17888.3284\n760608.202\n79357.1266\n33986.9431\n155573.3001\n496049.295\n136161.9471\n122275.3147\n77592.1883\n137079.8777\n364208.0026\n112500.4972\n61949.3807\n142040.354\n237690.4409\n187739.8461\n27218.7871\n38439.9733\nNA\nNA\n\n\n2000\nCosta Rica\n427947.7218\n21397.8444\n847561.080\n97321.4490\n40549.7869\n170441.4076\n539211.452\n167349.3520\n147958.5795\n93479.2054\n180216.3522\n404840.1702\n143831.3185\n83782.2559\n168678.678\n288785.7528\n216479.5763\n30271.4435\n44173.9630\nNA\nNA\n\n\n2001\nCosta Rica\n440267.9125\n25474.8018\n915650.692\n124581.9102\n44243.3559\n214704.0015\n594070.444\n194344.9218\n172374.3368\n115330.9604\n206217.0095\n453074.6623\n179466.7516\n102942.9450\n198271.848\n337888.4335\n253170.1204\n33754.0092\n51797.1625\nNA\nNA\n\n\n2002\nCosta Rica\n502748.2792\n27314.0837\n1037574.599\n128448.7351\n48198.3490\n223563.4789\n654175.338\n229714.0176\n187034.6809\n143899.1344\n236543.5796\n507986.2262\n209054.2063\n125142.7374\n241066.490\n394589.7901\n299664.5651\n39858.4564\n59184.1917\nNA\nNA\n\n\n2003\nCosta Rica\n608688.8792\n29916.5064\n1177582.819\n145262.7488\n58634.8707\n253131.1741\n751702.050\n277667.5379\n219880.8215\n177417.8241\n284852.2340\n583988.8825\n241052.9070\n151736.7141\n266161.756\n458373.1677\n348678.5725\n41223.5137\n64459.3253\nNA\nNA\n\n\n2004\nCosta Rica\n721483.5133\n36045.7867\n1376437.579\n180362.2845\n75162.0006\n342318.8324\n871294.014\n329278.3462\n261829.8886\n220124.2783\n321599.8275\n690517.4717\n294502.9269\n207594.5915\n299507.813\n522848.4053\n405387.5459\n46284.1863\n73246.2182\nNA\nNA\n\n\n2005\nCosta Rica\n825753.5488\n40035.9976\n1615399.967\n194325.3841\n90474.7594\n383519.0150\n1007758.925\n395125.7237\n318428.1780\n268383.5876\n406963.0703\n825246.7581\n362874.7483\n257773.4883\n335521.738\n597426.4796\n471472.8458\n54245.1966\n85190.8143\nNA\nNA\n\n\n2006\nCosta Rica\n978982.9232\n49104.0248\n1914566.283\n196062.8994\n96078.9016\n498478.4337\n1260693.928\n474169.1732\n365789.8079\n351440.8018\n499977.9577\n1002126.4517\n457540.1668\n352084.8322\n382121.764\n686515.0641\n575271.1080\n63815.7578\n102910.6755\nNA\nNA\n\n\n2007\nCosta Rica\n1099361.7389\n67640.2476\n2240456.815\n185213.7738\n105241.3255\n719173.6438\n1521867.266\n560684.6672\n431542.3819\n413413.2675\n586453.3494\n1150034.3708\n569424.3336\n479331.4764\n435512.909\n798061.2958\n682424.2026\n74686.1121\n127397.0385\nNA\nNA\n\n\n2008\nCosta Rica\n1130893.7572\n87976.3559\n2453105.333\n205127.2879\n129272.7192\n940879.0198\n1802221.679\n637574.7487\n504420.0182\n487616.5833\n713355.8084\n1327024.4441\n683604.5212\n633004.1587\n523816.649\n960707.2341\n850335.5894\n88848.5888\n147688.8898\nNA\nNA\n\n\n2009\nCosta Rica\n1242578.1465\n74649.9027\n2494626.783\n380888.1658\n150936.2170\n1041751.9767\n1729690.899\n627110.6619\n492942.2612\n543793.7194\n851562.4707\n1467360.9577\n799816.6059\n755707.7486\n658161.348\n1219214.6800\n1057051.7405\n99747.6629\n164712.5891\nNA\nNA\n\n\n2010\nCosta Rica\n1290885.1211\n68009.6475\n2834160.887\n370828.4402\n175866.7510\n1105399.0424\n1878403.769\n716169.5628\n526015.5617\n660252.8452\n875024.2514\n1650269.0154\n890659.6277\n896667.6422\n801224.607\n1436673.6463\n1264778.4685\n113941.4812\n184825.1830\nNA\nNA\n\n\n2011\nCosta Rica\n1247725.1414\n64091.3666\n2988154.593\n366465.6307\n191482.2306\n1159777.7777\n2076671.031\n799651.8177\n561944.9185\n746176.7880\n951285.4604\n1841710.5370\n981924.7896\n1057590.7151\n905470.829\n1603756.0351\n1372221.2578\n127018.2504\n204891.2111\nNA\nNA\n\n\n1995\nLithuania\n766.7428\n25.2591\n1298.618\n304.7530\n66.0163\n491.4110\n1111.325\n438.8061\n99.9581\n167.9209\n150.6739\n578.4675\n99.8927\n57.6876\nNA\n398.4046\n194.5498\n36.5857\n128.0208\n1.9212\nNA\n\n\n1996\nLithuania\n1062.6331\n44.1586\n1569.685\n350.4558\n74.4204\n593.5999\n1384.064\n601.7643\n130.9692\n232.2444\n185.4966\n653.2137\n128.9506\n78.3295\nNA\n507.2977\n261.3424\n44.9844\n158.0857\n2.8803\nNA\n\n\n1997\nLithuania\n1104.4757\n44.4503\n1876.097\n378.8248\n84.8663\n775.7778\n1634.575\n733.1817\n176.0225\n289.5510\n154.6230\n705.0602\n216.8652\n114.1215\nNA\n613.1186\n313.2411\n57.4735\n165.6558\n4.7462\nNA\n\n\n1998\nLithuania\n997.6871\n45.8628\n2043.154\n412.7937\n96.9522\n950.8095\n1839.360\n776.1326\n181.5228\n395.7493\n225.9051\n739.3346\n241.2834\n118.4094\nNA\n731.6201\n371.5596\n70.5468\n157.0933\n6.2371\nNA\n\n\n1999\nLithuania\n811.3021\n51.4959\n1924.047\n414.3591\n102.5906\n847.6259\n1729.379\n798.8451\n187.6593\n468.7223\n219.8115\n795.5368\n270.0252\n127.9929\nNA\n750.4267\n379.9158\n74.8657\n169.5190\n8.9926\nNA\n\n\n2000\nLithuania\n745.8192\n83.1272\n2240.636\n377.0353\n104.2502\n711.1308\n1976.406\n1001.7171\n179.7541\n566.7411\n245.3269\n822.2832\n310.2920\n150.4787\nNA\n714.2812\n394.2738\n77.4542\n193.7186\n10.8868\nNA\n\n\n2001\nLithuania\n691.0298\n91.3607\n2445.061\n437.3328\n113.2900\n751.4750\n2197.522\n1063.6696\n196.8707\n619.7187\n248.7365\n851.5517\n327.4437\n161.2263\nNA\n748.1351\n391.7952\n78.2080\n201.4307\n12.6168\nNA\n\n\n2002\nLithuania\n724.9795\n80.5766\n2475.919\n466.3611\n113.7398\n853.7348\n2397.788\n1219.8867\n212.2687\n693.8299\n294.7646\n872.5877\n353.2014\n193.9478\nNA\n767.8404\n396.1424\n111.9888\n225.1858\n16.4549\nNA\n\n\n2003\nLithuania\n736.4052\n84.3097\n2778.675\n612.0935\n125.6310\n1037.5944\n2621.002\n1388.8956\n230.6179\n745.3273\n286.1738\n917.1344\n488.4179\n214.0912\nNA\n768.6607\n400.6487\n109.4051\n230.0640\n21.1457\nNA\n\n\n2004\nLithuania\n760.2876\n88.4352\n3323.439\n645.0285\n137.8839\n1195.5560\n2829.931\n1524.2309\n245.5708\n726.2890\n315.3912\n1021.9676\n554.8633\n244.7361\nNA\n831.7269\n446.6239\n138.2459\n222.9286\n21.5476\nNA\n\n\n2005\nLithuania\n908.1204\n99.2209\n3832.003\n664.3664\n142.2422\n1480.6112\n3284.057\n1806.8928\n268.9505\n769.9935\n419.0722\n1217.2442\n650.6323\n323.1360\nNA\n865.1566\n515.6937\n191.0970\n209.3974\n30.9000\nNA\n\n\n2006\nLithuania\n929.4784\n109.1217\n4230.727\n673.3931\n154.3416\n2055.6062\n3547.373\n2128.9712\n297.1574\n851.5468\n620.3209\n1432.3246\n762.3070\n383.5768\nNA\n962.2837\n646.2197\n205.9815\n202.0135\n24.7554\nNA\n\n\n2007\nLithuania\n1008.2586\n118.2673\n4615.210\n755.9857\n187.1050\n2915.7737\n4374.738\n2563.6081\n339.8409\n976.1582\n912.0259\n1757.1286\n1016.5961\n514.4318\nNA\n1110.4765\n783.6154\n223.6142\n206.8758\n25.5693\nNA\n\n\n2008\nLithuania\n1072.5228\n127.8713\n5133.052\n790.2387\n206.9809\n3285.6184\n5105.392\n2746.7883\n389.7278\n984.9461\n994.1971\n2067.5339\n1053.7728\n617.6937\nNA\n1382.3967\n960.0727\n233.7251\n229.6712\n27.8269\nNA\n\n\n2009\nLithuania\n682.2346\n76.8160\n4065.347\n807.9285\n197.8790\n1600.9907\n4242.520\n2575.0438\n341.0404\n951.4668\n619.7312\n1822.9239\n990.3166\n564.7801\nNA\n1499.2558\n959.2195\n243.9438\n235.0919\n22.8233\nNA\n\n\n2010\nLithuania\n838.2365\n92.7883\n4732.930\n810.7175\n220.1438\n1470.8354\n4470.127\n3005.1473\n333.9409\n932.5614\n713.2517\n1689.5694\n923.0171\n538.8146\nNA\n1364.7612\n904.5427\n225.8510\n225.4474\n23.8656\nNA\n\n\n2011\nLithuania\n1086.3760\n119.9471\n5736.098\n778.7374\n295.9263\n1814.4270\n4981.069\n3400.3906\n367.9421\n874.9497\n751.0078\n1754.0339\n1008.4738\n569.7923\nNA\n1383.9258\n974.6810\n240.2048\n233.9825\n24.8222\nNA\n\n\n2012\nLithuania\n1339.8759\n119.1303\n6233.675\n825.1089\n315.1010\n1786.0887\n5527.456\n3703.0545\n407.9579\n909.7339\n626.4298\n1843.7278\n1075.1283\n653.4081\nNA\n1403.6039\n1036.6961\n257.6153\n256.8886\n25.7436\nNA\n\n\n2013\nLithuania\n1251.2567\n127.4546\n6154.713\n822.2172\n344.9787\n2079.8300\n5843.054\n3966.9032\n441.2025\n1025.7280\n687.1224\n2002.6318\n1157.8785\n734.3154\nNA\n1442.5107\n1098.0828\n290.3888\n298.1392\n26.9238\nNA\n\n\n2014\nLithuania\n1251.6274\n128.6863\n6346.355\n783.1273\n372.2185\n2424.5352\n6052.439\n4075.5350\n465.7410\n1050.6905\n662.1084\n2146.0812\n1228.1824\n781.8978\nNA\n1459.2634\n1168.8619\n331.5047\n320.4676\n27.6477\nNA\n\n\n2015\nLithuania\n1287.4934\n98.4244\n6497.876\n597.0909\n341.0274\n2430.1773\n6088.937\n3931.1353\n521.2830\n1175.4229\n706.2835\n2295.3564\n1305.3869\n886.3966\nNA\n1517.4646\n1251.7554\n374.8769\n335.3556\n29.0540\nNA\n\n\n2016\nLithuania\n1195.5473\n100.1855\n6563.323\n705.1059\n362.4560\n2286.4999\n6330.192\n4091.8463\n582.7470\n1289.3227\n765.8831\n2423.9860\n1408.7078\n1000.6963\nNA\n1596.1273\n1362.9450\n413.6804\n356.9728\n32.2435\nNA\n\n\n2017\nLithuania\n1314.6093\n116.6078\n7250.841\n704.3753\n419.2490\n2494.6997\n6817.933\n4594.9252\n654.7897\n1417.4933\n773.4007\n2526.0498\n1507.6696\n1130.2997\nNA\n1648.3293\n1511.5642\n433.8185\n383.6543\n35.1078\nNA"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html#queries-of-the-oecd-api",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html#queries-of-the-oecd-api",
    "title": "Appendix 3.B: Preparing OECD data",
    "section": "Queries of the OECD API",
    "text": "Queries of the OECD API\n\nquery_API<- FALSE\n\nstart_year<- 1950\nend_year<- 2020\n\n\n\nIndustry-level data on value added and its components\nif (query_API){\nselect_table<- \"SNA_TABLE6A_ARCHIVE\" # Value added and its components by activity, ISIC rev4\n\n\ncountries<- \"\" # leave blank for all entities\ntransactions<- \"\" # i.e. output/GOS/CoE etc. leave blank for all\nactivities<- \"\" # ISIC rev 4 industries. leave blank for all industries and sub-industries\nmeasures<- \"C+VOB\" # Prices. C = constant; VOB = indexed to OECD base year\n\nkey_query<- paste(countries,transactions,activities,measures, sep = \".\")\n\nindustry_accounts <- readSDMX(providerId = \"OECD\",\n                              resource = \"data\",\n                              flowRef = select_table,\n                              key = key_query,\n                              start = start_year,\n                              end = end_year,\n                              dsd = TRUE)\n\nindustry_accounts<- as.data.frame(industry_accounts)\n\n# Save\nsave(industry_accounts, file=\"PhD_pages/data/original/OECD/industry_accounts.Rda\")\n\n}\n\n\n\n\nIndustry-level data on employment\nif (query_API){\n\n# INDUSTRY LABOUR INPUTS DATA ----\n\n# set paramaters for API query\n\nselect_table<- \"SNA_TABLE7A_ARCHIVE\" # Labour intput by activity, ISIC rev4\n\ncountries<- \"\" # leave blank for all entities\ntransactions<- \"\" # i.e. total employment/employed/self-employed. leave blank for all\nactivities<- \"\" # ISIC rev 4 industries. leave blank for all industries and sub-industries\nmeasures<- \"HRS\" # i.e. hours/jobs/fte. HRS = hours in millions\n\nkey_query<- paste(countries,transactions,activities,measures, sep = \".\")\n\nemployment_by_industry <- readSDMX(providerId = \"OECD\",\n                              resource = \"data\",\n                              flowRef = select_table,\n                              key = key_query,\n                              start = start_year,\n                              end = end_year,\n                              dsd = TRUE)\n\nemployment_by_industry<- as.data.frame(employment_by_industry)\n\n\n# Save\nsave(employment_by_industry, file=\"PhD_pages/data/original/OECD/employment_by_industry.Rda\")\n}\n\n\n\n\nSector-level accounts (Households, Corporations, Govt etc.)\nif (query_API){\n\n# Grab full dataset\n\nsector_accounts <- readSDMX(providerId = \"OECD\",\n                        resource = \"data\",\n                        flowRef = \"SNA_TABLE14A\",\n                        key = \"..S1+S2+S11+S12+S13+S14_S15+S14+S15.C\",\n                        start = start_year,\n                        end = end_year,\n                        dsd = TRUE)\n\nsector_accounts<- as.data.frame(sector_accounts)\n\n# Save\nsave(sector_accounts, file=\"PhD_pages/data/original/OECD/sector_accounts.Rda\")\n\n}\n\n\n\n#| code-fold: true\n#| code-summary: \"GDP measured in international-$\"\n\nif (query_API){\n# GDP AT PPPs ----\n\nGDP_PPP<- readSDMX(providerId = \"OECD\",\n                       resource = \"data\",\n                      flowRef = \"SNA_TABLE1\",\n                      key = \".B1_GE.VPVOB\",\n                       start = start_year,\n                      end = end_year,\n                      dsd = TRUE)\n\n\nGDP_PPP<- as.data.frame(GDP_PPP)\n\n# Save\nsave(GDP_PPP, file=\"PhD_pages/data/original/OECD/GDP_PPP.Rda\")\n\n}\n\n\n\nConsumption of rent\nif (query_API){\n# HOUSING CONSUMPTION ------\nrental_consumption <- readSDMX(providerId = \"OECD\",\n                            resource = \"data\",\n                            flowRef = \"SNA_TABLE5\",\n                            key = \".P31CP041+P31CP042.C+VOB\",\n                            start = start_year,\n                            end = end_year,\n                            dsd = TRUE)\n\nrental_consumption<- as.data.frame(rental_consumption)\n\n# Save\nsave(rental_consumption, file=\"PhD_pages/data/original/OECD/rental_consumption.Rda\")\n}\n\n\n\n\nRental price level\nif (query_API){\n# RENT PRICE -----\n# This is the CPI component for actual rentals or else the aggrgeate\n  # of actual and imputed rentals and maintenance. See paper for details.\n\nrent_price_index <- readSDMX(providerId = \"OECD\",\n                               resource = \"data\",\n                               flowRef = \"HOUSE_PRICES\",\n                               key = \".RPI\",\n                               start = start_year,\n                               end = end_year,\n                               dsd = TRUE)\n\nrent_price_index<- as.data.frame(rent_price_index)\n\n\n# Save\nsave(rent_price_index, file=\"PhD_pages/data/original/OECD/rent_price_index.Rda\")\n\n}\n\n\n\n\nCPI\nif (query_API){\n# CPI ------\n\nCPI <- readSDMX(providerId = \"OECD\",\n                             resource = \"data\",\n                             flowRef = \"PRICES_CPI\",\n                             key = \".CPALTT01.IXOB.A\",\n                             start = start_year,\n                             end = end_year,\n                             dsd = TRUE)\n\nCPI<- as.data.frame(CPI)\n\n  # the single subject-measure CPALTT01 - IXOB refers to all items\n    # CPI index. 2015=100\n\n# Save\nsave(CPI, file=\"PhD_pages/data/original/OECD/CPI.Rda\")\n}\n\n\n\n\nGDP deflator\nif (query_API){\n\n# GDP deflator ------\n\nGDP_deflator <- readSDMX(providerId = \"OECD\",\n                resource = \"data\",\n                flowRef = \"EO\",\n                key = \".PGDP.A\",\n                start = start_year,\n                end = end_year,\n                dsd = TRUE)\n\nGDP_deflator<- as.data.frame(GDP_deflator)\n\n# the single subject-measure CPALTT01 - IXOB refers to all items\n# CPI index. 2015=100\n\n# Save\nsave(GDP_deflator, file=\"PhD_pages/data/original/OECD/GDP_deflator.Rda\")\n\n}"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html#preparation-of-the-data",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html#preparation-of-the-data",
    "title": "Appendix 3.B: Preparing OECD data",
    "section": "Preparation of the data",
    "text": "Preparation of the data\n\nfile_list<- c(\n\"PhD_pages/data/original/OECD/industry_accounts.Rda\",\n\"PhD_pages/data/original/OECD/employment_by_industry.Rda\",\n\"PhD_pages/data/original/OECD/sector_accounts.Rda\",\n\"PhD_pages/data/original/OECD/GDP_PPP.Rda\",\n\"PhD_pages/data/original/OECD/rental_consumption.Rda\",\n\"PhD_pages/data/original/OECD/rent_price_index.Rda\",\n\"PhD_pages/data/original/OECD/CPI.Rda\",\n\"PhD_pages/data/original/OECD/GDP_deflator.Rda\"\n)\n\n\nLoad data\nIf the API query steps above were not run, load the data.\n\nif (!query_API){\n\n  for (file in file_list){\n    load(file)\n  }  \n  \n}\n\n\n\nStandardize country names\n\ncountry_mapping<- read.csv(\"PhD_pages/data/original/OECD/OECD_country_name_mapping.csv\")\n\nmap_names <- function(df, mapping) {  \n  df<- left_join(df, mapping)\n  df<- df %>%\n    select(-LOCATION) %>%\n    rename(country = Our.World.In.Data.Name)\n  \n  return(df)\n}\n\nindustry_accounts<- map_names(industry_accounts, country_mapping)\n\nJoining, by = \"LOCATION\"\n\nemployment_by_industry<- map_names(employment_by_industry, country_mapping)\n\nJoining, by = \"LOCATION\"\n\nsector_accounts<- map_names(sector_accounts, country_mapping)\n\nJoining, by = \"LOCATION\"\n\nGDP_PPP<- map_names(GDP_PPP, country_mapping)\n\nJoining, by = \"LOCATION\"\n\n\nClean year variable\n\nclean_year<- function(df){\n  df<- df %>%\n    mutate(year = as.numeric(obsTime))\n}\n\nindustry_accounts<- clean_year(industry_accounts)\nemployment_by_industry<- clean_year(employment_by_industry)\nsector_accounts<- clean_year(sector_accounts)\nGDP_PPP<- clean_year(GDP_PPP)\n\nFurther tidying of industry generation of income data\n\n# Filter for only current price data and the needed transactions\nindustry_accounts<- industry_accounts %>%\n  filter(MEASURE == \"C\" & \n           TRANSACT %in% c(\"B1GA\", \"D1A\",\"B2G_B3GA\", \"B2N_B3NA\"))\n\n\n# Recode transactions from national accounts codes to something more legible\nrecoding_transactions <- c(\n  B1GA = \"VA\", # (Gross) Value added\n  D1A = \"COMP\", # Compensation of employees\n  B2G_B3GA = \"GOS\", # Gross operating surplus\n  B2N_B3NA = \"NOS\") # Net operating surplus (net of depreciation)\n\nindustry_accounts<- industry_accounts %>%\n  mutate(TRANSACT = recode(TRANSACT, !!!recoding_transactions))\n\n\n# flip to wide format\nindustry_accounts<- industry_accounts %>%\n  pivot_wider(names_from = TRANSACT, values_from = obsValue)\n\n\n# Select and rename needed vars\nindustry_accounts<- industry_accounts %>%\n  rename(ind_code = ACTIVITY) %>%\n  select(country, year, ind_code, VA, COMP, GOS, NOS)\n\n\n#Keep only main aggregate industries\n\nmain_industry_codes<- c(\"VA0\", \"VB\", \"VC\", \"VD\", \"VE\", \"VF\", \"VG\", \"VH\", \"VI\",\n                        \"VJ\", \"VK\", \"VL\", \"VM\", \"VN\", \"VO\", \"VP\", \"VQ\", \"VR\",\n                        \"VS\", \"VT\", \"VU\")\n\n\nmain_industry_accounts<- industry_accounts %>%\n  filter(ind_code %in% main_industry_codes)\n\nFurther tidying of industry employment data.\n\n# Select self-employed and employed hours and flip to wide format\nemployment_by_industry<- employment_by_industry %>%\n  filter(TRANSACT %in% c(\"ESEA\", \"EEMA\")) %>%  # codes for self-employed and employed\n  pivot_wider(id_cols = c(country, year, ACTIVITY), names_from = TRANSACT, values_from = obsValue)\n  \n  \n# Select and rename needed vars\nemployment_by_industry<- employment_by_industry %>%\n  rename(self_employed_hrs = ESEA, \n         employed_hrs = EEMA,\n         ind_code = ACTIVITY)\n\n\n\nFactor shares from industry accounts\n\nPrepare the joint employment and generation of income data\nI merge in the hours of employment and self employment to the generation of income accounts.\n\nmain_industry_accounts<- left_join(main_industry_accounts, employment_by_industry)\n\nJoining, by = c(\"country\", \"year\", \"ind_code\")\n\n\nNote that there are some rows where employed hours = 0 but compensation of employees > 0 — implying an infinite wage. Here we show these illogical rows grouped by country and industry\n\nkable(\n  main_industry_accounts %>%\n  filter((COMP>0 & employed_hrs == 0)) %>%\n    count(country, ind_code) %>%\n    rename(n_inf_wage_rows = n)\n)\n\n\n\n\ncountry\nind_code\nn_inf_wage_rows\n\n\n\n\nIceland\nVT\n5\n\n\nIceland\nVU\n9\n\n\nSweden\nVU\n2\n\n\n\n\n\nWe drop these.\n\nmain_industry_accounts<- main_industry_accounts %>%\n  filter(!(COMP>0 & employed_hrs == 0))\n\nThere are also some rows where we do not have all the variables we need: VA, COMP, GOS, and employed and self-employed hours.\n\nkable(\n  main_industry_accounts %>%\n    filter(is.na(VA) | is.na(COMP) | is.na(GOS) | is.na(employed_hrs) | is.na(self_employed_hrs)) %>%\n    count(country, ind_code)\n)\n\n\n\n\ncountry\nind_code\nn\n\n\n\n\nBelgium\nVA0\n4\n\n\nBelgium\nVB\n4\n\n\nBelgium\nVC\n4\n\n\nBelgium\nVD\n4\n\n\nBelgium\nVE\n4\n\n\nBelgium\nVF\n4\n\n\nBelgium\nVG\n4\n\n\nBelgium\nVH\n4\n\n\nBelgium\nVI\n4\n\n\nBelgium\nVJ\n4\n\n\nBelgium\nVK\n4\n\n\nBelgium\nVL\n4\n\n\nBelgium\nVM\n4\n\n\nBelgium\nVN\n4\n\n\nBelgium\nVO\n4\n\n\nBelgium\nVP\n4\n\n\nBelgium\nVQ\n4\n\n\nBelgium\nVR\n4\n\n\nBelgium\nVS\n4\n\n\nBelgium\nVT\n4\n\n\nBelgium\nVU\n22\n\n\nBulgaria\nVT\n23\n\n\nBulgaria\nVU\n23\n\n\nCanada\nVT\n4\n\n\nChile\nVA0\n5\n\n\nChile\nVB\n5\n\n\nChile\nVC\n5\n\n\nChile\nVD\n5\n\n\nChile\nVE\n2\n\n\nChile\nVF\n5\n\n\nChile\nVG\n5\n\n\nChile\nVH\n5\n\n\nChile\nVI\n5\n\n\nChile\nVJ\n5\n\n\nChile\nVK\n5\n\n\nChile\nVL\n5\n\n\nChile\nVM\n5\n\n\nChile\nVO\n5\n\n\nChile\nVP\n5\n\n\nChile\nVQ\n5\n\n\nChile\nVR\n1\n\n\nChile\nVS\n5\n\n\nColombia\nVA0\n3\n\n\nColombia\nVB\n3\n\n\nColombia\nVC\n3\n\n\nColombia\nVD\n3\n\n\nColombia\nVE\n3\n\n\nColombia\nVF\n3\n\n\nColombia\nVG\n3\n\n\nColombia\nVH\n3\n\n\nColombia\nVI\n3\n\n\nColombia\nVJ\n3\n\n\nColombia\nVK\n3\n\n\nColombia\nVL\n3\n\n\nColombia\nVM\n3\n\n\nColombia\nVO\n3\n\n\nColombia\nVP\n3\n\n\nColombia\nVQ\n3\n\n\nColombia\nVR\n3\n\n\nColombia\nVT\n3\n\n\nCosta Rica\nVT\n21\n\n\nCosta Rica\nVU\n21\n\n\nCyprus\nVU\n23\n\n\nEA19\nVA0\n17\n\n\nEA19\nVB\n17\n\n\nEA19\nVC\n17\n\n\nEA19\nVD\n17\n\n\nEA19\nVE\n17\n\n\nEA19\nVF\n17\n\n\nEA19\nVG\n17\n\n\nEA19\nVH\n17\n\n\nEA19\nVI\n17\n\n\nEA19\nVJ\n17\n\n\nEA19\nVK\n17\n\n\nEA19\nVL\n17\n\n\nEA19\nVM\n17\n\n\nEA19\nVN\n17\n\n\nEA19\nVO\n17\n\n\nEA19\nVP\n17\n\n\nEA19\nVQ\n17\n\n\nEA19\nVR\n17\n\n\nEA19\nVS\n17\n\n\nEA19\nVT\n17\n\n\nEA19\nVU\n22\n\n\nEU28\nVA0\n17\n\n\nEU28\nVB\n17\n\n\nEU28\nVC\n17\n\n\nEU28\nVD\n17\n\n\nEU28\nVE\n17\n\n\nEU28\nVF\n17\n\n\nEU28\nVG\n17\n\n\nEU28\nVH\n17\n\n\nEU28\nVI\n17\n\n\nEU28\nVJ\n17\n\n\nEU28\nVK\n17\n\n\nEU28\nVL\n17\n\n\nEU28\nVM\n17\n\n\nEU28\nVN\n17\n\n\nEU28\nVO\n17\n\n\nEU28\nVP\n17\n\n\nEU28\nVQ\n17\n\n\nEU28\nVR\n17\n\n\nEU28\nVS\n17\n\n\nEU28\nVT\n17\n\n\nEU28\nVU\n22\n\n\nFinland\nVO\n38\n\n\nFinland\nVT\n38\n\n\nFrance\nVA0\n28\n\n\nFrance\nVB\n20\n\n\nFrance\nVC\n28\n\n\nFrance\nVD\n20\n\n\nFrance\nVE\n20\n\n\nFrance\nVF\n28\n\n\nFrance\nVG\n28\n\n\nFrance\nVH\n28\n\n\nFrance\nVI\n28\n\n\nFrance\nVJ\n28\n\n\nFrance\nVK\n28\n\n\nFrance\nVL\n28\n\n\nFrance\nVM\n20\n\n\nFrance\nVN\n20\n\n\nFrance\nVO\n20\n\n\nFrance\nVP\n20\n\n\nFrance\nVQ\n20\n\n\nFrance\nVR\n20\n\n\nFrance\nVS\n20\n\n\nFrance\nVT\n23\n\n\nHungary\nVU\n15\n\n\nIceland\nVT\n9\n\n\nIceland\nVU\n10\n\n\nJapan\nVA0\n24\n\n\nJapan\nVB\n24\n\n\nJapan\nVC\n24\n\n\nJapan\nVD\n24\n\n\nJapan\nVF\n24\n\n\nJapan\nVG\n24\n\n\nJapan\nVH\n24\n\n\nJapan\nVI\n24\n\n\nJapan\nVJ\n24\n\n\nJapan\nVK\n24\n\n\nJapan\nVL\n24\n\n\nJapan\nVM\n24\n\n\nJapan\nVO\n24\n\n\nJapan\nVP\n24\n\n\nJapan\nVQ\n24\n\n\nJapan\nVR\n24\n\n\nLatvia\nVT\n5\n\n\nLatvia\nVU\n21\n\n\nLithuania\nVO\n23\n\n\nMalta\nVT\n23\n\n\nMalta\nVU\n23\n\n\nMexico\nVU\n3\n\n\nPeru\nVT\n8\n\n\nPeru\nVU\n8\n\n\nPoland\nVU\n5\n\n\nSpain\nVA0\n23\n\n\nSpain\nVB\n23\n\n\nSpain\nVC\n23\n\n\nSpain\nVD\n23\n\n\nSpain\nVE\n23\n\n\nSpain\nVF\n23\n\n\nSpain\nVG\n23\n\n\nSpain\nVH\n23\n\n\nSpain\nVI\n23\n\n\nSpain\nVJ\n23\n\n\nSpain\nVK\n23\n\n\nSpain\nVL\n23\n\n\nSpain\nVM\n23\n\n\nSpain\nVN\n23\n\n\nSpain\nVO\n23\n\n\nSpain\nVP\n23\n\n\nSpain\nVQ\n23\n\n\nSpain\nVR\n23\n\n\nSpain\nVS\n23\n\n\nSpain\nVT\n23\n\n\nSpain\nVU\n23\n\n\nSweden\nVA0\n1\n\n\nSweden\nVB\n1\n\n\nSweden\nVC\n1\n\n\nSweden\nVD\n1\n\n\nSweden\nVE\n1\n\n\nSweden\nVF\n1\n\n\nSweden\nVG\n1\n\n\nSweden\nVH\n1\n\n\nSweden\nVI\n1\n\n\nSweden\nVJ\n1\n\n\nSweden\nVK\n1\n\n\nSweden\nVL\n1\n\n\nSweden\nVM\n1\n\n\nSweden\nVN\n1\n\n\nSweden\nVO\n4\n\n\nSweden\nVP\n1\n\n\nSweden\nVQ\n1\n\n\nSweden\nVR\n1\n\n\nSweden\nVS\n1\n\n\nSweden\nVT\n3\n\n\nSweden\nVU\n2\n\n\nUnited Kingdom\nVU\n17\n\n\nUnited States\nVA0\n20\n\n\nUnited States\nVB\n20\n\n\nUnited States\nVC\n20\n\n\nUnited States\nVD\n20\n\n\nUnited States\nVE\n20\n\n\nUnited States\nVF\n20\n\n\nUnited States\nVG\n20\n\n\nUnited States\nVH\n20\n\n\nUnited States\nVI\n20\n\n\nUnited States\nVJ\n20\n\n\nUnited States\nVK\n20\n\n\nUnited States\nVL\n20\n\n\nUnited States\nVM\n20\n\n\nUnited States\nVN\n20\n\n\nUnited States\nVO\n20\n\n\nUnited States\nVP\n20\n\n\nUnited States\nVQ\n20\n\n\nUnited States\nVR\n20\n\n\nUnited States\nVS\n20\n\n\nUnited States\nVT\n20\n\n\nUnited States\nVU\n21\n\n\n\n\n\nWe drop these.\n\nmain_industry_accounts<-  main_industry_accounts %>%\n    filter(!(is.na(VA) | is.na(COMP) | is.na(GOS) | is.na(employed_hrs) | is.na(self_employed_hrs)))\n\n\n\nCoverage\nThe objective is to have complete coverage of the economy. There are some country years where coverage across industries looks decidedly incomplete.\nFor instance, out of 21 aggregate industry codes, these country years have data for fewer than 18:\n\nkable( \n to_drop<- main_industry_accounts %>%\n   count(country, year) %>%\n   filter(n<18)\n)\n\n\n\n\ncountry\nyear\nn\n\n\n\n\nFrance\n2017\n10\n\n\nLatvia\n1995\n5\n\n\nLatvia\n1996\n5\n\n\nLatvia\n1997\n5\n\n\nLatvia\n1998\n5\n\n\nLatvia\n1999\n5\n\n\n\n\n\nWe drop these country-years with apparently incomplete data.\n\nmain_industry_accounts<- left_join(main_industry_accounts, to_drop) %>%\n  filter(is.na(n)) %>%\n  select(-n)\n\nJoining, by = c(\"country\", \"year\")\n\n\nBut because of differences in national accounting methods, missing data for a given industry does not imply the accounts are incomplete.\nIn particular, the dataset contains only 398 country-year observations for VU (as compared to 658 for VA0) and these are in general only NA or 0 values.\n\nsummary(main_industry_accounts %>% filter(ind_code == \"VU\"))\n\n   country               year        ind_code               VA         COMP  \n Length:398         Min.   :1966   Length:398         Min.   :0   Min.   :0  \n Class :character   1st Qu.:1997   Class :character   1st Qu.:0   1st Qu.:0  \n Mode  :character   Median :2004   Mode  :character   Median :0   Median :0  \n                    Mean   :2002                      Mean   :0   Mean   :0  \n                    3rd Qu.:2011                      3rd Qu.:0   3rd Qu.:0  \n                    Max.   :2017                      Max.   :0   Max.   :0  \n                                                                             \n      GOS         NOS     employed_hrs    self_employed_hrs \n Min.   :0   Min.   :0   Min.   :0.0000   Min.   :0.000000  \n 1st Qu.:0   1st Qu.:0   1st Qu.:0.0000   1st Qu.:0.000000  \n Median :0   Median :0   Median :0.0000   Median :0.000000  \n Mean   :0   Mean   :0   Mean   :0.1579   Mean   :0.002428  \n 3rd Qu.:0   3rd Qu.:0   3rd Qu.:0.0000   3rd Qu.:0.000000  \n Max.   :0   Max.   :0   Max.   :8.4030   Max.   :0.315100  \n             NA's   :5                                      \n\n\nIn the table below we show all remaining country years in which at least one industry — other than VU — is missing.\nWe assume that these apparent gaps do not indicate incompleteness of the data, rather just differences in national accounting practices.\n\nkable( main_industry_accounts %>%\n  select(year, country, ind_code, VA) %>%\n  pivot_wider(names_from = ind_code, values_from = VA) %>%\n  filter(if_any(VA0:VT, ~ is.na(.)))\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nyear\ncountry\nVA0\nVB\nVC\nVD\nVE\nVF\nVG\nVH\nVI\nVJ\nVK\nVL\nVM\nVN\nVO\nVP\nVQ\nVR\nVS\nVT\nVU\n\n\n\n\n1990\nAustralia\n13190.0000\n19801.0000\n52226.000\n15175.0000\nNA\n27756.0000\n41307.000\n20508.0000\n8876.0000\n14334.0000\n21745.0000\n45853.0000\n17073.0000\n8284.0000\n24717.000\n18482.0000\n20915.0000\n3035.0000\n8282.0000\nNA\nNA\n\n\n1991\nAustralia\n12899.0000\n19723.0000\n53276.000\n16038.0000\nNA\n24805.0000\n40887.000\n20957.0000\n9287.0000\n16177.0000\n24014.0000\n46006.0000\n16553.0000\n8047.0000\n25369.000\n19413.0000\n21847.0000\n3347.0000\n9109.0000\nNA\nNA\n\n\n1992\nAustralia\n14471.0000\n20664.0000\n57224.000\n16216.0000\nNA\n25183.0000\n44020.000\n21585.0000\n9847.0000\n16549.0000\n27926.0000\n47021.0000\n17718.0000\n8596.0000\n26483.000\n21056.0000\n22877.0000\n3572.0000\n9643.0000\nNA\nNA\n\n\n1993\nAustralia\n15599.0000\n20195.0000\n61661.000\n16155.0000\nNA\n27090.0000\n46310.000\n21950.0000\n11284.0000\n18307.0000\n31597.0000\n47175.0000\n18285.0000\n8865.0000\n27365.000\n22172.0000\n23812.0000\n3811.0000\n9754.0000\nNA\nNA\n\n\n1994\nAustralia\n14944.0000\n21297.0000\n65075.000\n14999.0000\nNA\n29740.0000\n49093.000\n24652.0000\n12138.0000\n17667.0000\n35636.0000\n48976.0000\n20095.0000\n9417.0000\n28859.000\n22583.0000\n24910.0000\n4223.0000\n10002.0000\nNA\nNA\n\n\n1995\nAustralia\n17897.0000\n24163.0000\n67407.000\n14599.0000\nNA\n31294.0000\n53462.000\n25775.0000\n12881.0000\n19136.0000\n38657.0000\n51293.0000\n21983.0000\n9894.0000\n30730.000\n23240.0000\n26800.0000\n4552.0000\n10699.0000\nNA\nNA\n\n\n1996\nAustralia\n18010.0000\n24035.0000\n68497.000\n14568.0000\nNA\n33347.0000\n56525.000\n26897.0000\n13302.0000\n20631.0000\n40924.0000\n56391.0000\n23577.0000\n10276.0000\n33683.000\n25020.0000\n28255.0000\n4852.0000\n11360.0000\nNA\nNA\n\n\n1997\nAustralia\n17872.0000\n25651.0000\n73481.000\n15699.0000\nNA\n34758.0000\n58097.000\n27947.0000\n14527.0000\n22968.0000\n44640.0000\n60150.0000\n25809.0000\n11780.0000\n34977.000\n26578.0000\n28927.0000\n5655.0000\n11570.0000\nNA\nNA\n\n\n1998\nAustralia\n18985.0000\n25481.0000\n74283.000\n16116.0000\nNA\n37278.0000\n61179.000\n30129.0000\n15943.0000\n24357.0000\n47903.0000\n62130.0000\n28790.0000\n13550.0000\n36780.000\n28400.0000\n31113.0000\n5917.0000\n12406.0000\nNA\nNA\n\n\n1999\nAustralia\n20622.0000\n28098.0000\n76653.000\n16361.0000\nNA\n41787.0000\n64215.000\n30927.0000\n17165.0000\n25034.0000\n51847.0000\n67033.0000\n31894.0000\n15553.0000\n37687.000\n29637.0000\n34012.0000\n6899.0000\n13366.0000\nNA\nNA\n\n\n2000\nAustralia\n24701.0000\n35415.0000\n77580.000\n17643.0000\nNA\n36352.0000\n66411.000\n32182.0000\n18136.0000\n26531.0000\n54935.0000\n70080.0000\n36628.0000\n17953.0000\n39861.000\n32063.0000\n36398.0000\n7220.0000\n13859.0000\nNA\nNA\n\n\n2001\nAustralia\n29778.0000\n36571.0000\n79646.000\n19040.0000\nNA\n42986.0000\n72654.000\n34316.0000\n18381.0000\n27703.0000\n57001.0000\n74817.0000\n39024.0000\n20096.0000\n43053.000\n33788.0000\n39068.0000\n7413.0000\n15165.0000\nNA\nNA\n\n\n2002\nAustralia\n23136.0000\n36585.0000\n87067.000\n20252.0000\nNA\n48832.0000\n78957.000\n37091.0000\n18782.0000\n29062.0000\n59310.0000\n80216.0000\n41960.0000\n22466.0000\n44752.000\n36236.0000\n41858.0000\n7857.0000\n16349.0000\nNA\nNA\n\n\n2003\nAustralia\n26366.0000\n34359.0000\n93771.000\n21390.0000\nNA\n56693.0000\n84321.000\n40407.0000\n20672.0000\n30933.0000\n62667.0000\n84183.0000\n46031.0000\n25354.0000\n48243.000\n38029.0000\n45840.0000\n8611.0000\n18042.0000\nNA\nNA\n\n\n2004\nAustralia\n26595.0000\n46337.0000\n95337.000\n22963.0000\nNA\n62450.0000\n88120.000\n44608.0000\n22042.0000\n32749.0000\n68160.0000\n91106.0000\n50376.0000\n27849.0000\n50762.000\n41088.0000\n49031.0000\n8986.0000\n18836.0000\nNA\nNA\n\n\n2005\nAustralia\n27170.0000\n65763.0000\n98515.000\n23956.0000\nNA\n66919.0000\n91881.000\n46844.0000\n23342.0000\n33036.0000\n75159.0000\n98167.0000\n55391.0000\n29936.0000\n54554.000\n44367.0000\n54007.0000\n9148.0000\n19261.0000\nNA\nNA\n\n\n2006\nAustralia\n23917.0000\n76809.0000\n100845.000\n24877.0000\nNA\n76214.0000\n99667.000\n54437.0000\n24915.0000\n35080.0000\n84889.0000\n108565.0000\n63378.0000\n34786.0000\n57298.000\n47087.0000\n59800.0000\n9261.0000\n20189.0000\nNA\nNA\n\n\n2007\nAustralia\n27533.0000\n83567.0000\n108261.000\n26375.0000\nNA\n83113.0000\n109127.000\n58070.0000\n26877.0000\n37518.0000\n91488.0000\n120572.0000\n71001.0000\n38470.0000\n58591.000\n49702.0000\n66588.0000\n10025.0000\n21249.0000\nNA\nNA\n\n\n2008\nAustralia\n28879.0000\n114984.0000\n106357.000\n27628.0000\nNA\n91258.0000\n111770.000\n58908.0000\n28699.0000\n38901.0000\n102213.0000\n130140.0000\n77574.0000\n37233.0000\n63699.000\n54507.0000\n71233.0000\n10368.0000\n23068.0000\nNA\nNA\n\n\n2009\nAustralia\n28595.0000\n95659.0000\n103965.000\n30130.0000\nNA\n97519.0000\n115607.000\n60778.0000\n30549.0000\n41583.0000\n104406.0000\n138350.0000\n83541.0000\n40514.0000\n67623.000\n58687.0000\n78687.0000\n10930.0000\n24149.0000\nNA\nNA\n\n\n2010\nAustralia\n32250.0000\n131480.0000\n104144.000\n33925.0000\nNA\n104951.0000\n122714.000\n65366.0000\n32743.0000\n41522.0000\n111475.0000\n146338.0000\n90128.0000\n45829.0000\n72603.000\n64175.0000\n87245.0000\n11342.0000\n25527.0000\nNA\nNA\n\n\n2011\nAustralia\n33809.0000\n133945.0000\n105414.000\n38224.0000\nNA\n116537.0000\n130744.000\n71522.0000\n34889.0000\n42134.0000\n117366.0000\n159265.0000\n98684.0000\n47866.0000\n77405.000\n67657.0000\n91049.0000\n12043.0000\n28236.0000\nNA\nNA\n\n\n2012\nAustralia\n35011.0000\n117925.0000\n101365.000\n43356.0000\nNA\n123397.0000\n134437.000\n75014.0000\n36059.0000\n42350.0000\n122782.0000\n169683.0000\n104381.0000\n47502.0000\n79808.000\n70948.0000\n96043.0000\n12097.0000\n27882.0000\nNA\nNA\n\n\n2013\nAustralia\n35427.0000\n133686.0000\n101638.000\n42950.0000\nNA\n129588.0000\n134274.000\n75256.0000\n36719.0000\n43024.0000\n128483.0000\n178711.0000\n104201.0000\n50054.0000\n82541.000\n74439.0000\n100960.0000\n12904.0000\n29562.0000\nNA\nNA\n\n\n2014\nAustralia\n38547.0000\n107790.0000\n102192.000\n41672.0000\nNA\n132238.0000\n135716.000\n78140.0000\n38543.0000\n43736.0000\n138430.0000\n185174.0000\n106981.0000\n52853.0000\n84573.000\n77434.0000\n108401.0000\n13378.0000\n29870.0000\nNA\nNA\n\n\n2015\nAustralia\n39685.0000\n97116.0000\n101192.000\n41033.0000\nNA\n131819.0000\n140270.000\n80005.0000\n40154.0000\n43920.0000\n146733.0000\n192985.0000\n108784.0000\n53315.0000\n91360.000\n80678.0000\n112965.0000\n13817.0000\n29701.0000\nNA\nNA\n\n\n2016\nAustralia\n47868.0000\n134325.0000\n102059.000\n43893.0000\nNA\n134196.0000\n145522.000\n83053.0000\n41102.0000\n43883.0000\n153106.0000\n201294.0000\n117804.0000\n56176.0000\n92653.000\n83346.0000\n119265.0000\n14082.0000\n30934.0000\nNA\nNA\n\n\n2017\nAustralia\n47987.0000\n151586.0000\n106749.000\n46191.0000\nNA\n139313.0000\n151166.000\n84962.0000\n42243.0000\n43680.0000\n163351.0000\n206500.0000\n125639.0000\n59337.0000\n92509.000\n87683.0000\n127547.0000\n14543.0000\n32105.0000\nNA\nNA\n\n\n1980\nFinland\n2888.0000\n169.0000\n8146.000\n774.0000\n146.0000\n2223.0000\n3317.000\n1997.0000\n455.0000\n947.0000\n720.0000\n1897.0000\n511.0000\n413.0000\nNA\n1351.0000\n1805.0000\n243.0000\n383.0000\nNA\nNA\n\n\n1981\nFinland\n2917.0000\n160.0000\n8901.000\n1078.0000\n159.0000\n2486.0000\n3778.000\n2277.0000\n521.0000\n1047.0000\n834.0000\n2269.0000\n601.0000\n481.0000\nNA\n1548.0000\n2110.0000\n297.0000\n438.0000\nNA\nNA\n\n\n1982\nFinland\n3326.0000\n185.0000\n9698.000\n1129.0000\n177.0000\n2826.0000\n4283.000\n2440.0000\n596.0000\n1215.0000\n955.0000\n2637.0000\n699.0000\n555.0000\nNA\n1770.0000\n2440.0000\n343.0000\n500.0000\nNA\nNA\n\n\n1983\nFinland\n3613.0000\n199.0000\n10640.000\n1233.0000\n207.0000\n3288.0000\n4736.000\n2731.0000\n672.0000\n1390.0000\n1043.0000\n2946.0000\n805.0000\n635.0000\nNA\n2033.0000\n2796.0000\n396.0000\n567.0000\nNA\nNA\n\n\n1984\nFinland\n3872.0000\n217.0000\n11919.000\n1229.0000\n231.0000\n3534.0000\n5238.000\n3095.0000\n750.0000\n1574.0000\n1170.0000\n3258.0000\n925.0000\n729.0000\nNA\n2231.0000\n3317.0000\n451.0000\n642.0000\nNA\nNA\n\n\n1985\nFinland\n4006.0000\n232.0000\n12645.000\n1273.0000\n268.0000\n3593.0000\n5801.000\n3373.0000\n854.0000\n1719.0000\n1557.0000\n3403.0000\n1056.0000\n800.0000\nNA\n2518.0000\n3820.0000\n512.0000\n715.0000\nNA\nNA\n\n\n1986\nFinland\n4111.0000\n218.0000\n13014.000\n1478.0000\n301.0000\n3874.0000\n6041.000\n3638.0000\n928.0000\n1927.0000\n1732.0000\n3975.0000\n1224.0000\n877.0000\nNA\n2791.0000\n4182.0000\n568.0000\n781.0000\nNA\nNA\n\n\n1987\nFinland\n3576.0000\n224.0000\n14317.000\n1574.0000\n331.0000\n4190.0000\n6746.000\n3838.0000\n1036.0000\n2154.0000\n1997.0000\n3972.0000\n1404.0000\n988.0000\nNA\n3079.0000\n4569.0000\n637.0000\n859.0000\nNA\nNA\n\n\n1988\nFinland\n3986.0000\n279.0000\n15887.000\n1545.0000\n373.0000\n4998.0000\n7482.000\n4212.0000\n1181.0000\n2379.0000\n2159.0000\n4417.0000\n1669.0000\n1109.0000\nNA\n3425.0000\n4963.0000\n697.0000\n952.0000\nNA\nNA\n\n\n1989\nFinland\n4484.0000\n356.0000\n17569.000\n1408.0000\n426.0000\n6347.0000\n8316.000\n4654.0000\n1250.0000\n2610.0000\n2489.0000\n4987.0000\n2004.0000\n1248.0000\nNA\n3788.0000\n5580.0000\n807.0000\n1066.0000\nNA\nNA\n\n\n1990\nFinland\n4909.0000\n306.0000\n17746.000\n1433.0000\n479.0000\n6614.0000\n8496.000\n4983.0000\n1351.0000\n2787.0000\n3202.0000\n5396.0000\n2269.0000\n1362.0000\nNA\n4152.0000\n6352.0000\n905.0000\n1178.0000\nNA\nNA\n\n\n1991\nFinland\n4193.0000\n300.0000\n14911.000\n1515.0000\n504.0000\n5808.0000\n7633.000\n4910.0000\n1261.0000\n2738.0000\n2779.0000\n6231.0000\n2134.0000\n1334.0000\nNA\n4467.0000\n7013.0000\n952.0000\n1249.0000\nNA\nNA\n\n\n1992\nFinland\n3627.0000\n281.0000\n15350.000\n1669.0000\n546.0000\n4414.0000\n6890.000\n4943.0000\n1132.0000\n2735.0000\n2879.0000\n6758.0000\n2013.0000\n1271.0000\nNA\n4522.0000\n7055.0000\n947.0000\n1245.0000\nNA\nNA\n\n\n1993\nFinland\n3748.0000\n265.0000\n16999.000\n1634.0000\n559.0000\n3647.0000\n6866.000\n5081.0000\n1047.0000\n2717.0000\n3220.0000\n7100.0000\n2139.0000\n1211.0000\nNA\n4504.0000\n6705.0000\n858.0000\n1218.0000\nNA\nNA\n\n\n1994\nFinland\n3799.0000\n312.0000\n19049.000\n1793.0000\n610.0000\n3844.0000\n7483.000\n5377.0000\n1092.0000\n2776.0000\n3285.0000\n7268.0000\n2453.0000\n1292.0000\nNA\n4552.0000\n6702.0000\n877.0000\n1264.0000\nNA\nNA\n\n\n1995\nFinland\n3742.0000\n307.0000\n21910.000\n2054.0000\n634.0000\n4155.0000\n8005.000\n5650.0000\n1228.0000\n3045.0000\n3630.0000\n7843.0000\n2789.0000\n1367.0000\nNA\n4784.0000\n7118.0000\n954.0000\n1304.0000\nNA\nNA\n\n\n1996\nFinland\n3521.0000\n285.0000\n21839.000\n2011.0000\n646.0000\n4658.0000\n8433.000\n5844.0000\n1228.0000\n3316.0000\n3405.0000\n8240.0000\n3143.0000\n1534.0000\nNA\n5015.0000\n7547.0000\n1009.0000\n1375.0000\nNA\nNA\n\n\n1997\nFinland\n3793.0000\n298.0000\n23999.000\n2063.0000\n656.0000\n5146.0000\n9521.000\n6236.0000\n1267.0000\n3639.0000\n3365.0000\n9076.0000\n3589.0000\n1654.0000\nNA\n5188.0000\n7722.0000\n1064.0000\n1421.0000\nNA\nNA\n\n\n1998\nFinland\n3493.0000\n300.0000\n27601.000\n2193.0000\n688.0000\n5996.0000\n10138.000\n6671.0000\n1444.0000\n4475.0000\n3580.0000\n9681.0000\n3811.0000\n1823.0000\nNA\n5515.0000\n8084.0000\n1107.0000\n1502.0000\nNA\nNA\n\n\n1999\nFinland\n3663.0000\n301.0000\n28971.000\n2014.0000\n737.0000\n6602.0000\n10630.000\n7014.0000\n1477.0000\n5196.0000\n3595.0000\n10532.0000\n4160.0000\n1940.0000\nNA\n5689.0000\n8365.0000\n1165.0000\n1567.0000\nNA\nNA\n\n\n2000\nFinland\n4030.0000\n280.0000\n32951.000\n1741.0000\n783.0000\n7344.0000\n11034.000\n7356.0000\n1534.0000\n5735.0000\n3791.0000\n11217.0000\n4456.0000\n2159.0000\nNA\n5991.0000\n8780.0000\n1242.0000\n1624.0000\nNA\nNA\n\n\n2001\nFinland\n3998.0000\n326.0000\n34135.000\n2013.0000\n815.0000\n7464.0000\n12018.000\n7949.0000\n1831.0000\n6858.0000\n4060.0000\n11926.0000\n4949.0000\n2418.0000\nNA\n6335.0000\n9450.0000\n1338.0000\n1749.0000\nNA\nNA\n\n\n2002\nFinland\n3968.0000\n346.0000\n33955.000\n2349.0000\n801.0000\n7254.0000\n12563.000\n7997.0000\n1882.0000\n7324.0000\n3566.0000\n12710.0000\n5023.0000\n2646.0000\nNA\n6693.0000\n9994.0000\n1406.0000\n1819.0000\nNA\nNA\n\n\n2003\nFinland\n3848.0000\n371.0000\n33305.000\n2625.0000\n853.0000\n7652.0000\n12735.000\n7949.0000\n1927.0000\n7196.0000\n3354.0000\n13430.0000\n5248.0000\n2796.0000\nNA\n6996.0000\n10518.0000\n1473.0000\n1883.0000\nNA\nNA\n\n\n2004\nFinland\n3778.0000\n385.0000\n34201.000\n2825.0000\n889.0000\n8329.0000\n13592.000\n8052.0000\n2152.0000\n7811.0000\n3521.0000\n14062.0000\n5640.0000\n3122.0000\nNA\n7328.0000\n11085.0000\n1510.0000\n2016.0000\nNA\nNA\n\n\n2005\nFinland\n3752.0000\n381.0000\n34939.000\n2653.0000\n941.0000\n9256.0000\n14145.000\n8175.0000\n2271.0000\n7190.0000\n3867.0000\n14592.0000\n5947.0000\n3507.0000\nNA\n7662.0000\n11788.0000\n1583.0000\n2140.0000\nNA\nNA\n\n\n2006\nFinland\n3460.0000\n519.0000\n37710.000\n3100.0000\n1049.0000\n9904.0000\n14098.000\n8059.0000\n2391.0000\n7139.0000\n4260.0000\n15195.0000\n6370.0000\n3907.0000\nNA\n7848.0000\n12323.0000\n1672.0000\n2319.0000\nNA\nNA\n\n\n2007\nFinland\n4391.0000\n559.0000\n41398.000\n3271.0000\n1101.0000\n11037.0000\n15284.000\n8650.0000\n2568.0000\n7931.0000\n4859.0000\n15997.0000\n7139.0000\n4432.0000\nNA\n8204.0000\n13067.0000\n1785.0000\n2433.0000\nNA\nNA\n\n\n2008\nFinland\n4198.0000\n661.0000\n40384.000\n3337.0000\n1214.0000\n11817.0000\n16611.000\n8852.0000\n2676.0000\n8215.0000\n4649.0000\n17359.0000\n7645.0000\n5290.0000\nNA\n8703.0000\n14126.0000\n1987.0000\n2542.0000\nNA\nNA\n\n\n2009\nFinland\n4028.0000\n616.0000\n30292.000\n3693.0000\n1292.0000\n10724.0000\n15151.000\n8183.0000\n2564.0000\n8039.0000\n4563.0000\n17789.0000\n7509.0000\n5027.0000\nNA\n9042.0000\n14790.0000\n1997.0000\n2727.0000\nNA\nNA\n\n\n2010\nFinland\n4468.0000\n811.0000\n31948.000\n4208.0000\n1528.0000\n10548.0000\n15313.000\n8420.0000\n2661.0000\n8168.0000\n4234.0000\n18325.0000\n7674.0000\n5273.0000\nNA\n9409.0000\n15263.0000\n2065.0000\n2844.0000\nNA\nNA\n\n\n2011\nFinland\n4649.0000\n810.0000\n32164.000\n3812.0000\n1554.0000\n10905.0000\n16737.000\n8715.0000\n2808.0000\n8593.0000\n4565.0000\n19414.0000\n8316.0000\n5598.0000\nNA\n9746.0000\n16151.0000\n2219.0000\n2897.0000\nNA\nNA\n\n\n2012\nFinland\n4713.0000\n804.0000\n29067.000\n3828.0000\n1587.0000\n11336.0000\n17436.000\n8947.0000\n2967.0000\n8961.0000\n4635.0000\n20079.0000\n8745.0000\n5778.0000\nNA\n10105.0000\n17114.0000\n2258.0000\n2959.0000\nNA\nNA\n\n\n2013\nFinland\n5222.0000\n593.0000\n29641.000\n4105.0000\n1644.0000\n11300.0000\n17222.000\n8873.0000\n2793.0000\n9253.0000\n4332.0000\n20967.0000\n8934.0000\n5801.0000\nNA\n10201.0000\n17460.0000\n2297.0000\n2992.0000\nNA\nNA\n\n\n2014\nFinland\n4934.0000\n552.0000\n29908.000\n4130.0000\n1723.0000\n11081.0000\n16855.000\n8790.0000\n2859.0000\n9825.0000\n5230.0000\n21663.0000\n8904.0000\n5928.0000\nNA\n10252.0000\n17657.0000\n2278.0000\n3030.0000\nNA\nNA\n\n\n2015\nFinland\n4665.0000\n635.0000\n31024.000\n3920.0000\n1762.0000\n11552.0000\n17004.000\n8955.0000\n3020.0000\n10365.0000\n5204.0000\n22820.0000\n9228.0000\n5909.0000\nNA\n10247.0000\n17991.0000\n2321.0000\n3075.0000\nNA\nNA\n\n\n2016\nFinland\n5143.0000\n667.0000\n31671.000\n3821.0000\n1809.0000\n12764.0000\n17019.000\n8873.0000\n3202.0000\n10748.0000\n5448.0000\n23684.0000\n9367.0000\n6328.0000\nNA\n10169.0000\n18387.0000\n2456.0000\n3092.0000\nNA\nNA\n\n\n2017\nFinland\n5318.0000\n750.0000\n33941.000\n4145.0000\n1864.0000\n13788.0000\n17551.000\n9217.0000\n3464.0000\n11195.0000\n5635.0000\n24634.0000\n10043.0000\n6842.0000\nNA\n9998.0000\n18132.0000\n2456.0000\n3075.0000\nNA\nNA\n\n\n2016\nFrance\n32323.0000\n1877.0000\n229787.000\n37091.0000\n14322.0000\n108346.0000\n206063.000\n88874.0000\n55184.0000\n103169.0000\n80311.0000\n255496.0000\n157371.0000\n110603.0000\n158477.000\n107383.0000\n184458.0000\n28739.0000\n28028.0000\nNA\n0\n\n\n2013\nNew Zealand\n16374.0000\n3579.0000\n23827.000\n5776.0000\n1646.0000\n12508.0000\n21580.000\n10348.0000\n4368.0000\n6434.0000\n12666.0000\n31404.0000\n17757.0000\n4331.0000\n9382.000\n10499.0000\n13475.0000\n3215.0000\n4185.0000\nNA\nNA\n\n\n2014\nNew Zealand\n11592.0000\n3584.0000\n26827.000\n5898.0000\n1695.0000\n13940.0000\n22979.000\n11406.0000\n4783.0000\n6551.0000\n14017.0000\n32446.0000\n18565.0000\n4562.0000\n9810.000\n10989.0000\n14262.0000\n3383.0000\n4554.0000\nNA\nNA\n\n\n2015\nNew Zealand\n11414.0000\n2378.0000\n28732.000\n5830.0000\n1837.0000\n15262.0000\n23912.000\n12303.0000\n5291.0000\n6628.0000\n14467.0000\n34591.0000\n19871.0000\n4899.0000\n10299.000\n11423.0000\n15146.0000\n3548.0000\n4707.0000\nNA\nNA\n\n\n2014\nSweden\n46804.0000\n17227.0000\n576023.000\n87586.0000\n23817.0000\n193821.0000\n379740.000\n189760.0000\n60659.0000\n202258.0000\n161047.0000\n309368.0000\n264456.0000\n121851.0000\nNA\n193348.0000\n385504.0000\n47315.0000\n57170.0000\n1767.0000\nNA\n\n\n2015\nSweden\n50503.0000\n15696.0000\n575246.000\n81448.0000\n24347.0000\n214501.0000\n401581.000\n202429.0000\n67412.0000\n286023.0000\n172550.0000\n311344.0000\n284723.0000\n131879.0000\nNA\n204381.0000\n409559.0000\n50155.0000\n59582.0000\nNA\nNA\n\n\n2016\nSweden\n49138.0000\n16170.0000\n585662.000\n83518.0000\n25333.0000\n234833.0000\n422973.000\n205624.0000\n73526.0000\n271226.0000\n170620.0000\n328005.0000\n307261.0000\n142343.0000\nNA\n219313.0000\n438432.0000\n53713.0000\n62780.0000\nNA\nNA\n\n\n2016\nEstonia\n452.3600\n200.5100\n2995.680\n617.6700\n175.2000\n1216.1600\n2380.170\n1436.5200\n377.9600\n1031.0500\n712.4500\n1971.2500\n973.7100\n718.8600\n1339.880\n877.1200\n764.3900\n285.8000\n175.7100\nNA\nNA\n\n\n2017\nEstonia\n548.9600\n236.4900\n3205.320\n672.0400\n206.9500\n1451.2000\n2495.430\n1555.4600\n413.7100\n1201.5400\n781.7900\n2054.6400\n1145.3300\n797.0100\n1439.740\n935.7500\n833.8500\n315.4700\n187.8500\nNA\nNA\n\n\n2017\nLatvia\n863.0710\n123.0870\n2890.532\n681.0500\n205.3370\n1432.3280\n3437.944\n2250.1160\n433.3380\n1188.8610\n917.5910\n2858.4380\n1147.9650\n686.1030\n1794.433\n1178.1020\n813.0480\n495.0740\n229.8130\nNA\nNA\n\n\n2008\nIceland\n77317.1239\n1728.4404\n174081.689\n55187.3470\n11825.8140\n118980.2324\n119538.326\n66450.1356\n24227.3798\n54278.0900\n119460.8476\n144792.1375\n62228.4859\n33979.3702\n76757.947\n88629.9375\n111860.3383\n17670.7931\n19384.9541\nNA\nNA\n\n\n2009\nIceland\n93437.8469\n797.1374\n180357.898\n58453.9263\n12785.1764\n67197.1190\n126505.685\n76464.2294\n26355.0991\n57204.5886\n157274.1302\n168378.1333\n60284.8375\n37190.4438\n78077.785\n97932.8733\n114177.1206\n19397.3790\n20074.9908\nNA\nNA\n\n\n2010\nIceland\n105699.6115\n864.9861\n212853.997\n68242.4996\n13914.7656\n62886.9372\n121991.055\n87485.2688\n27272.0086\n57009.4515\n125179.8756\n173208.4038\n63887.0598\n37759.3172\n78205.675\n96014.5139\n113854.5196\n20708.0728\n20158.2262\nNA\nNA\n\n\n2011\nIceland\n115601.1438\n994.2282\n224444.393\n76445.2826\n15421.8800\n63574.0457\n144519.288\n85084.8225\n30043.1957\n67186.0922\n113669.2811\n172495.6610\n64701.8564\n43176.6170\n89741.482\n98912.8113\n112441.1674\n22219.2583\n21102.5171\nNA\nNA\n\n\n2012\nIceland\n120924.4928\n1071.6392\n208713.818\n79911.6765\n16554.9308\n70976.7111\n136798.157\n87573.3100\n36248.0876\n66996.7542\n146165.3838\n179423.0985\n70866.1968\n42048.9318\n96902.424\n102767.1115\n117695.6438\n23106.0916\n21613.3991\nNA\nNA\n\n\n2012\nCanada\n30027.0000\n124526.0000\n189188.000\n35486.0000\n8611.0000\n134959.0000\n182031.000\n71428.0000\n35545.0000\n76633.0000\n116353.0000\n197061.0000\n74829.0000\n55696.0000\n122427.000\n93705.0000\n122167.0000\n12931.0000\n19412.0000\nNA\nNA\n\n\n2013\nCanada\n32738.0000\n135394.0000\n188791.000\n37130.0000\n9018.0000\n142311.0000\n188676.000\n75045.0000\n37629.0000\n78603.0000\n123286.0000\n205903.0000\n77127.0000\n57639.0000\n128120.000\n96837.0000\n126863.0000\n12843.0000\n20147.0000\nNA\nNA\n\n\n2014\nCanada\n28356.0000\n155684.0000\n194629.000\n38523.0000\n9559.0000\n149566.0000\n195681.000\n80998.0000\n39658.0000\n82373.0000\n131446.0000\n215181.0000\n81244.0000\n60220.0000\n130402.000\n99581.0000\n132252.0000\n13457.0000\n21028.0000\nNA\nNA\n\n\n2015\nCanada\n33984.0000\n88436.0000\n205285.000\n40000.0000\n9686.0000\n149303.0000\n196472.000\n84465.0000\n41263.0000\n83803.0000\n137754.0000\n225170.0000\n82278.0000\n61304.0000\n132613.000\n103148.0000\n138543.0000\n14017.0000\n21400.0000\nNA\nNA\n\n\n1991\nCosta Rica\n105236.3347\n3010.1311\n181211.615\n21021.2656\n4561.9343\n31358.9977\n127518.721\n45194.2860\n30841.8886\n19518.8112\n28661.5263\n53700.3148\n22106.8509\n5173.9922\n34926.412\n36795.7980\n30769.1475\n17665.8805\n3897.4326\nNA\nNA\n\n\n1992\nCosta Rica\n137079.9446\n4443.4282\n238457.358\n27679.7646\n6663.1364\n43738.8197\n163960.507\n57289.0279\n40373.5334\n23844.2734\n37984.5196\n67880.6044\n27672.9376\n7592.5207\n39337.282\n47920.0324\n37549.7501\n22409.7917\n5397.2905\nNA\nNA\n\n\n1993\nCosta Rica\n161149.2709\n4779.9081\n268630.633\n33567.4546\n9764.8098\n55907.4882\n190538.043\n66499.3616\n51400.8998\n28632.4578\n50367.7047\n82988.7648\n32185.7611\n10597.2177\n49212.533\n60090.3076\n47399.7955\n25122.4770\n6895.5188\nNA\nNA\n\n\n1994\nCosta Rica\n202925.2335\n6074.3005\n314132.098\n38308.3678\n10644.1184\n68965.1266\n216873.594\n77088.7848\n56764.7704\n33298.3325\n62769.2554\n104151.4775\n42550.2688\n13975.1159\n63966.988\n75994.6072\n63835.7778\n27060.3910\n8870.9008\nNA\nNA\n\n\n1995\nCosta Rica\n265351.5579\n7384.5037\n395317.557\n45212.0017\n14164.3647\n90058.2851\n267585.848\n92883.8752\n65769.6607\n42149.4948\n80342.8449\n135054.5438\n53236.8790\n18506.6873\n77651.455\n97743.8464\n83327.0357\n29830.7737\n12327.5858\nNA\nNA\n\n\n1996\nCosta Rica\n293573.3481\n8005.6183\n464370.549\n56765.3830\n16341.3023\n84427.0564\n306640.003\n100600.6984\n78166.7903\n51596.4230\n83616.1515\n177999.1999\n65140.0849\n23961.9636\n85230.276\n126586.4206\n100780.2028\n30303.2767\n16812.6530\nNA\nNA\n\n\n1997\nCosta Rica\n366860.2689\n10892.3133\n570927.649\n59969.9129\n18825.8670\n103378.4192\n374938.791\n116415.6041\n87542.6424\n62376.0397\n93743.9591\n233204.6015\n77650.6468\n33585.3609\n95339.773\n152642.0387\n119594.5073\n28943.8512\n22435.8181\nNA\nNA\n\n\n1998\nCosta Rica\n444118.7770\n13901.0248\n666910.865\n70812.2375\n23598.6196\n139169.7765\n452627.117\n123650.2572\n104001.7951\n72202.1360\n109868.7459\n293521.3323\n100029.9883\n37906.3735\n113907.515\n192028.9159\n149054.8375\n26687.3532\n28528.9664\nNA\nNA\n\n\n1999\nCosta Rica\n452423.3817\n17888.3284\n760608.202\n79357.1266\n33986.9431\n155573.3001\n496049.295\n136161.9471\n122275.3147\n77592.1883\n137079.8777\n364208.0026\n112500.4972\n61949.3807\n142040.354\n237690.4409\n187739.8461\n27218.7871\n38439.9733\nNA\nNA\n\n\n2000\nCosta Rica\n427947.7218\n21397.8444\n847561.080\n97321.4490\n40549.7869\n170441.4076\n539211.452\n167349.3520\n147958.5795\n93479.2054\n180216.3522\n404840.1702\n143831.3185\n83782.2559\n168678.678\n288785.7528\n216479.5763\n30271.4435\n44173.9630\nNA\nNA\n\n\n2001\nCosta Rica\n440267.9125\n25474.8018\n915650.692\n124581.9102\n44243.3559\n214704.0015\n594070.444\n194344.9218\n172374.3368\n115330.9604\n206217.0095\n453074.6623\n179466.7516\n102942.9450\n198271.848\n337888.4335\n253170.1204\n33754.0092\n51797.1625\nNA\nNA\n\n\n2002\nCosta Rica\n502748.2792\n27314.0837\n1037574.599\n128448.7351\n48198.3490\n223563.4789\n654175.338\n229714.0176\n187034.6809\n143899.1344\n236543.5796\n507986.2262\n209054.2063\n125142.7374\n241066.490\n394589.7901\n299664.5651\n39858.4564\n59184.1917\nNA\nNA\n\n\n2003\nCosta Rica\n608688.8792\n29916.5064\n1177582.819\n145262.7488\n58634.8707\n253131.1741\n751702.050\n277667.5379\n219880.8215\n177417.8241\n284852.2340\n583988.8825\n241052.9070\n151736.7141\n266161.756\n458373.1677\n348678.5725\n41223.5137\n64459.3253\nNA\nNA\n\n\n2004\nCosta Rica\n721483.5133\n36045.7867\n1376437.579\n180362.2845\n75162.0006\n342318.8324\n871294.014\n329278.3462\n261829.8886\n220124.2783\n321599.8275\n690517.4717\n294502.9269\n207594.5915\n299507.813\n522848.4053\n405387.5459\n46284.1863\n73246.2182\nNA\nNA\n\n\n2005\nCosta Rica\n825753.5488\n40035.9976\n1615399.967\n194325.3841\n90474.7594\n383519.0150\n1007758.925\n395125.7237\n318428.1780\n268383.5876\n406963.0703\n825246.7581\n362874.7483\n257773.4883\n335521.738\n597426.4796\n471472.8458\n54245.1966\n85190.8143\nNA\nNA\n\n\n2006\nCosta Rica\n978982.9232\n49104.0248\n1914566.283\n196062.8994\n96078.9016\n498478.4337\n1260693.928\n474169.1732\n365789.8079\n351440.8018\n499977.9577\n1002126.4517\n457540.1668\n352084.8322\n382121.764\n686515.0641\n575271.1080\n63815.7578\n102910.6755\nNA\nNA\n\n\n2007\nCosta Rica\n1099361.7389\n67640.2476\n2240456.815\n185213.7738\n105241.3255\n719173.6438\n1521867.266\n560684.6672\n431542.3819\n413413.2675\n586453.3494\n1150034.3708\n569424.3336\n479331.4764\n435512.909\n798061.2958\n682424.2026\n74686.1121\n127397.0385\nNA\nNA\n\n\n2008\nCosta Rica\n1130893.7572\n87976.3559\n2453105.333\n205127.2879\n129272.7192\n940879.0198\n1802221.679\n637574.7487\n504420.0182\n487616.5833\n713355.8084\n1327024.4441\n683604.5212\n633004.1587\n523816.649\n960707.2341\n850335.5894\n88848.5888\n147688.8898\nNA\nNA\n\n\n2009\nCosta Rica\n1242578.1465\n74649.9027\n2494626.783\n380888.1658\n150936.2170\n1041751.9767\n1729690.899\n627110.6619\n492942.2612\n543793.7194\n851562.4707\n1467360.9577\n799816.6059\n755707.7486\n658161.348\n1219214.6800\n1057051.7405\n99747.6629\n164712.5891\nNA\nNA\n\n\n2010\nCosta Rica\n1290885.1211\n68009.6475\n2834160.887\n370828.4402\n175866.7510\n1105399.0424\n1878403.769\n716169.5628\n526015.5617\n660252.8452\n875024.2514\n1650269.0154\n890659.6277\n896667.6422\n801224.607\n1436673.6463\n1264778.4685\n113941.4812\n184825.1830\nNA\nNA\n\n\n2011\nCosta Rica\n1247725.1414\n64091.3666\n2988154.593\n366465.6307\n191482.2306\n1159777.7777\n2076671.031\n799651.8177\n561944.9185\n746176.7880\n951285.4604\n1841710.5370\n981924.7896\n1057590.7151\n905470.829\n1603756.0351\n1372221.2578\n127018.2504\n204891.2111\nNA\nNA\n\n\n1995\nLithuania\n766.7428\n25.2591\n1298.618\n304.7530\n66.0163\n491.4110\n1111.325\n438.8061\n99.9581\n167.9209\n150.6739\n578.4675\n99.8927\n57.6876\nNA\n398.4046\n194.5498\n36.5857\n128.0208\n1.9212\nNA\n\n\n1996\nLithuania\n1062.6331\n44.1586\n1569.685\n350.4558\n74.4204\n593.5999\n1384.064\n601.7643\n130.9692\n232.2444\n185.4966\n653.2137\n128.9506\n78.3295\nNA\n507.2977\n261.3424\n44.9844\n158.0857\n2.8803\nNA\n\n\n1997\nLithuania\n1104.4757\n44.4503\n1876.097\n378.8248\n84.8663\n775.7778\n1634.575\n733.1817\n176.0225\n289.5510\n154.6230\n705.0602\n216.8652\n114.1215\nNA\n613.1186\n313.2411\n57.4735\n165.6558\n4.7462\nNA\n\n\n1998\nLithuania\n997.6871\n45.8628\n2043.154\n412.7937\n96.9522\n950.8095\n1839.360\n776.1326\n181.5228\n395.7493\n225.9051\n739.3346\n241.2834\n118.4094\nNA\n731.6201\n371.5596\n70.5468\n157.0933\n6.2371\nNA\n\n\n1999\nLithuania\n811.3021\n51.4959\n1924.047\n414.3591\n102.5906\n847.6259\n1729.379\n798.8451\n187.6593\n468.7223\n219.8115\n795.5368\n270.0252\n127.9929\nNA\n750.4267\n379.9158\n74.8657\n169.5190\n8.9926\nNA\n\n\n2000\nLithuania\n745.8192\n83.1272\n2240.636\n377.0353\n104.2502\n711.1308\n1976.406\n1001.7171\n179.7541\n566.7411\n245.3269\n822.2832\n310.2920\n150.4787\nNA\n714.2812\n394.2738\n77.4542\n193.7186\n10.8868\nNA\n\n\n2001\nLithuania\n691.0298\n91.3607\n2445.061\n437.3328\n113.2900\n751.4750\n2197.522\n1063.6696\n196.8707\n619.7187\n248.7365\n851.5517\n327.4437\n161.2263\nNA\n748.1351\n391.7952\n78.2080\n201.4307\n12.6168\nNA\n\n\n2002\nLithuania\n724.9795\n80.5766\n2475.919\n466.3611\n113.7398\n853.7348\n2397.788\n1219.8867\n212.2687\n693.8299\n294.7646\n872.5877\n353.2014\n193.9478\nNA\n767.8404\n396.1424\n111.9888\n225.1858\n16.4549\nNA\n\n\n2003\nLithuania\n736.4052\n84.3097\n2778.675\n612.0935\n125.6310\n1037.5944\n2621.002\n1388.8956\n230.6179\n745.3273\n286.1738\n917.1344\n488.4179\n214.0912\nNA\n768.6607\n400.6487\n109.4051\n230.0640\n21.1457\nNA\n\n\n2004\nLithuania\n760.2876\n88.4352\n3323.439\n645.0285\n137.8839\n1195.5560\n2829.931\n1524.2309\n245.5708\n726.2890\n315.3912\n1021.9676\n554.8633\n244.7361\nNA\n831.7269\n446.6239\n138.2459\n222.9286\n21.5476\nNA\n\n\n2005\nLithuania\n908.1204\n99.2209\n3832.003\n664.3664\n142.2422\n1480.6112\n3284.057\n1806.8928\n268.9505\n769.9935\n419.0722\n1217.2442\n650.6323\n323.1360\nNA\n865.1566\n515.6937\n191.0970\n209.3974\n30.9000\nNA\n\n\n2006\nLithuania\n929.4784\n109.1217\n4230.727\n673.3931\n154.3416\n2055.6062\n3547.373\n2128.9712\n297.1574\n851.5468\n620.3209\n1432.3246\n762.3070\n383.5768\nNA\n962.2837\n646.2197\n205.9815\n202.0135\n24.7554\nNA\n\n\n2007\nLithuania\n1008.2586\n118.2673\n4615.210\n755.9857\n187.1050\n2915.7737\n4374.738\n2563.6081\n339.8409\n976.1582\n912.0259\n1757.1286\n1016.5961\n514.4318\nNA\n1110.4765\n783.6154\n223.6142\n206.8758\n25.5693\nNA\n\n\n2008\nLithuania\n1072.5228\n127.8713\n5133.052\n790.2387\n206.9809\n3285.6184\n5105.392\n2746.7883\n389.7278\n984.9461\n994.1971\n2067.5339\n1053.7728\n617.6937\nNA\n1382.3967\n960.0727\n233.7251\n229.6712\n27.8269\nNA\n\n\n2009\nLithuania\n682.2346\n76.8160\n4065.347\n807.9285\n197.8790\n1600.9907\n4242.520\n2575.0438\n341.0404\n951.4668\n619.7312\n1822.9239\n990.3166\n564.7801\nNA\n1499.2558\n959.2195\n243.9438\n235.0919\n22.8233\nNA\n\n\n2010\nLithuania\n838.2365\n92.7883\n4732.930\n810.7175\n220.1438\n1470.8354\n4470.127\n3005.1473\n333.9409\n932.5614\n713.2517\n1689.5694\n923.0171\n538.8146\nNA\n1364.7612\n904.5427\n225.8510\n225.4474\n23.8656\nNA\n\n\n2011\nLithuania\n1086.3760\n119.9471\n5736.098\n778.7374\n295.9263\n1814.4270\n4981.069\n3400.3906\n367.9421\n874.9497\n751.0078\n1754.0339\n1008.4738\n569.7923\nNA\n1383.9258\n974.6810\n240.2048\n233.9825\n24.8222\nNA\n\n\n2012\nLithuania\n1339.8759\n119.1303\n6233.675\n825.1089\n315.1010\n1786.0887\n5527.456\n3703.0545\n407.9579\n909.7339\n626.4298\n1843.7278\n1075.1283\n653.4081\nNA\n1403.6039\n1036.6961\n257.6153\n256.8886\n25.7436\nNA\n\n\n2013\nLithuania\n1251.2567\n127.4546\n6154.713\n822.2172\n344.9787\n2079.8300\n5843.054\n3966.9032\n441.2025\n1025.7280\n687.1224\n2002.6318\n1157.8785\n734.3154\nNA\n1442.5107\n1098.0828\n290.3888\n298.1392\n26.9238\nNA\n\n\n2014\nLithuania\n1251.6274\n128.6863\n6346.355\n783.1273\n372.2185\n2424.5352\n6052.439\n4075.5350\n465.7410\n1050.6905\n662.1084\n2146.0812\n1228.1824\n781.8978\nNA\n1459.2634\n1168.8619\n331.5047\n320.4676\n27.6477\nNA\n\n\n2015\nLithuania\n1287.4934\n98.4244\n6497.876\n597.0909\n341.0274\n2430.1773\n6088.937\n3931.1353\n521.2830\n1175.4229\n706.2835\n2295.3564\n1305.3869\n886.3966\nNA\n1517.4646\n1251.7554\n374.8769\n335.3556\n29.0540\nNA\n\n\n2016\nLithuania\n1195.5473\n100.1855\n6563.323\n705.1059\n362.4560\n2286.4999\n6330.192\n4091.8463\n582.7470\n1289.3227\n765.8831\n2423.9860\n1408.7078\n1000.6963\nNA\n1596.1273\n1362.9450\n413.6804\n356.9728\n32.2435\nNA\n\n\n2017\nLithuania\n1314.6093\n116.6078\n7250.841\n704.3753\n419.2490\n2494.6997\n6817.933\n4594.9252\n654.7897\n1417.4933\n773.4007\n2526.0498\n1507.6696\n1130.2997\nNA\n1648.3293\n1511.5642\n433.8185\n383.6543\n35.1078\nNA\n\n\n\n\n\n\n\nImputing self-employed labour and capital income\nWe have data on the number of employed and self-employed hours are worked in each industry. We also have data on the compensation of the employed. The task is to impute the labour compensation of the self-employed and then separate this out from Gross Operating Surplus in order to arrive at a split between capital and labour income.\nThe basic strategy is to apply the same hourly rate of compensation for the employed (within each industry) to the self-employed.\n\nmain_industry_accounts_inspect<- main_industry_accounts %>%\n  mutate(COMP_per_hour = COMP/employed_hrs,\n         COMP_SE = COMP_per_hour * self_employed_hrs,\n         LAB = COMP + COMP_SE)\n\nThis however creates a problem: in some cases, the total labour income implied (employed + self employed) is greater than 100% of value added. Here we show these rows grouped by industry.\n\nkable(\n br<-  main_industry_accounts_inspect %>%\n  mutate(LAB_share = LAB/VA,\n         LAB_share_group = cut(LAB_share,\n                       breaks=c(-100, 1, 1.1, 1.5, 2, 10, 1000000000000),\n                       labels=c('<100%', '100-110%', '110-150%', '150-200%', '200-1,000%', '1,000+'))) %>%\n    count(ind_code, LAB_share_group) %>%\n    pivot_wider(names_from = LAB_share_group, values_from = n)\n)\n\n\n\n\nind_code\n<100%\n100-110%\n110-150%\n150-200%\n200-1,000%\nNA\n\n\n\n\nVA0\n455\n44\n82\n36\n41\nNA\n\n\nVB\n648\nNA\n10\nNA\nNA\nNA\n\n\nVC\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVD\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVE\n630\nNA\nNA\nNA\nNA\nNA\n\n\nVF\n619\n26\n10\nNA\n3\nNA\n\n\nVG\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVH\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVI\n618\n24\n16\nNA\nNA\nNA\n\n\nVJ\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVK\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVL\n658\nNA\nNA\nNA\nNA\nNA\n\n\nVM\n619\n16\n23\nNA\nNA\nNA\n\n\nVN\n623\n29\n6\nNA\nNA\nNA\n\n\nVO\n594\nNA\nNA\nNA\nNA\nNA\n\n\nVP\n654\n4\nNA\nNA\nNA\nNA\n\n\nVQ\n648\n10\nNA\nNA\nNA\nNA\n\n\nVR\n640\n11\n7\nNA\nNA\nNA\n\n\nVS\n517\n84\n53\n4\nNA\nNA\n\n\nVT\n408\n38\n31\n30\n3\n43\n\n\nVU\nNA\nNA\nNA\nNA\nNA\n398\n\n\n\n\n\nWe take two approaches to this problem.\n\nModel 1 - imputation with no ceiling\nThe most simple approach is just to ignore the problem and allow labour income to be greater than value added. This will mean allowing capital income to be negative.\n\nmain_industry_accounts_mod1<- main_industry_accounts %>%\n   mutate(COMP_per_hour = COMP/employed_hrs,\n         COMP_SE = COMP_per_hour * self_employed_hrs)\n\n\n\nModel 2 - imputation with ceiling\nAn alternative approach is to cap self-employed labour income at the full value of Gross Operating Surplus. This implies that total labour incomes cannot exceed 100% of value added and total capital incomes cannot be negative.\n\nmain_industry_accounts_mod2<- main_industry_accounts %>%\n  mutate(COMP_per_hour = COMP/employed_hrs,\n         COMP_SE = pmin(COMP_per_hour * self_employed_hrs, GOS))\n\n\n\nCalculate labour and capital incomes\nOn each model, total labour income is equal to the sum of compensation of employees and the self-employed. Total gross (net) capital income is equal to Gross (Net) Operating Surplus minus the labour income of the self-employed.\n\ncalc_LAB_CAP<- function(df){\n  df<- df %>%\n    mutate(LAB = COMP + COMP_SE,\n           CAP = GOS - COMP_SE,\n           NCAP = NOS - COMP_SE)\n}\n\nmain_industry_accounts_mod1<- calc_LAB_CAP(main_industry_accounts_mod1)\n\nmain_industry_accounts_mod2<- calc_LAB_CAP(main_industry_accounts_mod2)\n\n\n\n\nCreate economy aggregates\n\nagg_across_industries<- function(df){\n  \n  df<- df %>%\n    group_by(country, year) %>%\n    summarise(VA = sum(VA, na.rm = TRUE),\n              COMP = sum(COMP, na.rm = TRUE),\n              GOS = sum(GOS, na.rm = TRUE),\n              COMP_SE = sum(COMP_SE, na.rm = TRUE),\n              LAB = sum(LAB, na.rm = TRUE),\n              CAP = sum(CAP, na.rm = TRUE),\n              NCAP = sum(NCAP, na.rm = TRUE)\n              )\n \n}\n\nagg_industry_mod1<- agg_across_industries(main_industry_accounts_mod1)\n\n`summarise()` has grouped output by 'country'. You can override using the\n`.groups` argument.\n\nagg_industry_mod2<- agg_across_industries(main_industry_accounts_mod2)\n\n`summarise()` has grouped output by 'country'. You can override using the\n`.groups` argument.\n\n\nCheck against reported economy-wide totals.\n\nreported_totals <- industry_accounts %>%\n  filter(ind_code == 'VTOT') %>%\n  rename(VA_reported = VA,\n         COMP_reported = COMP,\n         GOS_reported = GOS) %>%\n  select(-ind_code)\n\ncheck<- left_join(agg_industry_mod1, reported_totals) %>%\n  mutate(VA_ratio = VA/VA_reported,\n         COMP_ratio = COMP/COMP_reported,\n         GOS_ratio = GOS/GOS_reported)\n\nJoining, by = c(\"country\", \"year\")\n\ntolerance<- 0.005 # half a percent tolerance\n\nbr<- check %>% \n  filter(VA_ratio<(1-tolerance) | VA_ratio>(1+tolerance))\n\nkable(br)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncountry\nyear\nVA\nCOMP\nGOS\nCOMP_SE\nLAB\nCAP\nNCAP\nVA_reported\nCOMP_reported\nGOS_reported\nNOS\nVA_ratio\nCOMP_ratio\nGOS_ratio\n\n\n\n\nCosta Rica\n1991\n803171.340\n373543.711\n411753.080\n112064.2659\n485607.976\n299688.814\n247624.653\n808204.677\n378530.880\n411753.080\n359688.919\n0.9937722\n0.9868249\n1.0000000\n\n\nCosta Rica\n1992\n1037274.522\n488398.486\n523277.629\n140934.2244\n629332.711\n382343.405\n316149.945\n1045298.280\n496355.039\n523277.629\n457084.169\n0.9923240\n0.9839700\n1.0000000\n\n\nCosta Rica\n1993\n1235730.407\n600059.394\n602720.197\n169465.6296\n769525.023\n433254.568\n356199.521\n1246254.764\n610503.463\n602720.197\n525665.151\n0.9915552\n0.9828927\n1.0000000\n\n\nCosta Rica\n1994\n1488249.509\n734303.773\n715693.435\n208825.3427\n943129.116\n506868.092\n417338.701\n1503200.903\n749151.863\n715693.435\n626164.044\n0.9900536\n0.9801801\n1.0000000\n\n\nCosta Rica\n1995\n1873898.800\n907005.211\n920650.911\n255331.3264\n1162336.538\n665319.585\n554672.694\n1893120.163\n926105.718\n920650.911\n810004.021\n0.9898467\n0.9793755\n1.0000000\n\n\nCosta Rica\n1996\n2170917.400\n1050047.387\n1065527.418\n317032.8829\n1367080.270\n748494.535\n615850.470\n2196424.062\n1075407.419\n1065527.418\n932883.353\n0.9883872\n0.9764182\n1.0000000\n\n\nCosta Rica\n1997\n2629268.064\n1240968.553\n1318621.782\n383142.6019\n1624111.155\n935479.180\n774074.144\n2662555.352\n1274072.787\n1318621.782\n1157216.746\n0.9874980\n0.9740170\n1.0000000\n\n\nCosta Rica\n1998\n3162526.634\n1491742.590\n1589675.591\n448104.5584\n1939847.148\n1141571.033\n949185.681\n3204573.794\n1533557.207\n1589675.591\n1397290.239\n0.9868790\n0.9727336\n1.0000000\n\n\nCosta Rica\n1999\n3640783.186\n1768762.205\n1779210.563\n516423.6360\n2285185.841\n1262786.927\n1016916.308\n3691150.941\n1818850.620\n1779210.563\n1533339.943\n0.9863545\n0.9724615\n1.0000000\n\n\nCosta Rica\n2000\n4114277.389\n2008365.067\n1993565.644\n576217.2116\n2584582.279\n1417348.432\n1145644.026\n4171292.898\n2065087.819\n1993565.644\n1721861.237\n0.9863315\n0.9725325\n1.0000000\n\n\nCosta Rica\n2001\n4657626.279\n2327304.572\n2212169.222\n737940.2522\n3065244.824\n1474228.970\n1168014.451\n4723093.562\n2392393.609\n2212169.223\n1905954.703\n0.9861389\n0.9727933\n1.0000000\n\n\nCosta Rica\n2002\n5295760.939\n2636366.965\n2527367.799\n835338.3729\n3471705.338\n1692029.426\n1336310.552\n5369081.737\n2709259.615\n2527367.799\n2171648.925\n0.9863439\n0.9730950\n1.0000000\n\n\nCosta Rica\n2003\n6140412.304\n2983465.837\n3000929.868\n920736.3716\n3904202.209\n2080193.496\n1671623.253\n6221369.175\n3063945.630\n3000929.868\n2592359.625\n0.9869873\n0.9737333\n1.0000000\n\n\nCosta Rica\n2004\n7275825.509\n3408542.185\n3700455.862\n1048144.9971\n4456687.182\n2652310.864\n2160918.300\n7366226.162\n3498397.900\n3700455.861\n3209063.297\n0.9877277\n0.9743152\n1.0000000\n\n\nCosta Rica\n2005\n8535920.225\n3967891.412\n4370448.176\n1092999.7879\n5060891.200\n3277448.388\n2695389.913\n8640623.562\n4071947.213\n4370448.176\n3788389.701\n0.9878824\n0.9744457\n1.0000000\n\n\nCosta Rica\n2006\n10307730.955\n4768038.874\n5282724.054\n1378939.0188\n6146977.892\n3903785.036\n3206213.124\n10432340.589\n4891878.857\n5282724.054\n4585152.142\n0.9880554\n0.9746846\n1.0000000\n\n\nCosta Rica\n2007\n12247920.216\n5659018.287\n6277842.991\n1514142.7872\n7173161.074\n4763700.204\n3972886.283\n12397584.166\n5807780.120\n6277842.991\n5487029.071\n0.9879280\n0.9743858\n1.0000000\n\n\nCosta Rica\n2008\n14307473.386\n6680663.127\n7255208.258\n1774052.1389\n8454715.266\n5481156.119\n4583957.363\n14481578.088\n6853681.656\n7255208.258\n6358009.502\n0.9879775\n0.9747554\n1.0000000\n\n\nCosta Rica\n2009\n15852304.536\n7601052.902\n7838557.260\n1985133.2200\n9586186.122\n5853424.040\n4815587.493\n16046101.873\n7793684.969\n7838557.260\n6800720.713\n0.9879225\n0.9752836\n1.0000000\n\n\nCosta Rica\n2010\n17740055.551\n8678528.319\n8590104.894\n2080806.1842\n10759334.503\n6509298.710\n5362568.577\n17956519.839\n8893697.401\n8590104.894\n7443374.762\n0.9879451\n0.9758066\n1.0000000\n\n\nCosta Rica\n2011\n19248010.381\n9590094.293\n9137123.094\n2041604.2357\n11631698.529\n7095518.859\n5840080.234\n19505018.580\n9845546.027\n9137123.094\n7881684.470\n0.9868235\n0.9740541\n1.0000000\n\n\nFinland\n1980\n28385.000\n16322.000\n12304.000\n3870.7533\n20192.753\n8433.247\n3469.247\n30109.000\n17669.000\n12681.000\n7340.000\n0.9427414\n0.9237648\n0.9702705\n\n\nFinland\n1981\n31902.000\n18849.000\n13339.000\n4562.6819\n23411.682\n8776.318\n3089.318\n33942.000\n20451.000\n13777.000\n7652.000\n0.9398975\n0.9216664\n0.9682079\n\n\nFinland\n1982\n35774.000\n20821.000\n15300.000\n5069.7455\n25890.746\n10230.254\n3847.254\n38095.000\n22653.000\n15789.000\n8917.000\n0.9390734\n0.9191277\n0.9690291\n\n\nFinland\n1983\n39930.000\n23016.000\n17280.000\n5239.2685\n28255.268\n12040.732\n4809.732\n42585.000\n25108.000\n17843.000\n10049.000\n0.9376541\n0.9166799\n0.9684470\n\n\nFinland\n1984\n44382.000\n25668.000\n19114.000\n5672.2170\n31340.217\n13441.783\n5348.783\n47287.000\n27946.000\n19741.000\n11021.000\n0.9385666\n0.9184857\n0.9682387\n\n\nFinland\n1985\n48145.000\n28613.000\n20012.000\n6165.8436\n34778.844\n13846.156\n4983.156\n51352.000\n31128.000\n20704.000\n11149.000\n0.9375487\n0.9192046\n0.9665765\n\n\nFinland\n1986\n51660.000\n30693.000\n21469.000\n6525.6040\n37218.604\n14943.396\n5357.396\n55094.000\n33375.000\n22221.000\n11883.000\n0.9376702\n0.9196404\n0.9661581\n\n\nFinland\n1987\n55491.000\n33400.000\n22665.000\n7016.8264\n40416.826\n15648.174\n5077.174\n59247.000\n36317.000\n23504.000\n12094.000\n0.9366044\n0.9196795\n0.9643039\n\n\nFinland\n1988\n61713.000\n36936.000\n25762.000\n7676.6769\n44612.677\n18085.323\n6219.323\n65893.000\n40185.000\n26693.000\n13896.000\n0.9365638\n0.9191489\n0.9651219\n\n\nFinland\n1989\n69389.000\n41436.000\n28891.000\n8638.8988\n50074.899\n20252.101\n6642.101\n73987.000\n44990.000\n29935.000\n15281.000\n0.9378539\n0.9210047\n0.9651244\n\n\nFinland\n1990\n73920.000\n45263.000\n29661.000\n9129.3025\n54392.302\n20531.698\n5267.698\n79084.000\n49159.000\n30929.000\n14397.000\n0.9347023\n0.9207470\n0.9590029\n\n\nFinland\n1991\n69932.000\n44903.000\n26251.000\n9020.4083\n53923.408\n17230.592\n1374.592\n75659.000\n49287.000\n27594.000\n10395.000\n0.9243051\n0.9110516\n0.9513300\n\n\nFinland\n1992\n68277.000\n42268.000\n27381.000\n8935.0994\n51203.099\n18445.901\n2644.901\n73995.000\n46621.000\n28746.000\n11580.000\n0.9227245\n0.9066301\n0.9525151\n\n\nFinland\n1993\n69518.000\n40025.000\n30788.000\n8486.2454\n48511.245\n22301.755\n6355.755\n74973.000\n44060.000\n32208.000\n14842.000\n0.9272405\n0.9084203\n0.9559116\n\n\nFinland\n1994\n73828.000\n40713.000\n34222.000\n8544.5882\n49257.588\n25677.412\n9588.412\n79442.000\n44804.000\n35745.000\n18133.000\n0.9293321\n0.9086912\n0.9573926\n\n\nFinland\n1995\n80519.000\n43403.000\n38832.000\n8906.2801\n52309.280\n29925.720\n13773.720\n86352.000\n47606.000\n40461.000\n22680.000\n0.9324509\n0.9117128\n0.9597390\n\n\nFinland\n1996\n83049.000\n45159.000\n39189.000\n9398.0231\n54557.023\n29790.977\n13179.977\n89171.000\n49593.000\n40876.000\n22578.000\n0.9313454\n0.9105922\n0.9587288\n\n\nFinland\n1997\n89697.000\n47667.000\n43308.000\n9845.0348\n57512.035\n33462.965\n16081.965\n96064.000\n52255.000\n45086.000\n25927.000\n0.9337213\n0.9121998\n0.9605643\n\n\nFinland\n1998\n98102.000\n51622.000\n47803.000\n9944.6440\n61566.644\n37858.356\n19488.356\n104679.000\n56341.000\n49660.000\n29433.000\n0.9371698\n0.9162422\n0.9626057\n\n\nFinland\n1999\n103618.000\n54878.000\n50075.000\n10717.1446\n65595.145\n39357.855\n19952.855\n110435.000\n59731.000\n52038.000\n30670.000\n0.9382714\n0.9187524\n0.9622776\n\n\nFinland\n2000\n112048.000\n58512.000\n54981.000\n11018.0993\n69530.099\n43962.901\n22979.901\n119200.000\n63556.000\n57088.000\n33998.000\n0.9400000\n0.9206369\n0.9630921\n\n\nFinland\n2001\n119632.000\n61865.000\n59169.000\n11077.1184\n72942.118\n48091.882\n25633.882\n127111.000\n67170.000\n61342.000\n36711.000\n0.9411617\n0.9210213\n0.9645757\n\n\nFinland\n2002\n122296.000\n63736.000\n59950.000\n11204.6693\n74940.669\n48745.331\n25529.331\n130021.000\n69285.000\n62125.000\n36734.000\n0.9405865\n0.9199105\n0.9649899\n\n\nFinland\n2003\n124159.000\n65084.000\n60448.000\n11247.9917\n76331.992\n49200.008\n25267.008\n132243.000\n70968.000\n62647.000\n36515.000\n0.9388701\n0.9170894\n0.9648986\n\n\nFinland\n2004\n130298.000\n67769.000\n64043.000\n11731.9560\n79500.956\n52311.044\n27185.044\n138752.000\n73934.000\n66331.000\n38917.000\n0.9390711\n0.9166148\n0.9655063\n\n\nFinland\n2005\n134789.000\n71373.000\n65072.000\n12212.7201\n83585.720\n52859.280\n26298.280\n143621.000\n77780.000\n67496.000\n38511.000\n0.9385048\n0.9176266\n0.9640868\n\n\nFinland\n2006\n141323.000\n75137.000\n68374.000\n12944.1154\n88081.115\n55429.885\n27575.885\n150475.000\n81733.000\n70929.000\n40520.000\n0.9391793\n0.9192982\n0.9639781\n\n\nFinland\n2007\n154106.000\n79452.000\n76878.000\n13525.0122\n92977.012\n63352.988\n33626.988\n163654.000\n86299.000\n79578.000\n47152.000\n0.9416574\n0.9206596\n0.9660710\n\n\nFinland\n2008\n160266.000\n84739.000\n77884.000\n14332.0340\n99071.034\n63551.966\n31659.966\n170386.000\n91983.000\n80759.000\n45992.000\n0.9406054\n0.9212463\n0.9644003\n\n\nFinland\n2009\n148026.000\n83498.000\n66988.000\n14978.2160\n98476.216\n52009.784\n19493.784\n158348.000\n90940.000\n69867.000\n34472.000\n0.9348145\n0.9181658\n0.9587931\n\n\nFinland\n2010\n153160.000\n84870.000\n70827.000\n15052.5262\n99922.526\n55774.474\n23360.474\n163620.000\n92404.000\n73752.000\n38413.000\n0.9360714\n0.9184667\n0.9603401\n\n\nFinland\n2011\n159653.000\n89098.000\n73096.000\n15526.6360\n104624.636\n57569.364\n24058.364\n170454.000\n96828.000\n76166.000\n39585.000\n0.9366339\n0.9201677\n0.9596933\n\n\nFinland\n2012\n161319.000\n92411.000\n71478.000\n16152.0266\n108563.027\n55325.973\n20279.973\n172417.000\n100288.000\n74698.000\n36432.000\n0.9356328\n0.9214562\n0.9568931\n\n\nFinland\n2013\n163630.000\n93144.000\n72837.000\n15745.3337\n108889.334\n57091.666\n21370.666\n175002.000\n101169.000\n76180.000\n37116.000\n0.9350179\n0.9206773\n0.9561171\n\n\nFinland\n2014\n165599.000\n93379.000\n74529.000\n16019.4971\n109398.497\n58509.503\n22417.503\n176987.000\n101413.000\n77880.000\n38437.000\n0.9356563\n0.9207794\n0.9569723\n\n\nFinland\n2015\n169697.000\n94415.000\n77740.000\n16484.9407\n110899.941\n61255.059\n24902.059\n181166.000\n102518.000\n81102.000\n41387.000\n0.9366934\n0.9209602\n0.9585460\n\n\nFinland\n2016\n174648.000\n96286.000\n80635.000\n16464.3639\n112750.364\n64170.636\n27357.636\n185949.000\n104187.000\n84031.000\n43822.000\n0.9392253\n0.9241652\n0.9595863\n\n\nFinland\n2017\n182048.000\n97061.000\n87190.000\n15680.7852\n112741.785\n71509.215\n33964.215\n193338.000\n104859.000\n90677.000\n49645.000\n0.9416049\n0.9256335\n0.9615448\n\n\nLithuania\n1995\n6417.014\n2702.088\n3691.962\n511.1099\n3213.198\n3180.852\n1863.701\n6935.842\n2901.953\n4008.077\n2374.811\n0.9251961\n0.9311275\n0.9211305\n\n\nLithuania\n1996\n8064.575\n3376.724\n4663.708\n973.5035\n4350.228\n3690.205\n2301.187\n8733.813\n3690.654\n5014.581\n3274.690\n0.9233740\n0.9149393\n0.9300294\n\n\nLithuania\n1997\n9442.728\n4093.219\n5320.052\n1145.1848\n5238.404\n4174.868\n2711.989\n10275.152\n4536.404\n5703.426\n3857.174\n0.9189867\n0.9023047\n0.9327819\n\n\nLithuania\n1998\n10402.013\n4806.682\n5551.919\n1324.6190\n6131.301\n4227.300\n2714.666\n11413.127\n5415.392\n5948.151\n4039.285\n0.9114078\n0.8875964\n0.9333857\n\n\nLithuania\n1999\n10133.112\n4821.092\n5245.641\n885.0475\n5706.139\n4360.594\n2833.071\n11173.712\n5453.775\n5647.126\n3718.118\n0.9068707\n0.8839917\n0.9289046\n\n\nLithuania\n2000\n10905.612\n4661.780\n6169.351\n781.8930\n5443.673\n5387.459\n3818.302\n11880.885\n5222.846\n6577.364\n4600.195\n0.9179125\n0.8925746\n0.9379672\n\n\nLithuania\n2001\n11628.474\n4773.771\n6811.597\n957.3091\n5731.080\n5854.288\n4234.485\n12634.510\n5365.285\n7219.166\n5191.742\n0.9203740\n0.8897515\n0.9435436\n\n\nLithuania\n2002\n12471.198\n5167.604\n7225.861\n986.7866\n6154.391\n6239.074\n4572.551\n13523.919\n5810.312\n7628.256\n5559.241\n0.9221586\n0.8893850\n0.9472495\n\n\nLithuania\n2003\n13796.293\n5738.697\n7985.488\n1053.3142\n6792.011\n6932.174\n5171.111\n14937.061\n6443.036\n8414.251\n6224.554\n0.9236284\n0.8906821\n0.9490432\n\n\nLithuania\n2004\n15274.684\n6543.891\n8668.273\n1194.7681\n7738.659\n7473.505\n5584.294\n16499.601\n7310.088\n9117.442\n6779.168\n0.9257608\n0.8951863\n0.9507352\n\n\nLithuania\n2005\n17678.788\n7685.891\n9976.229\n1297.0178\n8982.908\n8679.211\n6579.201\n19009.709\n8520.020\n10468.874\n7877.119\n0.9299873\n0.9020977\n0.9529420\n\n\nLithuania\n2006\n20217.500\n9312.476\n10875.344\n1409.1116\n10721.588\n9466.233\n7103.573\n21733.678\n10277.301\n11424.266\n8514.445\n0.9302383\n0.9061208\n0.9519512\n\n\nLithuania\n2007\n24405.278\n11289.529\n13075.020\n1861.0486\n13150.578\n11213.971\n8458.686\n26076.498\n12325.898\n13707.922\n10321.686\n0.9359109\n0.9159194\n0.9538295\n\n\nLithuania\n2008\n27410.029\n13141.838\n14158.539\n1663.4611\n14805.299\n12495.078\n9278.821\n29349.213\n14355.068\n14882.713\n10940.865\n0.9339272\n0.9154842\n0.9513412\n\n\nLithuania\n2009\n22499.352\n10886.587\n11518.397\n1380.2407\n12266.828\n10138.156\n6863.211\n24300.361\n11978.252\n12226.556\n8242.125\n0.9258855\n0.9088627\n0.9420802\n\n\nLithuania\n2010\n23516.549\n10471.649\n12933.096\n1177.6793\n11649.328\n11755.417\n8417.402\n25209.752\n11469.970\n13627.141\n9595.817\n0.9328354\n0.9129622\n0.9490689\n\n\nLithuania\n2011\n26396.787\n11262.802\n15006.295\n1324.6075\n12587.409\n13681.687\n10246.789\n28160.059\n12296.093\n15734.589\n11571.081\n0.9373839\n0.9159659\n0.9537138\n\n\nLithuania\n2012\n28346.424\n11947.558\n16266.760\n1380.3708\n13327.929\n14886.389\n11240.884\n30165.165\n12977.052\n17053.637\n12632.590\n0.9397072\n0.9206681\n0.9538587\n\n\nLithuania\n2013\n29795.332\n12663.096\n16993.204\n1617.2054\n14280.302\n15375.998\n11531.067\n31690.078\n13742.619\n17805.406\n13148.675\n0.9402101\n0.9214471\n0.9543845\n\n\nLithuania\n2014\n31076.971\n13470.816\n17448.469\n1695.5367\n15166.353\n15752.933\n11748.433\n33067.677\n14623.929\n18282.464\n13444.808\n0.9397990\n0.9211489\n0.9543828\n\n\nLithuania\n2015\n31670.797\n14450.419\n17075.705\n1894.9107\n16345.329\n15180.794\n11017.695\n33716.445\n15650.939\n17918.209\n12911.556\n0.9393279\n0.9232940\n0.9529806\n\n\nLithuania\n2016\n32868.467\n15767.431\n16975.533\n2136.5659\n17903.997\n14838.967\n10544.524\n34957.881\n17024.769\n17804.904\n12681.790\n0.9402305\n0.9261466\n0.9534190\n\n\nLithuania\n2017\n35735.417\n17140.533\n18480.798\n2278.6584\n19419.191\n16202.139\n11781.610\n37916.630\n18472.811\n19328.059\n14060.869\n0.9424735\n0.9278790\n0.9561642\n\n\nSweden\n2014\n3319521.000\n1769689.000\n1226790.000\n99013.2097\n1868702.210\n1127776.790\n508278.790\n3490966.000\n1882976.000\n1266145.000\n607291.000\n0.9508890\n0.9398362\n0.9689175\n\n\nSweden\n2015\n3543359.000\n1849767.000\n1343464.000\n98606.2078\n1948373.208\n1244857.792\n597790.792\n3721440.000\n1967078.000\n1384411.000\n696396.000\n0.9521473\n0.9403628\n0.9704228\n\n\nSweden\n2016\n3690470.000\n1939800.000\n1364911.000\n92749.4283\n2032549.428\n1272161.572\n597890.572\n3876376.000\n2062757.000\n1406588.000\n690640.000\n0.9520413\n0.9403919\n0.9703701"
  },
  {
    "objectID": "PhD_pages/scripts/PIP/prepare_pip_percentiles.html",
    "href": "PhD_pages/scripts/PIP/prepare_pip_percentiles.html",
    "title": "Joe Hasell",
    "section": "",
    "text": "#These variables uniquely id a set of survey results\npip_id_vars<- c('Entity', 'Year', 'reporting_level', 'welfare_type')\n\n\npip_perc_orig<- read.csv(\"PhD_pages/data/original/pip_percentiles.csv\")\n\n\npip_main_vars_orig<- read.csv(\"PhD_pages/data/original/pip_main_vars.csv\")\n\n\nPrep ‘percentiles’ data file\n\npip_perc<- pip_perc_orig\n\n\n# Drop duplicate observations of 'headcount' - The PIP API returns the . Given the discrete nature of the survey data, it sometimes returns a headcount ratio that are fairly far from the target percentile queried and the same headcount ratio can be returned for multiple percentile queries. Here we keep only one.\n\npip_perc<- drop_dupes(pip_perc,\n                       id_vars = pip_id_vars,\n                        duplicate_data_var = 'headcount')\n\n\n# Browse for nonmonotonic rows\n# browse_nonmonotonic<- monotonicity_check(\n#   df = pip_perc, \n#   id_vars = pip_id_vars,\n#   order_var = 'headcount',\n#   data_var = 'percentile_value', \n#   action = 'browse')\n\n#There seems to be an issue with China in 1993,  driven by rural China.\n# br<- pip_perc %>%\n#   filter(Entity == \"China\",\n#          reporting_level == 'national',\n#          Year == 1993)\n\n# Let's drop these rows\npip_perc<- monotonicity_check(\n  df = pip_perc, \n  id_vars = pip_id_vars,\n  order_var = 'headcount',\n  data_var = 'percentile_value', \n  action = 'drop')\n\n\n#Drop world regions from percentile data\n\n# These are entities with no reporting level - as veried below\n# pip_perc %>%\n#   filter(reporting_level==\"\") %>% \n#   select(Entity) %>%\n#   unique() %>%\n#   print()\n\npip_perc<- pip_perc %>%\n    filter(reporting_level!=\"\") \n\n\n\nPrep ‘main vars’ data file\n\npip_main_vars<- pip_main_vars_orig %>%\n  rename(Entity = country_name,\n         Year = reporting_year) %>%\n  select(Entity, Year, reporting_level, welfare_type, mean, reporting_pop, reporting_gdp, gini, mld)\n\n\n\nMerge the percentile and main data files\n\npip_perc<- left_join(pip_perc, pip_main_vars)\n\nJoining, by = c(\"Entity\", \"Year\", \"reporting_level\", \"welfare_type\")\n\n\n\n\nAdditional cleaning\n\n#Keep only 'National' estimates, except for country-years that don't have national estimates.\n\n# Count how many reporting levels there are for each estimate\ncount_reporting_levels<- pip_main_vars %>%\n  select(Entity, Year, reporting_level) %>%\n  unique() %>%\n  count(Entity, Year) %>%\n  rename(number_of_reporting_levels = n)\n\n# We see there only 1 and 3 reporting levels - i.e. either national, rural or uban alone, or else all three are present.\ncount_reporting_levels %>% select(number_of_reporting_levels) %>% unique()\n\n    number_of_reporting_levels\n1                            1\n328                          3\n\n# Merge the counts back into dataframe\npip_main_vars<- left_join(pip_main_vars, count_reporting_levels)\n\nJoining, by = c(\"Entity\", \"Year\")\n\n# Filter to see if there are any cases where only non-national estimates are available\npip_main_vars %>%\nfilter(number_of_reporting_levels<3 & reporting_level!='national') %>%\nselect(Entity) %>%\nunique()\n\n                  Entity\n1              Argentina\n33               Bolivia\n35              Colombia\n39               Ecuador\n42              Ethiopia\n43 Micronesia, Fed. Sts.\n44              Honduras\n45                Rwanda\n46              Suriname\n47               Uruguay\n\n# Keep only national estimates except for these cases\n\npip_main_vars<- pip_main_vars %>%\nfilter(reporting_level=='national' | number_of_reporting_levels<3)\n\n# Check again if there is more than one reporting level\npip_main_vars %>%\n  select(Entity, Year, reporting_level) %>%\n  unique() %>%\n  count(Entity, Year) %>%\n  rename(number_of_reporting_levels = n) %>%\n    filter(number_of_reporting_levels>1)\n\n[1] Entity                     Year                      \n[3] number_of_reporting_levels\n<0 rows> (or 0-length row.names)\n\n\n\n\nPrepare reference year data\n\n# I'll prepare the observations from the main_vars file, and then merge in the percentiles\n\n# target_years<- c(1990, 2000, 2010, 2018)\n# \n# df_pip_ref_years<- keep_closest(\n#   df= pip_main_vars,\n#   id_vars = c(\"Entity\", \"reporting_level\"),\n#   distance_varname = \"Year\",\n#   targets = target_years,\n#   tie_break_dist_up_or_down = \"up\",\n#   tie_break_varname = \"welfare_type\",\n#   tie_break_value = \"income\")\n# \n# # We see that if we impose that a max distance, country coverage falls.\n# df_count<- df_pip_ref_years %>%\n#   count(Entity)\n# \n# df_pip_ref_years_filter<- df_pip_ref_years %>%\n#   filter(abs_distance<3)\n# \n# df_count<- df_pip_ref_years_filter %>%\n#   count(Entity)"
  },
  {
    "objectID": "PhD_pages/scripts/PIP/get_main_pip_vars.html",
    "href": "PhD_pages/scripts/PIP/get_main_pip_vars.html",
    "title": "Joe Hasell",
    "section": "",
    "text": "write.csv(pip_main_vars_orig, \"PhD_pages/data/original/pip_main_vars.csv\", row.names = FALSE)"
  },
  {
    "objectID": "PhD_pages/scripts/PIP/get_pip_percentiles.html",
    "href": "PhD_pages/scripts/PIP/get_pip_percentiles.html",
    "title": "Joe Hasell",
    "section": "",
    "text": "Here we take the file from GitHub.\n\n# pip_perc_orig<- read.csv('https://raw.githubusercontent.com/owid/notebooks/main/BetterDataDocs/JoeHasell/PIP/data/ppp_2017/raw/percentiles.csv')\n\n\n# write.csv(pip_perc_orig, \"PhD_pages/data/pip_percentiles.csv.csv\", row.names = FALSE)"
  },
  {
    "objectID": "PhD_pages/paper_pages/overview.html",
    "href": "PhD_pages/paper_pages/overview.html",
    "title": "Overview of papers",
    "section": "",
    "text": "Thanks to the efforts of a number of key teams involved in the production of harmonized inequality datasets, we are in a far better position than ever to describe and monitor trends in income inequality across the world as a whole. Recent years have seen considerable improvements, either in terms of spatial or temporal coverage of these datasets, the degree of comparability achieved across data points, or both.\nHowever, the key takeaways of this substantial body of empirical work remain surprisingly, and unhelpfully fractured.\nFor example, available inequality estimates based on Distributional National Accounts - as collated and summarise by the World Inequality Lab - depict a near universal rise inequality in recent decades.\n\nIncome and wealth inequalities have been on the rise nearly everywhere since the 1980s, following a series of deregulation and liberalization programs which took different forms in different countries. (Chancel et al. 2021)\n\nIn stark contrast, national survey data collected and harmonized by the World Bank show a far more mixed picture, with overall a decline in average inequality more recently.\n\nWithin-country inequality as a whole—that is, considering together the trends of all countries on which evidence is available—[…] started to narrow in the last decade, after peaking in the 1990s. (Poverty and Shared Prosperity 2016: Taking on Inequality 2016)\n\nAlongside these differing views of within-country inequality around the world are starkly contrasting views concerning the locus of global inequality: with inverse findings concerning the respective contributions made by within- and between country inequalities. Lakner and Milanovic (2016)\nDespite the far richer, wider range of distributional data at our disposal, basic questions concerning the nature and direction of inequality around the world remain, effectively, unanswered.\nOne explanation for this disconnect - between the greatly improved data and the ambiguous understanding of inequality globally that this has yielded - lies in extent to which the available data has emerged from the efforts of different networks of researchers, coalescing around different institutions, most notably the World Bank, the World Inequality Lab and the Luxembourg Income Study. These approaches to the measurement of inequality around the world are separated by a range of methodological differences woven together, somewhat as a package. Related to choice of methods, the approaches are also separated by different emphasis on hypotheses regarding the nature of inequality and its drivers - in particular the role played by factor shares in driving income inequality, particularly at the top. They are also separated technologically - presented on different platforms each with fairly high start-up costs required for proficient use.\nA causal observer would be forgiven for thinking that the different efforts occupy almost different ‘worlds’ of inequality research, where it is difficult to compare results, to understand where approaches agree, where they differ and why. Since the answers arrived at within each ‘world’ of inequality measurement can be strikingly different, very basic questions concerning inequality across the world remain, in effect, unanswered.\nIn the public and policy debate, this leads very different narratives that tends to focus, on the one hand, on a runaway global elite - ‘the 1%’ - or on the other hand on ‘convergence’ and ‘shared prosperity’. Within these different narratives sit divergent views concerning a variety of important and urgent questions: the outcomes, merits and demerits of global economic development and globalisation; and the scope and proper role of international development aid, philanthropy, and taxation - at national and international levels - to shape a fairer, more equal world.\nWhich of these ‘worlds’ of inequality we live in matters a great deal - but the way the data supporting these two views of the world has been presented and compared to date leaves us to a large extent in the dark as to which world we actually live in. By not ‘speaking to each other’, the value to society of the enormous efforts collectively made by hundreds of researchers and statisticians around the world in the production of these datasets is greatly diminished.\n\nDistinct methods\n[Breakdown the bundled methods: top incomes approach vs ‘conventional’ approaches]\n\nThe data sources relied upon:\n\nThe use of administrative tax data, national accounts aggregates, or rich lists in place of, or in addition to, household survey data\n\nThe conception of inequality adopted:\n\nThe approach has an emphasis on the share of income captured by the rich, in contrast to measures of overall inequality such as the Gini coefficient;\n\nThe welfare concept typically measured:\n\nFiscal income, or more recently pre-tax national income as defined within the DINA methodology. This contrasts with household disposable income (Canberra Group 2011, chapter 2) or consumption.\nInitially at least, these methodological choices by necessity came somewhat bundled together. The choice to use tax data imposed both restrictions on the income concept (taxable income) and a focus on the top (given the profile of tax filers). Conversely, concerns surrounding the ability of survey data to reliably capture top incomes has always been a main motivation for turning to tax data, less affected by issues of undersampling, underreporting or nonresponse.\nMethodological innovations within the top incomes literature, including the production of Distributional National Accounts (Alvaredo et al. 2016), have to some extent relaxed this constraint that the data source, conception of inequality and welfare concept must come as a package. Within DINA, survey data, national accounting aggregates, and administrative data are combined to produce ‘synthetic microfiles’ that can be used to model the whole distribution for a range of welfare concepts.\nNonetheless a primary focus on top income shares of pre-tax income continues to be a defining feature of research efforts in this space, marking it out from conventional approaches focussing on disposable income or consumption, often measured with Gini coefficient.\n\n\nDistinct views of inequality and its drivers\nThis distinction between in terms of methods is reflected different hypothesis concerning the empirical reality of inequality around the world, one concerning the drivers of these trends.\n\n1) Accounting for ‘missing’ top incomes, inequality within countries around the world is higher and has risen faster than we thought\nMuch of the ‘action’ in the income distribution in recent decades has been towards a greater concentration at the top. This is a phenomenon that standard approaches to inequality measurement – based on survey data and often using the Gini coefficient as the main summary measure – are ill-equipped to monitor.\nCompared to World Bank assessment – Inequality falling in a majority of countries.\n\n\n2) Inequality within countries are considerably greater than inequalities between countries\nBecause within-country inequality is much higher than suggested by survey data, so too is its contribution to global inequality. Working with DINA estimates from the World Inequality Database, Chancel and Piketty (2021) disaggregate global income inequality into between- and within-country components. They find that the majority of global inequality relates to within-country income differences, inverting the results of previous studies anchored more closely to household survey data (Lakner and Milanovic 2016; van Zanden et al. 2014; Bourguignon and Morrisson 2002).\n\n\n3) The accumulation and concentration of wealth is a key driver of these trends, and an inherent feature of capitalism\nA key theme in the top incomes literature – brought to wider prominence by Piketty’s Capital in the 21st Century (Piketty 2014) – is that the rise in inequality in recent decades to a large extent reflects ‘fundamental dynamics of capitalism’. The framework set out in Piketty (2014) connects the rise in inequality to rising wealth-to-income ratios. This trend is interpreted within a standard neoclassical aggregate growth model, whereby the stock of capital is growing faster than total income towards a high steady-state capital-to-income ratio. This increases the share of total income received by owners of that capital, which is in turn a key driver of rising inequality, since the vast majority of capital is owned by those earning top incomes. The return to factor incomes as a , stands in contrast with conventional frameworks – the returns to education, skills premia, labour market interventions, or the progressivity of tax and benefit regime.\nThis is a simplifification – Obviously many people thinking about top incomes in terms of adjustment of survey data. We can think of these as ‘stylized hypotheses’ s: the themes that connect and delineate a given literature and have driven much of the development of its methods – even if the boundaries are fuzzy.\nBut taken together ends up in two distinct views of the world:\n\nAn ‘orthodox’ view of the world where inequalities within countries are mainly a story of taxes and benefits, skills and wages; where trends in within country inequality – at least over the period where a global view is possible (roughly 1990 onwards) are very mixed – reflecting the importance and scope for national policy.; and where global inequalities reflect productivies;\nAnd a ‘radical’ view of the world in which the locus of global inequality is ‘the 1%’ – a global elite, driven by wealth accumulation, somewhat inevitable without radical rethink of policy implemented at the global level.\n\n\n\n\nDistinct platforms\n[I’m not sure whether to include this, but it seems to me that the root of many of these problems is essentially technological: the infrastructure and practices we have to compare and ‘switch’ between different methodological choices in our analysis of global inequality is very poor. Whilst the code behind the production of inequality estimates is become more available, in practice the barriers to this kind of joined-up analysis remain prohibitively high.]\n\n\nConnecting up the worlds of inequality research\nThe goal of the DPhil is to connect up these worlds. It does so in two ways.\nFirstly on the empirical side. Can we triangulate a clearer view of the world by bringing the methods from both ‘worlds’. This is the subject of the first two papers:\nPaper 1: With country inequality\nPaper 2: Global inequality\nSecondly, by addressing the causal hypothesis driving – namely factor shares and wealth accumulation are driving the trends in income inequality. This is the subject of the second two papers:\nPaper 3: Housing and factor shares\nPaper 4: Explaining the poor correlation between wealth and income inequality.\n\n\n\n\n\nReferences\n\nBourguignon, François, and Christian Morrisson. 2002. “Inequality Among World Citizens: 1820-1992.” Am. Econ. Rev. 92 (4): 727744.\n\n\nChancel, Lucas, Thomas Piketty, Emmanuel Saez, and Gabriel Zucman. 2021. “World Inequality Report 2022.”\n\n\nLakner, Christoph, and Branko Milanovic. 2016. “Global Income Distribution: From the Fall of the Berlin Wall to the Great Recession.” World Bank Econ. Rev. 30 (2): 203232.\n\n\nPoverty and Shared Prosperity 2016: Taking on Inequality. 2016. Poverty and Shared Prosperity. The World Bank. https://doi.org/10.1596/978-1-4648-0958-3."
  },
  {
    "objectID": "PhD_pages/paper_pages/paper1.html",
    "href": "PhD_pages/paper_pages/paper1.html",
    "title": "Paper 1: Triangulating trends in inequality around the world from secondary databases",
    "section": "",
    "text": "What has happened to within-country inequality globally?\nDifferent headline - WID suggests general rise (find a quote). PIP much more mixed… even a fall.\nWhich world we live in matters for how we think we should tackle inequality.\nA secular, general rise - suggesting global forces, perhaps something intrinsic to capitalism (Piketty, 2014).\nA mixed picture of inequality around the world suggests reflect specific circumstances, with accordingly much scope for national policy to influence.\nBoth are reasonable methods and have strengths and weaknesses.\nI want to:\na) Triangulate the key stylized facts. Which observations are robust to across available datasets with their different methods, and which are contingent?\nb) Untangle which methods, definitions affect the different conclusions arrived at."
  },
  {
    "objectID": "PhD_pages/paper_pages/paper1.html#data-sources",
    "href": "PhD_pages/paper_pages/paper1.html#data-sources",
    "title": "Paper 1: Triangulating trends in inequality around the world from secondary databases",
    "section": "Data sources",
    "text": "Data sources\n\nPIP\n\n\nWID\n\n\nLIS\n\n\nOther sources\nShould we use Solt? As another check on results?\nWhat about GCIP? For trying to flip between income and consumption…\n\n\nCoverage\ns"
  },
  {
    "objectID": "PhD_pages/paper_pages/paper1.html#methods-comparing-databases",
    "href": "PhD_pages/paper_pages/paper1.html#methods-comparing-databases",
    "title": "Paper 1: Triangulating trends in inequality around the world from secondary databases",
    "section": "Methods: Comparing databases",
    "text": "Methods: Comparing databases\n\nLining up years\nMethod 1: Reference years\nMethod 2: Fully extrapolating/interpolating\nThe equivalent of the reference year approach where there is no max threshold gap.\nMethod 3: For the time trend, use a regression with country fixed effects to allow for entry and exit from the sample.\n\n\nComparing welfare concepts\nGetting a global view of inequalities within countries faces a Catch-22 situation: If you want broad coverage you get very heterogeneous data; if you want comparable data, or to be able to consider different welfare concepts consistently, the coverage you get is much smaller.\nHere I’ll take two avenues.\nFirstly, what we’re going for with the ‘triangulation’ approach is dominance - if different welfare metrics agree\nSecond we will cross reference to attempts to ‘standardise’ across these differences: using Solt and GCIP. How valid that is I don’t know. But taking the two approaches together we get as close as we can to robust observations.\n\n\nA range of inequality metrics\n\n\nLorenz curves\nDominance implies any (well-behaved) summary measure of inequality will agree on the ranking.\nOperationalize this by taking 99 points on the Lorenze curve: the percentiles.\nThis leaves out the very top. But this would be quite a warped conception of inequality. I.e. if you have two distributions, A and B, and the share of income received by every whole percentile threshold in B is higher than A, but the Lorenze curves crossed within the top percentile - to claim that inequality is higher in B you’d need a very extreme conception of inequality."
  },
  {
    "objectID": "PhD_pages/paper_pages/paper3.html",
    "href": "PhD_pages/paper_pages/paper3.html",
    "title": "Paper 3: Housing and the capital share of income",
    "section": "",
    "text": "A substantial literature has documented a long-run shift in the distribution of national income between wages and returns to capital.\nMuch of the interest in this empirical trend owes to its lying at the junction of two prominent topics within the social sciences: 1) the decline of labour bargaining power, and 2) the rise in income inequality.\n(Explain (1) and connection to (2)).\nThe hypothesis underpins much of the motivation for the Top incomes approach."
  },
  {
    "objectID": "PhD_pages/paper_pages/paper3.html#the-housing-share-of-income",
    "href": "PhD_pages/paper_pages/paper3.html#the-housing-share-of-income",
    "title": "Paper 3: Housing and the capital share of income",
    "section": "The housing share of income",
    "text": "The housing share of income\nThe unusual nature of housing … in the national accounts.\nAs a stock, housing is a non-financial asset included in the balance sheet. Housing also features as a flow, included in each of the three approaches to calculating GDP: output, income and expenditure.\nAs output, housing services are included in Real Estate activity (SIC….). Sub Sector.\nThis flow of housing services generates a stream of income, which, in addition to small amounts of labour income (property management, agents’ fees), is the yield received by owners of housing assets.1 This private or public rented sector , and owner occupied, to which an equivalent rent is imputed. includes rent imputed to owner occupiers, as well as actual rents received by private landlords, whether individuals or corporations (both privately and publicly owned).\nThis income as an expenditure by households, again both actual and imputed rents ‘paid’.\nIn line with national accounting principles, the value of the flow of housing is equal, whether conceived of as a stream of services, income, or expenditure. As such, these offer different entry points from which aggregate housing income can be calculated and isolated from non-housing capital income.\nFigure 1 shows these housing flows as a share of total income.\nIn each case the denoninator is gross domestic value added, valued at factor cost. This aggregate is similar to GDP, with the exception that taxes and subsidies on production are excluded. This results in an aggregate that capital and labour components: gross operating surplus and compensation of employees.\n\nCapital income of the real estate industry\n(Give brief description)\nHousehold final consumption of rent\n(Give brief description)\nGross operating surplus of the household sector\n(Give brief description)\n\n\n\n\nTrends in the housing share\nComparing the housing share series plotted in Figure 1, we see the figures for the industry approach are quite consistent across the two data sources: the early vintage KLEMS data (red line) and OECD data (green line). The series adopting the second approach of final household consumption of rent (blue line) also tracks both these series closely.\nAs expected, the third approach of gross operating surplus in the household sector (purple line) is generally an outlier. How far this series falls from the others varies considerably across countries, reflecting the varying accounting conventions and tenure structures just discussed.\nA notable exception to the above characterisation is the UK, in which the more recent data from the OECD (beginning in 1995) for all three approaches falls substantially above the share calculated from the earlier KLEMS industry data. The reason for this large discrepancy is not entirely clear, but may relate to recent revisions to ONS practices for calculating imputed rent. (FIND REFERENCE).\nBefore turning to summary statistics, an inspection of Figure 1shows that there have been substantial rises in a majority of the twenty countries. Many countries – including France, Germany, Italy and Spain – have seen an increase in the housing share roughly five percentage points across five decades, or one point per decade. To give a sense of scale, it serves to compare this with the changes in the factor distribution found in the existing literature. Karabarbounis and Neiman (2014) find a 1.3 points-per-decade fall in the overall ‘global’ labour share between 1975 and 2012; Rodriguez and Jayadev (2010) find xxxx, and Piketty finds xxxx across X countries.\nA number of countries, however have seen only modest rises or none at all – Ireland, Norway and Sweden all falling in the latter group. It is only in Portugal that we see a substantial fall over the period, (Presumably the revolution/nationalizations? But a) why would this affect the housing share so much, b) the fall seems to begin in 1977 – some time after the revolution an economic downturn).\nTo facilitate comparisons I construct a single housing share series for each country. For most countries, the series is centred around the OECD industry-level data which is then extended back using the KLEMS industry-level data where available for earlier years. In the case of Canada, United States and Spain, for which recent OECD industry data is not available, the rent consumption share is used. Earlier and later series are linked on a proportionate basis: the earlier data is adjusted by the ratio of the two series for the earliest overlapping year.\n(The series based on gross operating surplus in the household sector (approach 3) are excluded entirely due to the comparability issues discussed. For each individual country the available series are ‘averaged’ by plotting the year fixed effects from a linear regression across all series, normalised so as to coincide with the earliest series. See Appendix X for details and regression results.)\nFigure 2 plots the ‘average’ of the resulting housing share series across all twenty countries. This represents the year fixed effects from a linear regression of the synthetic housing share on country and year dummies, normalised so as to coincide with the mean across all earliest series. This is used in order to account for entry and exit of countries from the sample.\nOn average x point rise."
  },
  {
    "objectID": "PhD_pages/paper_pages/paper3.html#housing-and-non-housing-capital-shares",
    "href": "PhD_pages/paper_pages/paper3.html#housing-and-non-housing-capital-shares",
    "title": "Paper 3: Housing and the capital share of income",
    "section": "Housing and non-housing capital shares",
    "text": "Housing and non-housing capital shares\nTo see how this increase in housing income has contributed to changes in the overall functional distribution, Figure 1 shows the capital share of income across 18 high income countries from roughly 2017 separating out housing (dotted lines) from non-housing (solid lines) capital income. The data exclude net taxes on production, such that capital and labour income sum to 100% of value added (i.e. at factor cost). On this basis, a rise in the capital share of 1 point implies a fall in the labour share of 1 point. \nIn order to increase coverage, trends are shown from three sources as follows.\n\n\n\n1) EU-KLEMS – industry-level data\nThe EU-KLEMS database collates industry-level data for most European countries as well some larger OECD countries. This includes industry figures for value added, compensation of employees and gross operating surplus (the residual balance after subtracting employee compensation from value added). In addition, labour income attributable to the activity of the self-employed is imputed and separated out from gross operating surplus, resulting in a ‘capital’ and ‘labour’ income series for each industry which together sum to total value added. The imputation is made using employment data, based on the assumption that the hourly compensation of the employed and self-employed is equal on average within each industry.\nIn the series presented below, we use the capital income reported within the real estate industry as a proxy for housing capital income. Since activities other than housing services are included in this industry (such as the rent of offices, or activity involved in the sale or marketing of property) this leads to an overestimate of the housing capital share per se.\nComparison with national accounts data on households’ consumption expenditure on rent (both actual and imputed) shows that in many countries the real estate industry has grown somewhat faster than housing services (Appendix X). Arguably, it makes sense to include these additional activities along with housing since their growth is likely to derive in part from the same underlying force – namely, rising demand for urban space against an inelastic supply. As shown in Appendix X however, where the boundary of ‘housing’ is drawn – whether the real estate industry as a whole or only including dwellings – does not substantively affect the resulting trends in the housing and non-housing capital shares in any case. \nCountry and year coverage varies across different vintages of the EU-KLEMS data, in part due to changes in industry classification over time. In order to maximise coverage in earlier years, I rely on the 2009 release from which long-run series, generally running from 1970 to 2007, can be obtained for 18 high income countries.\n\n\n2) OECD – industry-level data\nThe OECD also provide national accounts data at the industry-level similar to the EU-KLEMS data used, though based on a more recent industry classification. Country coverage is wider, and observations generally run up to 2017 or later, but in most cases only begin from around 1995.\nIn the series presented below, capital and labour components of value added (at factor cost) are obtained following the same imputation method for self-employment activity as used in the EU-KLEMS dataset, based on industry employment data also from the OECD (see Appendix X for further discussion).\n\n\n\n\n3) OECD – institutional sector data\nA third series is based on national accounts data broken down by institutional sector (corporations, households, government and non-profit institutions serving households) rather than by industry.\nThis is added in order to further increase coverage, and to connect with the existing factor shares literature which commonly relies on this approach (see for instance Piketty and Zucman (2014), Karabarbounis and Neiman (2014) and Rognlie (2016)). However, it suffers from two important drawbacks.\nFirstly, the question of how to treat the mixed income arising from self-employment activity is particularly problematic in the context of sector-level data. In the series presented below, I adopt a commonly used approach whereby mixed income – reported as a separate line in the household sector accounts – is split into capital and labour components based on the assumption that the respective shares are equal to those observed in the corporate sector. In addition to the uncertainty surrounding this assumption, however, Pionnier and Guidetti (2015) point to a significant limitation of this approach on account of the varying treatment of unincorporated enterprises across countries. In some countries, substantial self-employment activity may be recorded fully as corporate gross operating surplus, due to the inclusion of some unincorporated enterprises within the corporate sector as quasi-corporations. In the case of Italy and Germany they demonstrate that failing to account for the labour income implicit within such activity biases the labour share downward substantially, and also affect trends as the composition of employment changes over time.\nSecondly, sector-level data also presents difficulties when seeking to isolate the capital income relating specifically to housing. Previous studies have tended to take the gross operating surplus of the household sector as the relevant measure (Piketty and Zucman 2014; Rognlie 2016). According to national accounting conventions, this is where the imputed rent attributable to owner-occupied housing is recorded, which for most countries represents the large majority of dwellings.\nThere are two issues with this approach however. Firstly, whilst the corporate sector involvement in the housing market is often small, it is by no means insignificant in all cases. In addition to houses and apartments owned in the for-profit sector, this includes social housing operated by public or non-profit corporations. The latter comprises, for instance, 18% of the UK housing stock in recent years – down from roughly 30% through the 1970s.\nSecondly, there appears to be inconsistency across national accounting practices with respect to private rentals on the part of unincorporated individuals, which often represent the bulk of the private rented sector. In some countries this is recorded as household gross operating surplus, but in others it is included as mixed income (see Appendix X for further discussion). Consistent with these two observations, household gross operating surplus is often substantially lower than two other more comprehensive measures of housing income available in the national accounts (see Figure A.1).\nFor this reason, in the series below we use households’ final consumption expenditure on rent (both actual and imputed) in order to separate out housing from non-housing capital income within the sector data. These data exclude any costs relating to maintenance, services or utilities, but are, nevertheless, probably a slight overestimate of housing capital income since they may include some labour income (such as the management activity of landlords) and production taxes (since it is measured at market prices).\nGiven these problems relating to the institutional sector data, this third series is generally not included in the calculation of average trends (section X below). The exceptions are the US and Spain, which lack OECD industry-level data for recent years and are not affected by the aforementioned issue relating to quasi-corporations.\n\n\n\n\nCountry trends in the housing and non-housing capital share\nThe three series are plotted in Figure 1. (Further discussion)\nTable 1 indicates the average annual points change observed in each series, multiplied by 10. As a rough indicator of the centrality of housing to changes in the overall housing share, positive changes in the housing capital share greater than the corresponding change seen in the non-housing capital share are highlighted in red (including where the non-housing capital share fell). We see that in the earlier KLEMS data, the majority of countries saw rises in the housing capital share greater than those in the non-housing capital share. In the two later OECD series we see a more even split between countries with rising and falling housing shares. (Further discussion).\n\n\n\nAverage trends\nTo consider average trends, the various series are clustered into an ‘early’ grouping and a ‘later’ grouping. The early grouping is made up of observations from 1970 to 2007 which for almost all countries is taken from the KLEMS industry data. The later grouping is made up of observations from 1995 onwards which for almost all countries is taken from the OECD industry data. The exceptions are Denmark and Norway for which a complete series in the OECD industry data is available. In these cases the OECD data is used twice over, for both the ‘early’ and ‘late’ groupings. For Japan, only the KLEMS industry data is available, and again this is included in both the late and early groupings. In the case of the United States and Spain, for which no OECD industry-level data is available, observations for the later grouping are taken from the sector accounts and housing rent consumption data (see discussion in Section X).\n‘Average’ housing and non-housing capital shares are then obtained within each respective grouping by taking the year fixed effects from a linear model controlling for country fixed effects to account for the (few instances of) entry or exit from the sample. These are then normalised such that the value in the initial year corresponds to the mean across countries for that year. These average series are plotted for the early and late groupings in figure 2. \n\nThe fact that the gradients of the average housing and non-housing capital share trend lines are, broadly speaking, similar gives us an overall indication of the importance of housing to movements in the overall capital share: its contribution alone was comparable to the aggregate across all other industries.\nThis is confirmed in Table 1, which shows the change in the averages, broken down into sub-periods to facilitate comparison between the early and late series. The first four columns split the trends into two roughly equal subperiods: 1970-1995 and 1995-2017. 1995 marks the year in which the later series for the average capital shares begins (the earliest year for which the OECD industry data is available for most countries).\nWe see from the earlier (primarily KLEMS) data that the quarter-century from 1970 to 1995 saw a substantial rise in the overall capital share. The average capital share rose by 4.6 points across the 18 high-income countries in our sample, and 3.5 points where weighted by GDP at PPPs. But around two-thirds of this increase owed to rising housing shares.\nThe later series shows a much more modest rise in the overall capital share between 1995 and 2017, with housing nevertheless playing an important role. Rising housing shares drove almost all of the 1 point rise in the unweighted average for this period, and about half of the 2.5 point rise in the weighted average.\nThe four columns to the right of Table 2 provide a further breakdown of the later period, split at 2007 which marks the end of the early KLEMS data. As visible from Figure 2, where the early and later series overlap, there is some disagreement between them concerning the non-housing capital share. Between 1995 and 2007 the early series average rose by around 1-1.5 points more than the later series, with no apparent slow-down. \nReferring back to Figure 1, we see that whilst the more recent OECD industry data does generally track the earlier KLEMS data very closely, for a small number of countries – Greece, Italy and to a lesser extent the United Kingdom – there is a large initial discrepancy beginning in 1995 that decreases over time. Similarly, for the United States the later series based on institutional sectors rises more slowly than indicated in the KLEMS data. [Can we say anything about the reasons for these discrepancies?]\nTaken together, however, the overall view of the past half century afforded by the available data sources is not much affected by the differences visible across them. Table 3 sums the points changes seen in the averages across the subperiods, as a summary across the full period.\nWe see the rise in the overall capital share varies modestly depending on whether we make a break to the later series from where it begins in 1995 (left two columns) or from where the earlier series ends in 2007 (right two columns). Similarly, the average rise also depends somewhat on whether countries are weighted by GDP, with some larger economies seeing greater rises (see Table 1). But any combination of the series results in a rise in the overall capital share in the region of 6-7 points between 1970 and 2017.\nLikewise, whilst there are differences across specifications, the centrality of housing to changes in the overall capital share over the past five decades is clear. On a weighted basis, rising housing shares contributed to around half of the rise in the overall capital share on average. Taking the unweighted average, the contribution was larger still, at around two-thirds of the overall rise."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "personal_site",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "test_pages/test_with_shinylive.html",
    "href": "test_pages/test_with_shinylive.html",
    "title": "A test notebook with Shinylive",
    "section": "",
    "text": "a<- c(1:10)\nb<- a * 2 + 1\n\n\ndf<- data.frame(a, b)\n\nfp<- paste0(here(),\"/shiny_apps/app1/data.csv\")\n\nwrite.csv(df, fp)"
  },
  {
    "objectID": "how_to.html",
    "href": "how_to.html",
    "title": "How I built this site",
    "section": "",
    "text": "Quarto notebooks, gathered together into a Quarto website\nThese are published to the web via Netlify\nText editing is done using Google Docs, pulled in to the Quarto notebooks using the R trackdown package"
  },
  {
    "objectID": "PhD_pages/paper_pages/paper3.html#data",
    "href": "PhD_pages/paper_pages/paper3.html#data",
    "title": "Paper 3: Housing and the capital share of income",
    "section": "Data",
    "text": "Data\n\nBackground on the structure of national accounts\n\n\nApproaches to calculating factor shares\n\n\nAvailable sources"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html#sense-checking",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html#sense-checking",
    "title": "Appendix 3.B: Preparing OECD industry data",
    "section": "Sense checking",
    "text": "Sense checking\n\nHow does the sum across all industries compare to the reported economy-wide totals?\n\n\n\n\n\n\nCalculate aggregate across industries and merge with reported economy-wide totals\n\n\n\n\n\n\nagg_industries<- main_industry_accounts %>%\n    group_by(country, year) %>%\n    summarise(VA = sum(VA, na.rm = TRUE),\n              COMP = sum(COMP, na.rm = TRUE),\n              GOS = sum(GOS, na.rm = TRUE),\n              NOS = sum(NOS, na.rm = TRUE)\n              )\n\n`summarise()` has grouped output by 'country'. You can override using the\n`.groups` argument.\n\nreported_totals <- reported_totals %>%\n  rename(VA_reported = VA,\n         COMP_reported = COMP,\n         GOS_reported = GOS,\n         NOS_reported = NOS) %>%\n  select(-ind_code)\n\ncheck_totals<- left_join(agg_industries, reported_totals) %>%\n  mutate(VA_ratio = VA/VA_reported,\n         COMP_ratio = COMP/COMP_reported,\n         GOS_ratio = GOS/GOS_reported,\n         NOS_ratio = NOS/NOS_reported)\n\nJoining, by = c(\"country\", \"year\")\n\ntolerance<- 0.005 # half a percent tolerance\n\n\n\n\nIn general the sum across industries is very close to to the reported economy-wide aggregate. In the table below we show all observations where the ratio deviates from 100% by more than 0.5%.\nNote that in Finland - which is one of the countries we will go on to use this data for - the sum across available industries falls short of the reported aggregate (for value added, compensation of employees and gross operating surplus) by around 5%, with no trend over time.\n\nValue addedComp. of employeesGross operating surplus\n\n\n\nkable(\n  check_totals %>%\n  filter(VA_ratio<(1-tolerance) | VA_ratio>(1+tolerance)) %>%\n    select(country, year, VA_ratio, VA, VA_reported)\n)\n\n\n\n\ncountry\nyear\nVA_ratio\nVA\nVA_reported\n\n\n\n\nCosta Rica\n1991\n0.9937722\n803171.340\n808204.677\n\n\nCosta Rica\n1992\n0.9923240\n1037274.522\n1045298.280\n\n\nCosta Rica\n1993\n0.9915552\n1235730.407\n1246254.764\n\n\nCosta Rica\n1994\n0.9900536\n1488249.509\n1503200.903\n\n\nCosta Rica\n1995\n0.9898467\n1873898.800\n1893120.163\n\n\nCosta Rica\n1996\n0.9883872\n2170917.400\n2196424.062\n\n\nCosta Rica\n1997\n0.9874980\n2629268.064\n2662555.352\n\n\nCosta Rica\n1998\n0.9868790\n3162526.634\n3204573.794\n\n\nCosta Rica\n1999\n0.9863545\n3640783.186\n3691150.941\n\n\nCosta Rica\n2000\n0.9863315\n4114277.389\n4171292.898\n\n\nCosta Rica\n2001\n0.9861389\n4657626.279\n4723093.562\n\n\nCosta Rica\n2002\n0.9863439\n5295760.939\n5369081.737\n\n\nCosta Rica\n2003\n0.9869873\n6140412.304\n6221369.175\n\n\nCosta Rica\n2004\n0.9877277\n7275825.509\n7366226.162\n\n\nCosta Rica\n2005\n0.9878824\n8535920.225\n8640623.562\n\n\nCosta Rica\n2006\n0.9880554\n10307730.955\n10432340.589\n\n\nCosta Rica\n2007\n0.9879280\n12247920.216\n12397584.166\n\n\nCosta Rica\n2008\n0.9879775\n14307473.386\n14481578.088\n\n\nCosta Rica\n2009\n0.9879225\n15852304.536\n16046101.873\n\n\nCosta Rica\n2010\n0.9879451\n17740055.551\n17956519.839\n\n\nCosta Rica\n2011\n0.9868235\n19248010.381\n19505018.580\n\n\nFinland\n1980\n0.9427414\n28385.000\n30109.000\n\n\nFinland\n1981\n0.9398975\n31902.000\n33942.000\n\n\nFinland\n1982\n0.9390734\n35774.000\n38095.000\n\n\nFinland\n1983\n0.9376541\n39930.000\n42585.000\n\n\nFinland\n1984\n0.9385666\n44382.000\n47287.000\n\n\nFinland\n1985\n0.9375487\n48145.000\n51352.000\n\n\nFinland\n1986\n0.9376702\n51660.000\n55094.000\n\n\nFinland\n1987\n0.9366044\n55491.000\n59247.000\n\n\nFinland\n1988\n0.9365638\n61713.000\n65893.000\n\n\nFinland\n1989\n0.9378539\n69389.000\n73987.000\n\n\nFinland\n1990\n0.9347023\n73920.000\n79084.000\n\n\nFinland\n1991\n0.9243051\n69932.000\n75659.000\n\n\nFinland\n1992\n0.9227245\n68277.000\n73995.000\n\n\nFinland\n1993\n0.9272405\n69518.000\n74973.000\n\n\nFinland\n1994\n0.9293321\n73828.000\n79442.000\n\n\nFinland\n1995\n0.9324509\n80519.000\n86352.000\n\n\nFinland\n1996\n0.9313454\n83049.000\n89171.000\n\n\nFinland\n1997\n0.9337213\n89697.000\n96064.000\n\n\nFinland\n1998\n0.9371698\n98102.000\n104679.000\n\n\nFinland\n1999\n0.9382714\n103618.000\n110435.000\n\n\nFinland\n2000\n0.9400000\n112048.000\n119200.000\n\n\nFinland\n2001\n0.9411617\n119632.000\n127111.000\n\n\nFinland\n2002\n0.9405865\n122296.000\n130021.000\n\n\nFinland\n2003\n0.9388701\n124159.000\n132243.000\n\n\nFinland\n2004\n0.9390711\n130298.000\n138752.000\n\n\nFinland\n2005\n0.9385048\n134789.000\n143621.000\n\n\nFinland\n2006\n0.9391793\n141323.000\n150475.000\n\n\nFinland\n2007\n0.9416574\n154106.000\n163654.000\n\n\nFinland\n2008\n0.9406054\n160266.000\n170386.000\n\n\nFinland\n2009\n0.9348145\n148026.000\n158348.000\n\n\nFinland\n2010\n0.9360714\n153160.000\n163620.000\n\n\nFinland\n2011\n0.9366339\n159653.000\n170454.000\n\n\nFinland\n2012\n0.9356328\n161319.000\n172417.000\n\n\nFinland\n2013\n0.9350179\n163630.000\n175002.000\n\n\nFinland\n2014\n0.9356563\n165599.000\n176987.000\n\n\nFinland\n2015\n0.9366934\n169697.000\n181166.000\n\n\nFinland\n2016\n0.9392253\n174648.000\n185949.000\n\n\nFinland\n2017\n0.9416049\n182048.000\n193338.000\n\n\nLithuania\n1995\n0.9251961\n6417.014\n6935.842\n\n\nLithuania\n1996\n0.9233740\n8064.575\n8733.813\n\n\nLithuania\n1997\n0.9189867\n9442.728\n10275.152\n\n\nLithuania\n1998\n0.9114078\n10402.013\n11413.127\n\n\nLithuania\n1999\n0.9068707\n10133.112\n11173.712\n\n\nLithuania\n2000\n0.9179125\n10905.612\n11880.885\n\n\nLithuania\n2001\n0.9203740\n11628.474\n12634.510\n\n\nLithuania\n2002\n0.9221586\n12471.198\n13523.919\n\n\nLithuania\n2003\n0.9236284\n13796.293\n14937.061\n\n\nLithuania\n2004\n0.9257608\n15274.684\n16499.601\n\n\nLithuania\n2005\n0.9299873\n17678.788\n19009.709\n\n\nLithuania\n2006\n0.9302383\n20217.500\n21733.678\n\n\nLithuania\n2007\n0.9359109\n24405.278\n26076.498\n\n\nLithuania\n2008\n0.9339272\n27410.029\n29349.213\n\n\nLithuania\n2009\n0.9258855\n22499.352\n24300.361\n\n\nLithuania\n2010\n0.9328354\n23516.549\n25209.752\n\n\nLithuania\n2011\n0.9373839\n26396.787\n28160.059\n\n\nLithuania\n2012\n0.9397072\n28346.424\n30165.165\n\n\nLithuania\n2013\n0.9402101\n29795.332\n31690.078\n\n\nLithuania\n2014\n0.9397990\n31076.971\n33067.677\n\n\nLithuania\n2015\n0.9393279\n31670.797\n33716.445\n\n\nLithuania\n2016\n0.9402305\n32868.467\n34957.881\n\n\nLithuania\n2017\n0.9424735\n35735.417\n37916.630\n\n\nSweden\n2014\n0.9508890\n3319521.000\n3490966.000\n\n\nSweden\n2015\n0.9521473\n3543359.000\n3721440.000\n\n\nSweden\n2016\n0.9520413\n3690470.000\n3876376.000\n\n\n\n\n\n\n\n\nkable(\n  check_totals %>%\n  filter(COMP_ratio<(1-tolerance) | COMP_ratio>(1+tolerance)) %>%\n    select(country, year, COMP_ratio, COMP, COMP_reported)\n)\n\n\n\n\ncountry\nyear\nCOMP_ratio\nCOMP\nCOMP_reported\n\n\n\n\nCosta Rica\n1991\n0.9868249\n373543.711\n378530.880\n\n\nCosta Rica\n1992\n0.9839700\n488398.486\n496355.039\n\n\nCosta Rica\n1993\n0.9828927\n600059.394\n610503.463\n\n\nCosta Rica\n1994\n0.9801801\n734303.773\n749151.863\n\n\nCosta Rica\n1995\n0.9793755\n907005.211\n926105.718\n\n\nCosta Rica\n1996\n0.9764182\n1050047.387\n1075407.419\n\n\nCosta Rica\n1997\n0.9740170\n1240968.553\n1274072.787\n\n\nCosta Rica\n1998\n0.9727336\n1491742.590\n1533557.207\n\n\nCosta Rica\n1999\n0.9724615\n1768762.205\n1818850.620\n\n\nCosta Rica\n2000\n0.9725325\n2008365.067\n2065087.819\n\n\nCosta Rica\n2001\n0.9727933\n2327304.572\n2392393.609\n\n\nCosta Rica\n2002\n0.9730950\n2636366.965\n2709259.615\n\n\nCosta Rica\n2003\n0.9737333\n2983465.837\n3063945.630\n\n\nCosta Rica\n2004\n0.9743152\n3408542.185\n3498397.900\n\n\nCosta Rica\n2005\n0.9744457\n3967891.412\n4071947.213\n\n\nCosta Rica\n2006\n0.9746846\n4768038.874\n4891878.857\n\n\nCosta Rica\n2007\n0.9743858\n5659018.287\n5807780.120\n\n\nCosta Rica\n2008\n0.9747554\n6680663.127\n6853681.656\n\n\nCosta Rica\n2009\n0.9752836\n7601052.902\n7793684.969\n\n\nCosta Rica\n2010\n0.9758066\n8678528.319\n8893697.401\n\n\nCosta Rica\n2011\n0.9740541\n9590094.293\n9845546.027\n\n\nFinland\n1980\n0.9237648\n16322.000\n17669.000\n\n\nFinland\n1981\n0.9216664\n18849.000\n20451.000\n\n\nFinland\n1982\n0.9191277\n20821.000\n22653.000\n\n\nFinland\n1983\n0.9166799\n23016.000\n25108.000\n\n\nFinland\n1984\n0.9184857\n25668.000\n27946.000\n\n\nFinland\n1985\n0.9192046\n28613.000\n31128.000\n\n\nFinland\n1986\n0.9196404\n30693.000\n33375.000\n\n\nFinland\n1987\n0.9196795\n33400.000\n36317.000\n\n\nFinland\n1988\n0.9191489\n36936.000\n40185.000\n\n\nFinland\n1989\n0.9210047\n41436.000\n44990.000\n\n\nFinland\n1990\n0.9207470\n45263.000\n49159.000\n\n\nFinland\n1991\n0.9110516\n44903.000\n49287.000\n\n\nFinland\n1992\n0.9066301\n42268.000\n46621.000\n\n\nFinland\n1993\n0.9084203\n40025.000\n44060.000\n\n\nFinland\n1994\n0.9086912\n40713.000\n44804.000\n\n\nFinland\n1995\n0.9117128\n43403.000\n47606.000\n\n\nFinland\n1996\n0.9105922\n45159.000\n49593.000\n\n\nFinland\n1997\n0.9121998\n47667.000\n52255.000\n\n\nFinland\n1998\n0.9162422\n51622.000\n56341.000\n\n\nFinland\n1999\n0.9187524\n54878.000\n59731.000\n\n\nFinland\n2000\n0.9206369\n58512.000\n63556.000\n\n\nFinland\n2001\n0.9210213\n61865.000\n67170.000\n\n\nFinland\n2002\n0.9199105\n63736.000\n69285.000\n\n\nFinland\n2003\n0.9170894\n65084.000\n70968.000\n\n\nFinland\n2004\n0.9166148\n67769.000\n73934.000\n\n\nFinland\n2005\n0.9176266\n71373.000\n77780.000\n\n\nFinland\n2006\n0.9192982\n75137.000\n81733.000\n\n\nFinland\n2007\n0.9206596\n79452.000\n86299.000\n\n\nFinland\n2008\n0.9212463\n84739.000\n91983.000\n\n\nFinland\n2009\n0.9181658\n83498.000\n90940.000\n\n\nFinland\n2010\n0.9184667\n84870.000\n92404.000\n\n\nFinland\n2011\n0.9201677\n89098.000\n96828.000\n\n\nFinland\n2012\n0.9214562\n92411.000\n100288.000\n\n\nFinland\n2013\n0.9206773\n93144.000\n101169.000\n\n\nFinland\n2014\n0.9207794\n93379.000\n101413.000\n\n\nFinland\n2015\n0.9209602\n94415.000\n102518.000\n\n\nFinland\n2016\n0.9241652\n96286.000\n104187.000\n\n\nFinland\n2017\n0.9256335\n97061.000\n104859.000\n\n\nLithuania\n1995\n0.9311275\n2702.088\n2901.953\n\n\nLithuania\n1996\n0.9149393\n3376.724\n3690.654\n\n\nLithuania\n1997\n0.9023047\n4093.219\n4536.404\n\n\nLithuania\n1998\n0.8875964\n4806.682\n5415.392\n\n\nLithuania\n1999\n0.8839917\n4821.092\n5453.775\n\n\nLithuania\n2000\n0.8925746\n4661.780\n5222.846\n\n\nLithuania\n2001\n0.8897515\n4773.771\n5365.285\n\n\nLithuania\n2002\n0.8893850\n5167.604\n5810.312\n\n\nLithuania\n2003\n0.8906821\n5738.697\n6443.036\n\n\nLithuania\n2004\n0.8951863\n6543.891\n7310.088\n\n\nLithuania\n2005\n0.9020977\n7685.891\n8520.020\n\n\nLithuania\n2006\n0.9061208\n9312.476\n10277.301\n\n\nLithuania\n2007\n0.9159194\n11289.529\n12325.898\n\n\nLithuania\n2008\n0.9154842\n13141.838\n14355.068\n\n\nLithuania\n2009\n0.9088627\n10886.587\n11978.252\n\n\nLithuania\n2010\n0.9129622\n10471.649\n11469.970\n\n\nLithuania\n2011\n0.9159659\n11262.802\n12296.093\n\n\nLithuania\n2012\n0.9206681\n11947.558\n12977.052\n\n\nLithuania\n2013\n0.9214471\n12663.096\n13742.619\n\n\nLithuania\n2014\n0.9211489\n13470.816\n14623.929\n\n\nLithuania\n2015\n0.9232940\n14450.419\n15650.939\n\n\nLithuania\n2016\n0.9261466\n15767.431\n17024.769\n\n\nLithuania\n2017\n0.9278790\n17140.533\n18472.811\n\n\nSweden\n2014\n0.9398362\n1769689.000\n1882976.000\n\n\nSweden\n2015\n0.9403628\n1849767.000\n1967078.000\n\n\nSweden\n2016\n0.9403919\n1939800.000\n2062757.000\n\n\n\n\n\n\n\n\nkable(\n  check_totals %>%\n  filter(GOS_ratio<(1-tolerance) | GOS_ratio>(1+tolerance)) %>%\n    select(country, year, GOS_ratio, GOS, GOS_reported)\n)\n\n\n\n\ncountry\nyear\nGOS_ratio\nGOS\nGOS_reported\n\n\n\n\nFinland\n1980\n0.9702705\n12304.000\n12681.000\n\n\nFinland\n1981\n0.9682079\n13339.000\n13777.000\n\n\nFinland\n1982\n0.9690291\n15300.000\n15789.000\n\n\nFinland\n1983\n0.9684470\n17280.000\n17843.000\n\n\nFinland\n1984\n0.9682387\n19114.000\n19741.000\n\n\nFinland\n1985\n0.9665765\n20012.000\n20704.000\n\n\nFinland\n1986\n0.9661581\n21469.000\n22221.000\n\n\nFinland\n1987\n0.9643039\n22665.000\n23504.000\n\n\nFinland\n1988\n0.9651219\n25762.000\n26693.000\n\n\nFinland\n1989\n0.9651244\n28891.000\n29935.000\n\n\nFinland\n1990\n0.9590029\n29661.000\n30929.000\n\n\nFinland\n1991\n0.9513300\n26251.000\n27594.000\n\n\nFinland\n1992\n0.9525151\n27381.000\n28746.000\n\n\nFinland\n1993\n0.9559116\n30788.000\n32208.000\n\n\nFinland\n1994\n0.9573926\n34222.000\n35745.000\n\n\nFinland\n1995\n0.9597390\n38832.000\n40461.000\n\n\nFinland\n1996\n0.9587288\n39189.000\n40876.000\n\n\nFinland\n1997\n0.9605643\n43308.000\n45086.000\n\n\nFinland\n1998\n0.9626057\n47803.000\n49660.000\n\n\nFinland\n1999\n0.9622776\n50075.000\n52038.000\n\n\nFinland\n2000\n0.9630921\n54981.000\n57088.000\n\n\nFinland\n2001\n0.9645757\n59169.000\n61342.000\n\n\nFinland\n2002\n0.9649899\n59950.000\n62125.000\n\n\nFinland\n2003\n0.9648986\n60448.000\n62647.000\n\n\nFinland\n2004\n0.9655063\n64043.000\n66331.000\n\n\nFinland\n2005\n0.9640868\n65072.000\n67496.000\n\n\nFinland\n2006\n0.9639781\n68374.000\n70929.000\n\n\nFinland\n2007\n0.9660710\n76878.000\n79578.000\n\n\nFinland\n2008\n0.9644003\n77884.000\n80759.000\n\n\nFinland\n2009\n0.9587931\n66988.000\n69867.000\n\n\nFinland\n2010\n0.9603401\n70827.000\n73752.000\n\n\nFinland\n2011\n0.9596933\n73096.000\n76166.000\n\n\nFinland\n2012\n0.9568931\n71478.000\n74698.000\n\n\nFinland\n2013\n0.9561171\n72837.000\n76180.000\n\n\nFinland\n2014\n0.9569723\n74529.000\n77880.000\n\n\nFinland\n2015\n0.9585460\n77740.000\n81102.000\n\n\nFinland\n2016\n0.9595863\n80635.000\n84031.000\n\n\nFinland\n2017\n0.9615448\n87190.000\n90677.000\n\n\nLithuania\n1995\n0.9211305\n3691.962\n4008.077\n\n\nLithuania\n1996\n0.9300294\n4663.708\n5014.581\n\n\nLithuania\n1997\n0.9327819\n5320.052\n5703.426\n\n\nLithuania\n1998\n0.9333857\n5551.919\n5948.151\n\n\nLithuania\n1999\n0.9289046\n5245.641\n5647.126\n\n\nLithuania\n2000\n0.9379672\n6169.351\n6577.364\n\n\nLithuania\n2001\n0.9435436\n6811.597\n7219.166\n\n\nLithuania\n2002\n0.9472495\n7225.861\n7628.256\n\n\nLithuania\n2003\n0.9490432\n7985.488\n8414.251\n\n\nLithuania\n2004\n0.9507352\n8668.273\n9117.442\n\n\nLithuania\n2005\n0.9529420\n9976.229\n10468.874\n\n\nLithuania\n2006\n0.9519512\n10875.344\n11424.266\n\n\nLithuania\n2007\n0.9538295\n13075.020\n13707.922\n\n\nLithuania\n2008\n0.9513412\n14158.539\n14882.713\n\n\nLithuania\n2009\n0.9420802\n11518.397\n12226.556\n\n\nLithuania\n2010\n0.9490689\n12933.096\n13627.141\n\n\nLithuania\n2011\n0.9537138\n15006.295\n15734.589\n\n\nLithuania\n2012\n0.9538587\n16266.760\n17053.637\n\n\nLithuania\n2013\n0.9543845\n16993.204\n17805.406\n\n\nLithuania\n2014\n0.9543828\n17448.469\n18282.464\n\n\nLithuania\n2015\n0.9529806\n17075.705\n17918.209\n\n\nLithuania\n2016\n0.9534190\n16975.533\n17804.904\n\n\nLithuania\n2017\n0.9561642\n18480.798\n19328.059\n\n\nSweden\n2014\n0.9689175\n1226790.000\n1266145.000\n\n\nSweden\n2015\n0.9704228\n1343464.000\n1384411.000\n\n\nSweden\n2016\n0.9703701\n1364911.000\n1406588.000"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html#coverage-across",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html#coverage-across",
    "title": "Appendix 3.B: Preparing OECD industry data",
    "section": "Coverage across",
    "text": "Coverage across"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_C_calc_factor_shares.html",
    "href": "PhD_pages/data_appendices/3_C_calc_factor_shares.html",
    "title": "Calculating housing and factor shares from industry data",
    "section": "",
    "text": "Factor shares from industry accounts\n\nImputing self-employed labour and capital income\nWe have data on the number of employed and self-employed hours are worked in each industry. We also have data on the compensation of the employed. The task is to impute the labour compensation of the self-employed and then separate this out from Gross Operating Surplus in order to arrive at a split between capital and labour income.\nThe basic strategy is to apply the same hourly rate of compensation for the employed (within each industry) to the self-employed.\n\n# main_industry_accounts_inspect<- main_industry_accounts %>%\n#   mutate(COMP_per_hour = COMP/employed_hrs,\n#          COMP_SE = COMP_per_hour * self_employed_hrs,\n#          LAB = COMP + COMP_SE)\n\nThis however creates a problem: in some cases, the total labour income implied (employed + self employed) is greater than 100% of value added. Here we show these rows grouped by industry.\n\n# kable(\n#  br<-  main_industry_accounts_inspect %>%\n#   mutate(LAB_share = LAB/VA,\n#          LAB_share_group = cut(LAB_share,\n#                        breaks=c(-100, 1, 1.1, 1.5, 2, 10, 1000000000000),\n#                        labels=c('<100%', '100-110%', '110-150%', '150-200%', '200-1,000%', '1,000+'))) %>%\n#     count(ind_code, LAB_share_group) %>%\n#     pivot_wider(names_from = LAB_share_group, values_from = n)\n# )\n\nWe take two approaches to this problem.\n\nModel 1 - imputation with no ceiling\nThe most simple approach is just to ignore the problem and allow labour income to be greater than value added. This will mean allowing capital income to be negative.\n\n# main_industry_accounts_mod1<- main_industry_accounts %>%\n#    mutate(COMP_per_hour = COMP/employed_hrs,\n#          COMP_SE = COMP_per_hour * self_employed_hrs)\n\n\n\nModel 2 - imputation with ceiling\nAn alternative approach is to cap self-employed labour income at the full value of Gross Operating Surplus. This implies that total labour incomes cannot exceed 100% of value added and total capital incomes cannot be negative.\n\n# main_industry_accounts_mod2<- main_industry_accounts %>%\n#   mutate(COMP_per_hour = COMP/employed_hrs,\n#          COMP_SE = pmin(COMP_per_hour * self_employed_hrs, GOS))\n\n\n\nCalculate labour and capital incomes\nOn each model, total labour income is equal to the sum of compensation of employees and the self-employed. Total gross (net) capital income is equal to Gross (Net) Operating Surplus minus the labour income of the self-employed.\n\n# calc_LAB_CAP<- function(df){\n#   df<- df %>%\n#     mutate(LAB = COMP + COMP_SE,\n#            CAP = GOS - COMP_SE,\n#            NCAP = NOS - COMP_SE)\n# }\n# \n# main_industry_accounts_mod1<- calc_LAB_CAP(main_industry_accounts_mod1)\n# \n# main_industry_accounts_mod2<- calc_LAB_CAP(main_industry_accounts_mod2)\n\n\n\n\nCreate economy aggregates\nFor the calculation of factor shares, we will use the sum across industries as the denominator - rather than the reported economy-wide aggregate.\nthe reason for this. The implicit assumption is that whatever is ‘missing’ from the aggregate has a factor split equal to that found in the available industry-level data.\nHere we calculate the sum across industries.\n\n# agg_across_industries<- function(df){\n#   \n#   df<- df %>%\n#     group_by(country, year) %>%\n#     summarise(VA = sum(VA, na.rm = TRUE),\n#               COMP = sum(COMP, na.rm = TRUE),\n#               GOS = sum(GOS, na.rm = TRUE),\n#               COMP_SE = sum(COMP_SE, na.rm = TRUE),\n#               LAB = sum(LAB, na.rm = TRUE),\n#               CAP = sum(CAP, na.rm = TRUE),\n#               NCAP = sum(NCAP, na.rm = TRUE)\n#               )\n#  \n# }\n# \n# agg_industry_mod1<- agg_across_industries(main_industry_accounts_mod1)\n# agg_industry_mod2<- agg_across_industries(main_industry_accounts_mod2)"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_Query_OECD_API.html",
    "href": "PhD_pages/data_appendices/3_B_Query_OECD_API.html",
    "title": "Appendix 3.B: Preparing OECD data",
    "section": "",
    "text": "library(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.1.2\n\n\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──✔ ggplot2 3.3.5      ✔ purrr   0.3.4 \n✔ tibble  3.1.6      ✔ dplyr   1.0.10\n✔ tidyr   1.2.0      ✔ stringr 1.4.0 \n✔ readr   2.1.2      ✔ forcats 0.5.1 \n\n\nWarning: package 'tidyr' was built under R version 4.1.2\n\n\nWarning: package 'readr' was built under R version 4.1.2\n\n\nWarning: package 'dplyr' was built under R version 4.1.2\n\n\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n\nlibrary(rsdmx)\nlibrary(knitr)"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_Query_OECD_API.html#queries-of-the-oecd-api",
    "href": "PhD_pages/data_appendices/3_B_Query_OECD_API.html#queries-of-the-oecd-api",
    "title": "Appendix 3.B: Preparing OECD data",
    "section": "Queries of the OECD API",
    "text": "Queries of the OECD API\nHere is where we will save the outputs of the API without any processing.\n\nfp<- \"PhD_pages/data/original/OECD/\"\n\nSet a year range for the queries below.\n\nquery_API<- FALSE\n\nstart_year<- 1950\nend_year<- 2020\n\n\n\nIndustry-level data on value added and its components\nif (query_API){\nselect_table<- \"SNA_TABLE6A_ARCHIVE\" # Value added and its components by activity, ISIC rev4\n\n\ncountries<- \"\" # leave blank for all entities\ntransactions<- \"\" # i.e. output/GOS/CoE etc. leave blank for all\nactivities<- \"\" # ISIC rev 4 industries. leave blank for all industries and sub-industries\nmeasures<- \"C+VOB\" # Prices. C = constant; VOB = indexed to OECD base year\n\nkey_query<- paste(countries,transactions,activities,measures, sep = \".\")\n\nindustry_accounts <- readSDMX(providerId = \"OECD\",\n                              resource = \"data\",\n                              flowRef = select_table,\n                              key = key_query,\n                              start = start_year,\n                              end = end_year,\n                              dsd = TRUE)\n\nindustry_accounts<- as.data.frame(industry_accounts)\n\n# Save\nsave(industry_accounts, file= paste0(fp, \"industry_accounts\", \".Rda\"))\n\n}\n\n\n\n\nIndustry-level data on employment\nif (query_API){\n\n# INDUSTRY LABOUR INPUTS DATA ----\n\n# set paramaters for API query\n\nselect_table<- \"SNA_TABLE7A_ARCHIVE\" # Labour intput by activity, ISIC rev4\n\ncountries<- \"\" # leave blank for all entities\ntransactions<- \"\" # i.e. total employment/employed/self-employed. leave blank for all\nactivities<- \"\" # ISIC rev 4 industries. leave blank for all industries and sub-industries\nmeasures<- \"HRS\" # i.e. hours/jobs/fte. HRS = hours in millions\n\nkey_query<- paste(countries,transactions,activities,measures, sep = \".\")\n\nemployment_by_industry <- readSDMX(providerId = \"OECD\",\n                              resource = \"data\",\n                              flowRef = select_table,\n                              key = key_query,\n                              start = start_year,\n                              end = end_year,\n                              dsd = TRUE)\n\nemployment_by_industry<- as.data.frame(employment_by_industry)\n\n\n# Save\nsave(employment_by_industry, file=paste0(fp, \"employment_by_industry\", \".Rda\"))\n}\n\n\n\n\nSector-level accounts (Households, Corporations, Govt etc.)\nif (query_API){\n\n# Grab full dataset\n\nsector_accounts <- readSDMX(providerId = \"OECD\",\n                        resource = \"data\",\n                        flowRef = \"SNA_TABLE14A\",\n                        key = \"..S1+S2+S11+S12+S13+S14_S15+S14+S15.C\",\n                        start = start_year,\n                        end = end_year,\n                        dsd = TRUE)\n\nsector_accounts<- as.data.frame(sector_accounts)\n\n# Save\nsave(sector_accounts,\n     file= paste0(fp, \"sector_accounts\", \".Rda\"))\n\n}\n\n\n\n#| code-fold: true\n#| code-summary: \"GDP measured in international-$\"\n\nif (query_API){\n# GDP AT PPPs ----\n\nGDP_PPP<- readSDMX(providerId = \"OECD\",\n                       resource = \"data\",\n                      flowRef = \"SNA_TABLE1\",\n                      key = \".B1_GE.VPVOB\",\n                       start = start_year,\n                      end = end_year,\n                      dsd = TRUE)\n\n\nGDP_PPP<- as.data.frame(GDP_PPP)\n\n# Save\nsave(GDP_PPP, file= paste0(fp, \"GDP_PPP\", \".Rda\"))\n\n}\n\n\n\nConsumption of rent\nif (query_API){\n# HOUSING CONSUMPTION ------\nrental_consumption <- readSDMX(providerId = \"OECD\",\n                            resource = \"data\",\n                            flowRef = \"SNA_TABLE5\",\n                            key = \".P31CP041+P31CP042.C+VOB\",\n                            start = start_year,\n                            end = end_year,\n                            dsd = TRUE)\n\nrental_consumption<- as.data.frame(rental_consumption)\n\n# Save\nsave(rental_consumption, file= paste0(fp, \"rental_consumption\", \".Rda\"))\n}\n\n\n\n\nRental price level\nif (query_API){\n# RENT PRICE -----\n# This is the CPI component for actual rentals or else the aggrgeate\n  # of actual and imputed rentals and maintenance. See paper for details.\n\nrent_price_index <- readSDMX(providerId = \"OECD\",\n                               resource = \"data\",\n                               flowRef = \"HOUSE_PRICES\",\n                               key = \".RPI\",\n                               start = start_year,\n                               end = end_year,\n                               dsd = TRUE)\n\nrent_price_index<- as.data.frame(rent_price_index)\n\n\n# Save\nsave(rent_price_index, file= paste0(fp, \"rent_price_index\", \".Rda\"))\n\n}\n\n\n\n\nCPI\nif (query_API){\n# CPI ------\n\nCPI <- readSDMX(providerId = \"OECD\",\n                             resource = \"data\",\n                             flowRef = \"PRICES_CPI\",\n                             key = \".CPALTT01.IXOB.A\",\n                             start = start_year,\n                             end = end_year,\n                             dsd = TRUE)\n\nCPI<- as.data.frame(CPI)\n\n  # the single subject-measure CPALTT01 - IXOB refers to all items\n    # CPI index. 2015=100\n\n# Save\nsave(CPI, file= paste0(fp, \"CPI\", \".Rda\"))\n}\n\n\n\n\nGDP deflator\nif (query_API){\n\n# GDP deflator ------\n\nGDP_deflator <- readSDMX(providerId = \"OECD\",\n                resource = \"data\",\n                flowRef = \"EO\",\n                key = \".PGDP.A\",\n                start = start_year,\n                end = end_year,\n                dsd = TRUE)\n\nGDP_deflator<- as.data.frame(GDP_deflator)\n\n# the single subject-measure CPALTT01 - IXOB refers to all items\n# CPI index. 2015=100\n\n# Save\nsave(GDP_deflator, file= paste0(fp, \"GDP_deflator\", \".Rda\"))\n\n}"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#sense-checking",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#sense-checking",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Sense checking",
    "text": "Sense checking\n\nHow does the sum across all industries compare to the reported economy-wide totals?\n\n\n\n\n\n\nCalculate aggregate across industries and merge with reported economy-wide totals\n\n\n\n\n\n\nagg_industries<- main_industry_accounts %>%\n    group_by(country, year) %>%\n    summarise(VA = sum(VA, na.rm = TRUE),\n              CAP = sum(CAP, na.rm = TRUE),\n              COMP = sum(COMP, na.rm = TRUE),\n              LAB = sum(LAB, na.rm = TRUE)\n              )\n\n`summarise()` has grouped output by 'country'. You can override using the\n`.groups` argument.\n\nreported_totals <- reported_totals %>%\n  rename(VA_reported = VA,\n         CAP_reported = CAP,\n         COMP_reported = COMP,\n         LAB_reported = LAB)\n\ncheck_totals<- left_join(agg_industries, reported_totals) %>%\n  mutate(VA_ratio = VA/VA_reported,\n         CAP_ratio = CAP/CAP_reported,\n         COMP_ratio = COMP/COMP_reported,\n         LAB_ratio = LAB/LAB_reported)\n\nJoining, by = c(\"country\", \"year\")\n\ntolerance<- 0.001 # tenth of a percent tolerance\n\n\n\n\nIn general the sum across industries is very close to to the reported economy-wide aggregate. In the table below we show all observations where the ratio deviates from 100% by more than 0.1%.\nNote that in Canada - which is one of the countries we will go on to use this data for - the sum across available industries falls short of the reported aggregate (for value added, Capital income, Labour income and Compensation of employees) by around 5%, with no trend over time.\n\nValue addedCapital incomeLabour incomeComp. of employees\n\n\n\nkable(\n  check_totals %>%\n  filter(VA_ratio<(1-tolerance) | VA_ratio>(1+tolerance)) %>%\n    select(country, year, VA_ratio, VA, VA_reported)\n)\n\n\n\n\ncountry\nyear\nVA_ratio\nVA\nVA_reported\n\n\n\n\nCanada\n1961\n0.9543991\n36554.77\n38301.35\n\n\nCanada\n1962\n0.9547846\n39485.90\n41355.82\n\n\nCanada\n1963\n0.9555924\n42536.19\n44512.90\n\n\nCanada\n1964\n0.9540809\n46321.35\n48550.75\n\n\nCanada\n1965\n0.9557751\n50960.06\n53318.05\n\n\nCanada\n1966\n0.9545243\n57009.31\n59725.36\n\n\nCanada\n1967\n0.9549014\n61215.29\n64106.40\n\n\nCanada\n1968\n0.9569902\n67084.63\n70099.60\n\n\nCanada\n1969\n0.9555310\n73716.55\n77147.22\n\n\nCanada\n1970\n0.9541383\n79404.27\n83220.92\n\n\nCanada\n1971\n0.9538106\n86598.66\n90792.30\n\n\nCanada\n1972\n0.9524503\n96285.28\n101092.19\n\n\nCanada\n1973\n0.9535149\n113318.33\n118842.75\n\n\nCanada\n1974\n0.9527752\n135379.95\n142090.12\n\n\nCanada\n1975\n0.9523088\n155644.81\n163439.43\n\n\nCanada\n1976\n0.9529810\n178538.01\n187346.87\n\n\nCanada\n1977\n0.9578088\n198450.96\n207192.67\n\n\nCanada\n1978\n0.9587053\n221033.93\n230554.63\n\n\nCanada\n1979\n0.9563672\n253006.84\n264549.89\n\n\nCanada\n1980\n0.9559176\n286567.15\n299782.26\n\n\nCanada\n1981\n0.9564291\n323771.29\n338520.95\n\n\nCanada\n1982\n0.9581856\n342333.67\n357272.81\n\n\nCanada\n1983\n0.9565794\n372077.81\n388966.98\n\n\nCanada\n1984\n0.9559824\n406575.80\n425296.31\n\n\nCanada\n1985\n0.9547281\n437712.09\n458467.82\n\n\nCanada\n1986\n0.9509230\n455998.68\n479532.71\n\n\nCanada\n1987\n0.9502012\n494957.24\n520897.30\n\n\nCanada\n1988\n0.9483133\n539483.59\n568887.49\n\n\nCanada\n1989\n0.9474619\n575745.24\n607671.14\n\n\nCanada\n1990\n0.9485257\n598900.51\n631401.43\n\n\nCanada\n1991\n0.9502031\n604407.22\n636082.12\n\n\nCanada\n1992\n0.9522755\n618119.84\n649097.69\n\n\nCanada\n1993\n0.9527423\n641040.30\n672837.03\n\n\nCanada\n1994\n0.9516557\n679624.86\n714149.90\n\n\nCanada\n1995\n0.9499051\n713060.93\n750665.41\n\n\nCanada\n1996\n0.9493590\n736536.23\n775824.79\n\n\nCanada\n1997\n0.9465072\n773071.20\n816762.07\n\n\nCanada\n1998\n0.9463136\n801086.93\n846534.29\n\n\nCanada\n1999\n0.9469522\n861437.06\n909694.30\n\n\nCanada\n2000\n0.9490651\n948998.89\n999930.19\n\n\nCanada\n2001\n0.9483122\n978821.76\n1032172.44\n\n\nCanada\n2002\n0.9483371\n1013549.36\n1068764.87\n\n\nCanada\n2003\n0.9478554\n1069935.45\n1128796.06\n\n\nCanada\n2004\n0.9467770\n1137368.85\n1201305.99\n\n\nCanada\n2005\n0.9461535\n1211597.10\n1280550.30\n\n\nCanada\n2006\n0.9449413\n1279784.35\n1354353.25\n\n\nCanada\n2007\n0.9452838\n1352483.77\n1430770.12\n\n\nCanada\n2008\n0.9482168\n1431074.17\n1509226.80\n\n\nPoland\n1995\n1.0013712\n297702.40\n297294.77\n\n\nPoland\n1996\n1.0013495\n372039.87\n371538.48\n\n\nPoland\n1997\n1.0012562\n455595.93\n455024.34\n\n\nPoland\n1998\n1.0012633\n534559.60\n533885.12\n\n\nPoland\n1999\n1.0012304\n587277.17\n586555.48\n\n\nPoland\n2000\n1.0012413\n663045.75\n662223.74\n\n\nPoland\n2001\n1.0012296\n696109.91\n695255.04\n\n\nPoland\n2002\n1.0011908\n715923.99\n715072.45\n\n\nPoland\n2003\n1.0011782\n745234.17\n744357.16\n\n\nPoland\n2004\n1.0011344\n822596.62\n821664.56\n\n\nPoland\n2005\n1.0011452\n867281.03\n866288.97\n\n\nPoland\n2006\n1.0011104\n932334.05\n931299.98\n\n\n\n\n\n\n\n\nkable(\n  check_totals %>%\n  filter(CAP_ratio<(1-tolerance) | CAP_ratio>(1+tolerance)) %>%\n    select(country, year, CAP_ratio, CAP, CAP_reported)\n)\n\n\n\n\ncountry\nyear\nCAP_ratio\nCAP\nCAP_reported\n\n\n\n\nCanada\n1961\n0.9625938\n14214.17\n14766.53\n\n\nCanada\n1962\n0.9644522\n15254.16\n15816.40\n\n\nCanada\n1963\n0.9657920\n16799.12\n17394.14\n\n\nCanada\n1964\n0.9625310\n18332.42\n19046.06\n\n\nCanada\n1965\n0.9653495\n19898.65\n20612.90\n\n\nCanada\n1966\n0.9619558\n21945.09\n22812.99\n\n\nCanada\n1967\n0.9618834\n22632.38\n23529.24\n\n\nCanada\n1968\n0.9668541\n25396.66\n26267.32\n\n\nCanada\n1969\n0.9650744\n27278.33\n28265.52\n\n\nCanada\n1970\n0.9628729\n29323.45\n30454.13\n\n\nCanada\n1971\n0.9628239\n31884.02\n33115.11\n\n\nCanada\n1972\n0.9607137\n35231.09\n36671.79\n\n\nCanada\n1973\n0.9643340\n43346.28\n44949.45\n\n\nCanada\n1974\n0.9630893\n51921.19\n53911.09\n\n\nCanada\n1975\n0.9647368\n58599.13\n60741.05\n\n\nCanada\n1976\n0.9658531\n66516.25\n68867.88\n\n\nCanada\n1977\n0.9746197\n74225.22\n76158.14\n\n\nCanada\n1978\n0.9771858\n86044.40\n88053.27\n\n\nCanada\n1979\n0.9715939\n101770.27\n104745.69\n\n\nCanada\n1980\n0.9710902\n116071.62\n119527.12\n\n\nCanada\n1981\n0.9692296\n127658.87\n131711.70\n\n\nCanada\n1982\n0.9748002\n134192.18\n137661.20\n\n\nCanada\n1983\n0.9710828\n152990.05\n157545.84\n\n\nCanada\n1984\n0.9697668\n169974.00\n175273.06\n\n\nCanada\n1985\n0.9674075\n181623.77\n187742.78\n\n\nCanada\n1986\n0.9618942\n183465.41\n190733.45\n\n\nCanada\n1987\n0.9648083\n201555.04\n208906.82\n\n\nCanada\n1988\n0.9633154\n216698.39\n224950.62\n\n\nCanada\n1989\n0.9629639\n229861.29\n238701.87\n\n\nCanada\n1990\n0.9647323\n234420.11\n242989.81\n\n\nCanada\n1991\n0.9667424\n229151.38\n237034.60\n\n\nCanada\n1992\n0.9711700\n234251.80\n241205.77\n\n\nCanada\n1993\n0.9701209\n249521.30\n257206.38\n\n\nCanada\n1994\n0.9662084\n278719.12\n288466.87\n\n\nCanada\n1995\n0.9653807\n298862.93\n309580.39\n\n\nCanada\n1996\n0.9656315\n311364.33\n322446.34\n\n\nCanada\n1997\n0.9601815\n326335.61\n339868.66\n\n\nCanada\n1998\n0.9598123\n331553.48\n345435.76\n\n\nCanada\n1999\n0.9610119\n365183.70\n379999.15\n\n\nCanada\n2000\n0.9643016\n411121.37\n426341.08\n\n\nCanada\n2001\n0.9630701\n418119.07\n434152.27\n\n\nCanada\n2002\n0.9618769\n429893.07\n446931.49\n\n\nCanada\n2003\n0.9585647\n458654.13\n478480.10\n\n\nCanada\n2004\n0.9560711\n491154.69\n513721.93\n\n\nCanada\n2005\n0.9552567\n529408.22\n554205.18\n\n\nCanada\n2006\n0.9511969\n551150.94\n579428.86\n\n\nCanada\n2007\n0.9510703\n582392.75\n612355.10\n\n\nCanada\n2008\n0.9571125\n628726.05\n656898.77\n\n\nPoland\n1995\n1.0048157\n85055.48\n84647.85\n\n\nPoland\n1996\n1.0048838\n103164.79\n102663.40\n\n\nPoland\n1997\n1.0044902\n127870.07\n127298.47\n\n\nPoland\n1998\n1.0046163\n146782.80\n146108.32\n\n\nPoland\n1999\n1.0046392\n156284.97\n155563.28\n\n\nPoland\n2000\n1.0042223\n195505.73\n194683.73\n\n\nPoland\n2001\n1.0046042\n186524.68\n185669.81\n\n\nPoland\n2002\n1.0040706\n210043.58\n209192.04\n\n\nPoland\n2003\n1.0038414\n229181.87\n228304.85\n\n\nPoland\n2004\n1.0033416\n279862.33\n278930.26\n\n\nPoland\n2005\n1.0032816\n303307.05\n302314.98\n\n\nPoland\n2006\n1.0029464\n351993.17\n350959.10\n\n\n\n\n\n\n\n\nkable(\n  check_totals %>%\n  filter(LAB_ratio<(1-tolerance) | LAB_ratio>(1+tolerance)) %>%\n    select(country, year, LAB_ratio, LAB, LAB_reported)\n)\n\n\n\n\ncountry\nyear\nLAB_ratio\nLAB\nLAB_reported\n\n\n\n\nCanada\n1961\n0.9492574\n22340.60\n23534.82\n\n\nCanada\n1962\n0.9487975\n24231.74\n25539.42\n\n\nCanada\n1963\n0.9490504\n25737.07\n27118.76\n\n\nCanada\n1964\n0.9486262\n27988.93\n29504.69\n\n\nCanada\n1965\n0.9497406\n31061.41\n32705.15\n\n\nCanada\n1966\n0.9499314\n35064.23\n36912.38\n\n\nCanada\n1967\n0.9508527\n38582.90\n40577.16\n\n\nCanada\n1968\n0.9510791\n41687.97\n43832.29\n\n\nCanada\n1969\n0.9500125\n46438.23\n48881.70\n\n\nCanada\n1970\n0.9490972\n50080.82\n52766.79\n\n\nCanada\n1971\n0.9486356\n54714.64\n57677.19\n\n\nCanada\n1972\n0.9477462\n61054.19\n64420.40\n\n\nCanada\n1973\n0.9469336\n69972.05\n73893.30\n\n\nCanada\n1974\n0.9464694\n83458.76\n88179.03\n\n\nCanada\n1975\n0.9449583\n97045.68\n102698.37\n\n\nCanada\n1976\n0.9454990\n112021.76\n118478.99\n\n\nCanada\n1977\n0.9480382\n124225.74\n131034.53\n\n\nCanada\n1978\n0.9472859\n134989.53\n142501.36\n\n\nCanada\n1979\n0.9463867\n151236.56\n159804.20\n\n\nCanada\n1980\n0.9458567\n170495.53\n180255.13\n\n\nCanada\n1981\n0.9482768\n196112.42\n206809.25\n\n\nCanada\n1982\n0.9477709\n208141.49\n219611.60\n\n\nCanada\n1983\n0.9467059\n219087.76\n231421.14\n\n\nCanada\n1984\n0.9463192\n236601.80\n250023.25\n\n\nCanada\n1985\n0.9459351\n256088.31\n270725.03\n\n\nCanada\n1986\n0.9436772\n272533.27\n288799.26\n\n\nCanada\n1987\n0.9404204\n293402.20\n311990.48\n\n\nCanada\n1988\n0.9385013\n322785.20\n343936.87\n\n\nCanada\n1989\n0.9374329\n345883.95\n368969.27\n\n\nCanada\n1990\n0.9383870\n364480.40\n388411.62\n\n\nCanada\n1991\n0.9403788\n375255.84\n399047.52\n\n\nCanada\n1992\n0.9411023\n383868.04\n407891.91\n\n\nCanada\n1993\n0.9419878\n391519.00\n415630.65\n\n\nCanada\n1994\n0.9417940\n400905.73\n425683.03\n\n\nCanada\n1995\n0.9390434\n414197.99\n441085.02\n\n\nCanada\n1996\n0.9377859\n425171.90\n453378.45\n\n\nCanada\n1997\n0.9367619\n446735.59\n476893.41\n\n\nCanada\n1998\n0.9370082\n469533.45\n501098.53\n\n\nCanada\n1999\n0.9368660\n496253.36\n529695.15\n\n\nCanada\n2000\n0.9377401\n537877.52\n573589.12\n\n\nCanada\n2001\n0.9375983\n560702.70\n598020.17\n\n\nCanada\n2002\n0.9386056\n583656.29\n621833.37\n\n\nCanada\n2003\n0.9399759\n611281.32\n650315.96\n\n\nCanada\n2004\n0.9398330\n646214.16\n687584.06\n\n\nCanada\n2005\n0.9392076\n682188.88\n726345.12\n\n\nCanada\n2006\n0.9402639\n728633.42\n774924.39\n\n\nCanada\n2007\n0.9409542\n770091.02\n818415.02\n\n\nCanada\n2008\n0.9413607\n802348.13\n852328.04\n\n\nCanada\n2009\n0.9433312\n800662.61\n848760.89\n\n\nCanada\n2010\n0.9428523\n833166.42\n883665.92\n\n\n\n\n\n\n\n\nkable(\n  check_totals %>%\n  filter(COMP_ratio<(1-tolerance) | COMP_ratio>(1+tolerance)) %>%\n    select(country, year, COMP_ratio, COMP, COMP_reported)\n)\n\n\n\n\ncountry\nyear\nCOMP_ratio\nCOMP\nCOMP_reported\n\n\n\n\nCanada\n1961\n0.9506017\n19985.85\n21024.42\n\n\nCanada\n1962\n0.9494674\n21473.99\n22616.88\n\n\nCanada\n1963\n0.9494831\n22936.78\n24157.12\n\n\nCanada\n1964\n0.9487159\n25069.38\n26424.54\n\n\nCanada\n1965\n0.9494484\n27987.38\n29477.51\n\n\nCanada\n1966\n0.9495458\n31657.88\n33340.02\n\n\nCanada\n1967\n0.9505299\n35059.18\n36883.83\n\n\nCanada\n1968\n0.9505743\n38129.53\n40112.10\n\n\nCanada\n1969\n0.9492751\n42595.70\n44871.82\n\n\nCanada\n1970\n0.9481144\n46130.33\n48654.82\n\n\nCanada\n1971\n0.9475112\n50558.15\n53358.89\n\n\nCanada\n1972\n0.9464852\n56699.65\n59905.48\n\n\nCanada\n1973\n0.9456647\n65274.22\n69024.70\n\n\nCanada\n1974\n0.9450470\n77799.49\n82323.40\n\n\nCanada\n1975\n0.9435146\n90597.26\n96021.04\n\n\nCanada\n1976\n0.9440721\n104884.25\n111097.71\n\n\nCanada\n1977\n0.9465868\n116473.29\n123045.55\n\n\nCanada\n1978\n0.9457982\n126610.80\n133866.61\n\n\nCanada\n1979\n0.9447934\n142259.05\n150571.60\n\n\nCanada\n1980\n0.9443936\n160774.24\n170240.72\n\n\nCanada\n1981\n0.9470241\n185559.31\n195939.38\n\n\nCanada\n1982\n0.9465360\n197310.54\n208455.40\n\n\nCanada\n1983\n0.9457760\n207924.39\n219845.28\n\n\nCanada\n1984\n0.9453599\n223843.06\n236780.79\n\n\nCanada\n1985\n0.9447926\n241222.84\n255318.30\n\n\nCanada\n1986\n0.9423278\n256535.84\n272236.29\n\n\nCanada\n1987\n0.9392030\n277929.04\n295920.09\n\n\nCanada\n1988\n0.9369549\n304283.68\n324758.08\n\n\nCanada\n1989\n0.9358756\n327411.18\n349844.77\n\n\nCanada\n1990\n0.9370564\n345416.63\n368618.81\n\n\nCanada\n1991\n0.9389252\n355717.18\n378855.73\n\n\nCanada\n1992\n0.9397520\n364015.87\n387353.13\n\n\nCanada\n1993\n0.9406796\n370977.70\n394371.99\n\n\nCanada\n1994\n0.9406104\n380468.41\n404490.99\n\n\nCanada\n1995\n0.9377237\n392340.83\n418397.05\n\n\nCanada\n1996\n0.9361804\n401079.16\n428420.81\n\n\nCanada\n1997\n0.9349962\n423542.69\n452988.68\n\n\nCanada\n1998\n0.9353307\n444520.00\n475254.40\n\n\nCanada\n1999\n0.9352534\n470128.87\n502675.39\n\n\nCanada\n2000\n0.9361946\n510425.87\n545213.41\n\n\nCanada\n2001\n0.9359353\n533592.62\n570116.98\n\n\nCanada\n2002\n0.9369685\n556150.72\n593563.93\n\n\nCanada\n2003\n0.9382564\n582829.03\n621183.09\n\n\nCanada\n2004\n0.9382860\n616881.40\n657455.63\n\n\nCanada\n2005\n0.9376588\n651962.89\n695309.27\n\n\nCanada\n2006\n0.9387380\n698191.17\n743755.11\n\n\nCanada\n2007\n0.9394022\n736970.29\n784509.90\n\n\nCanada\n2008\n0.9396815\n769147.51\n818519.38\n\n\nCanada\n2009\n0.9417985\n767248.81\n814663.43\n\n\nCanada\n2010\n0.9412869\n799692.50\n849573.60"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_B_prepare_OECD.html#save-cleaned-data",
    "href": "PhD_pages/data_appendices/3_B_prepare_OECD.html#save-cleaned-data",
    "title": "Appendix 3.B: Preparing OECD industry data",
    "section": "Save cleaned data",
    "text": "Save cleaned data\n\n\n\n\n\n\nWrite cleaned data to csv\n\n\n\n\n\n\nfp<- \"PhD_pages/data/clean/\"\n\nwrite.csv(main_industry_accounts, paste0(fp, \"OECD_gen_income_by_industry\", \".csv\"))"
  },
  {
    "objectID": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#save-cleaned-data",
    "href": "PhD_pages/data_appendices/3_A_prepare_KLEMS.html#save-cleaned-data",
    "title": "Appendix 3.A: Preparing EU KLEMS industry data",
    "section": "Save cleaned data",
    "text": "Save cleaned data\n\n\n\n\n\n\nWrite cleaned data to csv\n\n\n\n\n\n\nfp<- \"PhD_pages/data/clean/\"\n\nwrite.csv(main_industry_accounts, paste0(fp, \"KLEMS_gen_income_by_industry\", \".csv\"))"
  }
]